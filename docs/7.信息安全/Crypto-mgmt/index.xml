<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Crypto mgmt on 断念梦的站点</title><link>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/</link><description>Recent content in Crypto mgmt on 断念梦的站点</description><generator>Hugo</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/index.xml" rel="self" type="application/rss+xml"/><item><title>ACME</title><link>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/ACME/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/ACME/</guid><description>概述 参考：
RFC 8555, Automatic Certificate Management Environment (ACME) RFC 8737, Automated Certificate Management Environment (ACME) TLS Application‑Layer Protocol Negotiation (ALPN) Challenge Extension RFC 8738, Automated Certificate Management Environment (ACME) IP Identifier Validation Extension Wiki, ACME Automatic Certificate Management Environment(自动证书管理环境，简称 ACME) 是一种通信协议，用于自动化证书颁发机构与其用户的 Web 服务器之间的交互，允许以非常低的成本自动部署 PKI。它是由 ISRG 为他们的 Let&amp;rsquo;s Encrypt 服务设计的。
ACME 服务提供商 支持免费或低成本基于 ACME 的证书服务的提供商包括 Let&amp;rsquo;s Encrypt、Buypass Go SSL、ZeroSSL 和 SSL.com。许多其他证书颁发机构和软件供应商提供 ACME 服务，作为 Entrust 和 DigiCert 等付费 PKI 解决方案的一部分。
ACME 的实现 想要实现自动签证书，要经过如下几个步骤</description></item><item><title>CFSSL</title><link>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/CFSSL/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/CFSSL/</guid><description>概述 参考：
GitHub 项目,cloudflare/cfssll 官网 公众号，白话文说CA原理 · 掌握PKI/TLS瑞士军刀之cfssl cfssl 与 openssl 类似，不过是使用 go 编写，由 CloudFlare 开源的一款 PKI/TLS 工具。主要程序有 cfssl，是 CFSSL 的命令行工具，cfssljson 用来从 cfssl 程序获取 JSON 输出，并将证书，密钥，CSR 和 bundle 写入文件中。
使用 CFSSL 创建 CA 认证步骤 创建认证中心(CA) cfssl 可以创建一个获取和操作证书的内部认证中心。运行认证中心需要一个 CA 证书和相应的 CA 私钥。任何知道私钥的人都可以充当 CA 来颁发证书。因此，私钥的保护至关重要，这里我们以 k8s 所需的证书来实践一下：
cfssl print-defaults config &amp;gt; config.json # 默认证书策略配置模板 cfssl print-defaults csr &amp;gt; csr.json #默认csr请求模板 结合自身的要求，修改证书请求文件csr.json,证书 10 年
{ &amp;#34;CN&amp;#34;: &amp;#34;kubernetes&amp;#34;, &amp;#34;key&amp;#34;: { &amp;#34;algo&amp;#34;: &amp;#34;rsa&amp;#34;, &amp;#34;size&amp;#34;: 2048 }, &amp;#34;names&amp;#34;: [ { &amp;#34;C&amp;#34;: &amp;#34;CN&amp;#34;, &amp;#34;ST&amp;#34;: &amp;#34;BeiJing&amp;#34;, &amp;#34;L&amp;#34;: &amp;#34;BeiJing&amp;#34;, &amp;#34;O&amp;#34;: &amp;#34;k8s&amp;#34;, &amp;#34;OU&amp;#34;: &amp;#34;System&amp;#34; } ], &amp;#34;ca&amp;#34;: { &amp;#34;expiry&amp;#34;: &amp;#34;87600h&amp;#34; } } 知识点:</description></item><item><title>系统证书管理</title><link>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/%E7%B3%BB%E7%BB%9F%E8%AF%81%E4%B9%A6%E7%AE%A1%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/%E7%B3%BB%E7%BB%9F%E8%AF%81%E4%B9%A6%E7%AE%A1%E7%90%86/</guid><description>概述 参考：
SSL 证书缓存清理 Windows certutil -delstore my &amp;quot;${CertificateName}&amp;quot;
Linux update-ca-certificates --fresh</description></item><item><title>自建CA</title><link>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/%E8%87%AA%E5%BB%BACA/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/7.%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/Crypto-mgmt/%E8%87%AA%E5%BB%BACA/</guid><description>概述 参考：
主要依赖 genrsa, req, x509 这三个子命令
0. 设定变量 # CA 相关信息 export CA_KEY=&amp;#34;ca.key&amp;#34; export CA_CRT=&amp;#34;ca.crt&amp;#34; export CA_COMMON_NAME=&amp;#34;DesistDaydream-CA&amp;#34; # 需要签发的证书的相关信息 export SSL_COMMON_NAME=&amp;#34;desistdaydream.it&amp;#34; export SSL_KEY=${SSL_COMMON_NAME}.key export SSL_CSR=${SSL_COMMON_NAME}.csr export SSL_CRT=${SSL_COMMON_NAME}.crt 1. 创建根 CA 私钥 首先，创建一个强 RSA 私钥用于你的根 CA：
openssl genrsa -out ${CA_KEY} 4096 2. 创建根 CA 证书 使用生成的私钥创建自签名的根 CA 证书：
openssl req -x509 -new -nodes -key ${CA_KEY} -sha256 -days 3650 -out ${CA_CRT} \ -subj &amp;#34;/C=CN/CN=${CA_COMMON_NAME}&amp;#34; 在提示时需填写各项信息，其中最重要的是 Common Name (CN)，可以设为 &amp;ldquo;DesistDaydream-CA&amp;rdquo; 或类似名称。
3. 创建域名私钥 为你的通配符域名创建一个私钥：</description></item></channel></rss>