<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦 – virsh 命令行工具</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</link><description>Recent content in virsh 命令行工具 on 断念梦</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: virsh 命令行工具</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://libvirt.org/manpages/virsh.html">官方文档，手册-virsh&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst">GitHub 位置，libvirt/libvirt/docs/manpages/virsh.rst&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>virsh 是 libvirt 核心发行版的一部分，通过 &lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/Libvirt%20API/Libvirt%20API.md">Libvirt API&lt;/a> 管理虚拟机的命令行工具。&lt;/p>
&lt;p>virsh 有两种使用方式&lt;/p>
&lt;ul>
&lt;li>virsh + 子命令&lt;/li>
&lt;li>交互式 shell。不加任何子命令时，进入交互式 shell&lt;/li>
&lt;/ul>
&lt;h1 id="syntax语法">Syntax(语法)&lt;/h1>
&lt;p>&lt;strong>virsh [OPTION]&amp;hellip; [COMMAND_STRING]&lt;/strong>&lt;/p>
&lt;p>&lt;strong>virsh [OPTION]&amp;hellip; COMMAND [ARG]&amp;hellip;&lt;/strong>&lt;/p>
&lt;p>注意：&lt;/p>
&lt;ul>
&lt;li>DOMAIN 的说明：libvirt 使用 domain 代指 VM，所有关于 domain 的描述都可以理解为 VM 或者 instance&lt;/li>
&lt;li>当指定要操作某个特定 DOMAIN 的时候，可以使用该 DOMAIN 的 ID 号、NAME、UUID，三者任选其一&lt;/li>
&lt;li>想要查看 VM 的信息，可以在 virsh 的 shell 中使用 help 命令，找 list 和 info 的关键字，help 中是以不同类型的命令进行分类的比如 DOMAIN 相关的，监控信息，网络存储等&lt;/li>
&lt;/ul>
&lt;h2 id="options">OPTIONS&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>-c, &amp;ndash;connect=URI&lt;/strong> # 通过 URI 连接远程 Hypervisor&lt;/li>
&lt;li>-d, &amp;ndash;debug=NUM # debug level [0-4]&lt;/li>
&lt;li>-e, &amp;ndash;escape &amp;lt;char&amp;gt; # set escape sequence for console&lt;/li>
&lt;li>-k, &amp;ndash;keepalive-interval=NUM # keepalive interval in seconds, 0 for disable&lt;/li>
&lt;li>-K, &amp;ndash;keepalive-count=NUM # number of possible missed keepalive messages&lt;/li>
&lt;li>-l, &amp;ndash;log=FILE output logging to file&lt;/li>
&lt;li>&lt;strong>-q, &amp;ndash;quiet&lt;/strong> # 安静模式。输出时没有标题&lt;/li>
&lt;li>-r, &amp;ndash;readonly # connect readonly&lt;/li>
&lt;li>-t, &amp;ndash;timing # print timing information&lt;/li>
&lt;/ul>
&lt;h1 id="command">COMMAND&lt;/h1>
&lt;p>Note：其中各种命令用法，详见 virsh 命令行工具目录下每个子命令的专题文章&lt;/p>
&lt;h2 id="generic-commandsdocs10云原生virtualization20implementation虚拟化管理libvirtvirsh20命令行工具通用命令md通用命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4.md">Generic commands&lt;/a>(通用命令)&lt;/h2>
&lt;p>通用命令与 Domain 无关&lt;/p>
&lt;h2 id="domain-commandsdocs10云原生virtualization20implementation虚拟化管理libvirtvirsh20命令行工具domain20命令md虚拟机命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Domain%20%E5%91%BD%E4%BB%A4.md">Domain commands&lt;/a>(虚拟机命令)&lt;/h2>
&lt;p>这部分命令直接操作 Domain，正如先前所述，大多数命令将 Domain 作为第一个参数。Domain 可以指定为短整数、名称或完整的 UUID。&lt;/p>
&lt;h2 id="device-commandsdocs10云原生virtualization20implementation虚拟化管理libvirtvirsh20命令行工具device20命令md设备命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Device%20%E5%91%BD%E4%BB%A4.md">Device commands&lt;/a>(设备命令)&lt;/h2>
&lt;p>Device 命令用以控制与 Domains 关联的设备。The domain can be specified as a short integer, a name or a full UUID. To better understand the values allowed as options for the command reading the documentation at &lt;a href="https://libvirt.org/formatdomain.html">https://libvirt.org/formatdomain.html&lt;/a> on the format of the device sections to get the most accurate set of accepted values.&lt;/p>
&lt;h2 id="nodedev-commandshttpslibvirtorgmanpagesvirshhtmlnodedev-commands">&lt;a href="https://libvirt.org/manpages/virsh.html#nodedev-commands">NodeDev commands&lt;/a>()&lt;/h2>
&lt;h2 id="virtual-network-commandsdocs10云原生virtualization20implementation虚拟化管理libvirtvirsh20命令行工具virtual20network20命令md虚拟网络命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Virtual%20Network%20%E5%91%BD%E4%BB%A4.md">Virtual Network commands&lt;/a>(虚拟网络命令)&lt;/h2>
&lt;p>The following commands manipulate networks. Libvirt has the capability to define virtual networks which can then be used by domains and linked to actual network devices. For more detailed information about this feature see the documentation at &lt;a href="https://libvirt.org/formatnetwork.html">https://libvirt.org/formatnetwork.html&lt;/a> . Many of the commands for virtual networks are similar to the ones used for domains, but the way to name a virtual network is either by its name or UUID.&lt;/p>
&lt;h2 id="network-port-commands">NETWORK PORT COMMANDS&lt;/h2>
&lt;h2 id="interface-commandsdocs10云原生virtualization20implementation虚拟化管理libvirtvirsh20命令行工具interface20命令md接口命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Interface%20%E5%91%BD%E4%BB%A4.md">Interface commands&lt;/a>(接口命令)&lt;/h2>
&lt;p>The following commands manipulate host interfaces. Often, these host interfaces can then be used by name within domain &amp;lt;interface&amp;gt; elements (such as a system-created bridge interface), but there is no requirement that host interfaces be tied to any particular guest configuration XML at all.
Many of the commands for host interfaces are similar to the ones used for domains, and the way to name an interface is either by its name or its MAC address. However, using a MAC address for an &lt;em>iface&lt;/em> argument only works when that address is unique (if an interface and a bridge share the same MAC address, which is often the case, then using that MAC address results in an error due to ambiguity, and you must resort to a name instead).&lt;/p>
&lt;h2 id="storage-pool-commands">STORAGE POOL COMMANDS&lt;/h2>
&lt;ul>
&lt;li>一个 storage pool 包括很多 storage volume，storage volume 有单独的一组命令进行管理&lt;/li>
&lt;li>storage pool 就是存放 s torage volume 的地方，是一个目录，详见 1.5.Storage Virtualization.note 中的 kvm 的存储虚拟化&lt;/li>
&lt;li>存储池默认目录为/var/lib/libvirt/images/，这个目录会存放所有 VM 的文件，通过 libvirt 创建完虚拟机后生成的 image 都会放在 default 目录下&lt;/li>
&lt;/ul>
&lt;h2 id="volume-commands">VOLUME COMMANDS&lt;/h2>
&lt;ul>
&lt;li>存储卷就是 VM 上的一块物理硬盘，一个物理硬盘是通过一个文件的形式表现的，修改这个文件，就可以修改这个硬盘的内容。详见 1.5.Storage Virtualization.note 中的 kvm 的存储虚拟化&lt;/li>
&lt;li>storage volume 管理命令可以调整硬盘大小、类型等，还能增删改查指定的硬盘&lt;/li>
&lt;/ul>
&lt;h2 id="secret-commands">SECRET COMMANDS&lt;/h2>
&lt;h2 id="snapshot-commands快照命令">Snapshot commands(快照命令)&lt;/h2>
&lt;p>The following commands manipulate domain snapshots. Snapshots take the disk, memory, and device state of a domain at a point-of-time, and save it for future use. They have many uses, from saving a &amp;ldquo;clean&amp;rdquo; copy of an OS image to saving a domain&amp;rsquo;s state before a potentially destructive operation. Snapshots are identified with a unique name. See &lt;a href="https://libvirt.org/formatsnapshot.html">https://libvirt.org/formatsnapshot.html&lt;/a> for documentation of the XML format used to represent properties of snapshots.&lt;/p>
&lt;h2 id="checkpoint-commands">CHECKPOINT COMMANDS&lt;/h2>
&lt;h2 id="nwfilter-commands">NWFILTER COMMANDS&lt;/h2>
&lt;h2 id="nwfilter-binding-commands">NWFILTER BINDING COMMANDS&lt;/h2>
&lt;h2 id="hypervisor-specific-commands">HYPERVISOR-SPECIFIC COMMANDS&lt;/h2></description></item><item><title>Docs: Device 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Device-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Device-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#device-commands">官方 Manual(手册)，DEVICE COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>注意：由于 Libvirt 适用于多种虚拟化后端，所以每个选项可用的值会分别适用于多种虚拟化后端，但是个人一般只用 QEMU/KVM，所以笔记中的选项一般也只记录 QEMU/KVM 相关的值。&lt;/p>
&lt;p>这部分命令主要是用来为虚拟机添加/移除各种设备，比如 网卡、硬盘 等等。这些添加/移除的命令有一些通用的选项可用，为了记笔记方便，在开头这统一记录一下，添加设备的命令通常以 &lt;strong>attach&lt;/strong> 开头，移除设备的命令通常以 &lt;strong>detach&lt;/strong> 开头。&lt;/p>
&lt;p>生效策略配置选项，用于配置添加/移除的行为在什么时候生效：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;config&lt;/strong> # 影响已关机的 Domain，将会在下一次启动时添加/移除设备&lt;/li>
&lt;li>&lt;strong>&amp;ndash;live&lt;/strong> # 影响运行中的 Domain，立刻为虚拟机添加/移除设备&lt;/li>
&lt;li>&lt;strong>&amp;ndash;current&lt;/strong> # 等效于 &amp;ndash;live 或 &amp;ndash;config，具体取决于虚拟机当前的状态&lt;/li>
&lt;li>&lt;strong>&amp;ndash;persistent&lt;/strong> # 处于兼容的目的，该命令对关机或者开机状态的虚拟机都有效，相当于为当前运行中的虚拟机以及以后启动后的虚拟机都添加/移除设备。&lt;/li>
&lt;/ul>
&lt;h1 id="attach-device---attach-device-from-an-xml-file">attach-device - attach device from an XML file&lt;/h1>
&lt;h1 id="添加与移除磁盘设备">添加与移除磁盘设备&lt;/h1>
&lt;p>在 Libvirt 的&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.md">最佳实践&lt;/a>中有命令使用示例&lt;/p>
&lt;h2 id="attach-disk">attach-disk&lt;/h2>
&lt;p>将一个新的磁盘设备添加到 domian 中&lt;/p>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#attach-disk">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#attach-disk&lt;/a>&lt;/p>
&lt;h3 id="syntax语法">Syntax(语法)&lt;/h3>
&lt;p>&lt;strong>virsh attach-disk DOMAIN SOURCE TARGET [OPTIONS]&lt;/strong>&lt;/p>
&lt;p>将 SOURCE 添加到 DOMAIN 中，作为 TARGET 磁盘设备。&lt;/p>
&lt;ul>
&lt;li>SOURCE 是本地的 qcow2、raw 这种格式的文件。如果指定了 &amp;ndash;source-protocol 选项，则 SOURCE 可以是网络磁盘。&lt;/li>
&lt;li>TARGET 是虚拟机中的设备，比如 vdb、vdc 这种。
&lt;ul>
&lt;li>可以使用 &amp;ndash;target 选项指定 TARGET&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;driver DRIVER&lt;/strong> # 指定要使用的磁盘驱动程序。
&lt;ul>
&lt;li>可用的值有：对于 QEMU 来说可以是 qemu；对于 Xen 来说可以是 file、tap、phy&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>&amp;ndash;subdriver STRING&lt;/strong> # 为 &amp;ndash;driver 选项提供更多的详细信息。
&lt;ul>
&lt;li>可用的值有：对于 QEMU 来说可以是 raw、qcow2；对于 Xen 来说可以是 aio&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>&amp;ndash;target STING&lt;/strong> # 指定暴露给操作系统的的总线或设备。如果是硬盘的话，通常的值是 vdb、vdc、vdd 这种。&lt;/li>
&lt;li>&lt;strong>&amp;ndash;targetbus STRING&lt;/strong> # 指定要模拟的设备类型。&lt;code>默认值：从设备名称的样式中推断出总线类型&lt;/code>
&lt;ul>
&lt;li>可用的值：virtio、sata、scsi、usb&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>&amp;ndash;cache STRING&lt;/strong> # 可用的值：none&lt;/li>
&lt;/ul>
&lt;h2 id="detach-disk">detach-disk&lt;/h2>
&lt;p>将虚拟机的磁盘设备与虚拟机分离&lt;/p>
&lt;h3 id="syntax语法-1">Syntax(语法)&lt;/h3>
&lt;p>&lt;strong>detach-disk DOMAIN TARGET [OPTIONS]&lt;/strong>&lt;/p>
&lt;h1 id="attach-interface---附加网络接口ie给-vm-添加一个网卡">attach-interface - 附加网络接口(i.e.给 VM 添加一个网卡)&lt;/h1>
&lt;h1 id="detach-device---detach-device-from-an-xml-file">detach-device - detach device from an XML file&lt;/h1>
&lt;h1 id="detach-interface---分离网络接口ie删除-vm-的一个网卡">detach-interface - 分离网络接口(i.e.删除 VM 的一个网卡)&lt;/h1>
&lt;h1 id="update-device---update-device-from-an-xml-file">update-device - update device from an XML file&lt;/h1>
&lt;h1 id="update-memory-device">update-memory-device&lt;/h1>
&lt;h1 id="change-media---change-media-of-cd-or-floppy-drive">change-media - Change media of CD or floppy drive&lt;/h1></description></item><item><title>Docs: Domain 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Domain-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Domain-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domain-commands">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domain-commands&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>可以为虚拟机重命名、查看虚拟机信息，状态、等等&lt;/p>
&lt;h2 id="简单的子命令">简单的子命令&lt;/h2>
&lt;p>&lt;strong>autostart&lt;/strong> # 指定 Domain 是否在开机后自启动，可以使用 &amp;ndash;disable 选项关闭 Domain 的开机自启功能。&lt;/p>
&lt;h1 id="console--连接到-vm-的终端">console # 连接到 VM 的终端&lt;/h1>
&lt;p>console 用于把虚拟机屏幕上的信息投射到宿主机上，可以直接在宿主机的终端上操作虚拟机。
注意：如果无法通过 console 连接到 VM，则需要在 VM 上启动 serial-getty@.service 服务并在开启服务的时候指定一个终端。e.g.&lt;strong>systemctl enable &lt;a href="mailto:serial-getty@ttyS0.service">serial-getty@ttyS0.service&lt;/a> &amp;ndash;now&lt;/strong>&lt;/p>
&lt;h1 id="cpu-stats--显示-domain-的-cpu-统计信息">cpu-stats # 显示 Domain 的 CPU 统计信息&lt;/h1>
&lt;p>默认显示所有 CPU 的统计信息和总数。仅使用 &amp;ndash;total 获取总统计信息，仅使用 start 获取从 &amp;ndash;start 开始的 CPU 的 per-cpu 统计信息，仅使用 &amp;ndash;count CPU 的统计信息。&lt;/p>
&lt;h1 id="create--从一个-xml-文件里创建一个-domain">create # 从一个 XML 文件里创建一个 domain&lt;/h1>
&lt;p>通过 XML 直接启动一台 VM，VM 关闭后，virsh list 列表中该 VM 会消失。&lt;/p>
&lt;h1 id="define--从一个-xml-文件里定义一个-domain仅定义不启动">define # 从一个 XML 文件里定义一个 domain(仅定义不启动)&lt;/h1>
&lt;p>通过 XML 文件创建一台 VM。&lt;/p>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>define &amp;lt;file&amp;gt; [&amp;ndash;validate]&lt;/strong>&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh define cirros.xml # 通过 cirros.xml 来定义一个 VM 的属性，如果 VM 不存在则创建&lt;/li>
&lt;/ul>
&lt;h1 id="desc--显示或者设置一个-domain-的-description-或-title">desc # 显示或者设置一个 domain 的 description 或 title&lt;/h1>
&lt;p>&lt;strong>desc &amp;lt;domain&amp;gt; [&amp;ndash;live] [&amp;ndash;config] [&amp;ndash;current] [&amp;ndash;title] [&amp;ndash;edit] [[&amp;ndash;new-desc] &amp;lt;STRING&amp;gt;]&amp;hellip;&lt;/strong>&lt;/p>
&lt;p>Note：&lt;/p>
&lt;ul>
&lt;li>当不指定&amp;ndash;title 时，desc 命令默认修改或查看 domain 的 description&lt;/li>
&lt;li>description 和 title 有三种状态，live、config、current，当修改或者显示的时候，默认为 live 状态&lt;/li>
&lt;li>config 的状态指的是，修改或查看 domain 的 xml 文件。&lt;/li>
&lt;/ul>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>[&amp;ndash;domain] &amp;lt;string&amp;gt; domain name, id or uuid&lt;/li>
&lt;li>&amp;ndash;live # 指定当前操作为，运行时状态&lt;/li>
&lt;li>&amp;ndash;config # 指定当前操作为，持久配置状态&lt;/li>
&lt;li>&amp;ndash;current # 指定当前操作为，当前状态&lt;/li>
&lt;li>&amp;ndash;title [STRING] # 修改或显示 title。指定 STRING 时则会将 domain 的 title 修改为 STRING，不指定则显示 domain 的 title&lt;/li>
&lt;li>&amp;ndash;edit # 打开一个编辑器来修改 description 或 title&lt;/li>
&lt;li>[&amp;ndash;new-desc] &amp;lt;STRING&amp;gt; message&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh desc lchTest # 显示 lchTest 这台虚拟机的当前状态的描述信息&lt;/li>
&lt;li>virsh desc lchTest 10.10.100.200 &amp;ndash;config # 为 lchTest 这台 VM 设定描述信息为 10.10.100.200，并将信息写入到 xml 文件中&lt;/li>
&lt;li>virsh desc lchTest &amp;ndash;title 10.10.100.200 &amp;ndash;config # 指定 lchTest 这台虚拟机的 title 为 10.10.100.200，并将该信息写入到 xml 配置中&lt;/li>
&lt;/ul>
&lt;h1 id="destroy--摧毁一个-domain类似于直接拔掉电源">destroy # 摧毁一个 domain，类似于直接拔掉电源&lt;/h1>
&lt;h1 id="domblklist--列出-domain-的所有-blocks块设备">domblklist # 列出 domain 的所有 blocks(块设备)&lt;/h1>
&lt;p>列出 Domain 的所有 blocks(块设备)。i.e.指定 domain 所使用的磁盘文件&lt;/p>
&lt;h2 id="syntax语法-1">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>domblklist &amp;lt;DOMAIN&amp;gt; [OPTIONS]&lt;/strong>
OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;inactive #&lt;/li>
&lt;li>&amp;ndash;details # 列出的信息还包括类型和设备&lt;/li>
&lt;/ul>
&lt;h1 id="domifaddr--从正在运行的-domain-中获取网络接口的-ip-地址">domifaddr # 从正在运行的 domain 中获取网络接口的 IP 地址&lt;/h1>
&lt;p>&lt;strong>domifaddr &amp;lt;domain&amp;gt; [&amp;ndash;interface &amp;lt;string&amp;gt;] [&amp;ndash;full] [&amp;ndash;source &amp;lt;string&amp;gt;]&lt;/strong>&lt;/p>
&lt;p>该信息包括：Name MAC address Protocol Address&lt;/p>
&lt;h1 id="domiflist--列出-domain-所有的虚拟接口">domiflist # 列出 domain 所有的虚拟接口&lt;/h1>
&lt;p>&lt;strong>domiflist &amp;lt;domain&amp;gt; [&amp;ndash;inactive]&lt;/strong>&lt;/p>
&lt;p>该信息包括：Interface Type Source Model MAC&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh domiflist testvm # 列出名为 testvm 这台虚拟机的虚拟接口信息&lt;/li>
&lt;/ul>
&lt;h1 id="domifstat--获取指定的-domain-的网络接口状态信息">domifstat # 获取指定的 domain 的网络接口状态信息&lt;/h1>
&lt;p>domifstat &amp;lt;domain&amp;gt; &amp;lt;interface&amp;gt;&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;h1 id="dominfo--返回指定-domain-的基本信息包括该-domain-的-nameuuidmemcpu-等">dominfo # 返回指定 domain 的基本信息，包括该 domain 的 name、uuid、mem、cpu 等&lt;/h1>
&lt;h1 id="dommemstat--获取指定-domain-的内存状态信息">dommemstat # 获取指定 domain 的内存状态信息&lt;/h1>
&lt;p>&lt;a href="https://libvirt.org/manpages/virsh.html#dommemstat">https://libvirt.org/manpages/virsh.html#dommemstat&lt;/a>&lt;/p>
&lt;p>dommemstat 会获取正在运行的 domain 的内存统计信息。可以获取到如下信息：&lt;/p>
&lt;ul>
&lt;li>swap_in - The amount of data read from swap space (in KiB)&lt;/li>
&lt;li>swap_out - The amount of memory written out to swap space (in KiB)&lt;/li>
&lt;li>major_fault - The number of page faults where disk IO was required&lt;/li>
&lt;li>minor_fault - The number of other page faults&lt;/li>
&lt;li>unused - The amount of memory left unused by the system (in KiB)&lt;/li>
&lt;li>available - The amount of usable memory as seen by the domain (in KiB)&lt;/li>
&lt;li>actual # 当前 Current balloon value (in KiB)&lt;/li>
&lt;li>rss - Resident Set Size of the running domain&amp;rsquo;s process (in KiB)&lt;/li>
&lt;li>usable - The amount of memory which can be reclaimed by balloon without causing host swapping (in KiB)&lt;/li>
&lt;li>last-update - Timestamp of the last update of statistics (in seconds)&lt;/li>
&lt;li>disk_caches - The amount of memory that can be reclaimed without additional I/O, typically disk caches (in KiB)&lt;/li>
&lt;li>hugetlb_pgalloc - The number of successful huge page allocations initiated from within the domain&lt;/li>
&lt;li>hugetlb_pgfail - The number of failed huge page allocations initiated from within the domain&lt;/li>
&lt;/ul>
&lt;p>上述这些字段的可用性取决于管理程序。输出中缺少不支持的字段。如果与更新版本的 libvirtd 通信，可能会出现其他字段。&lt;/p>
&lt;h2 id="syntax语法-2">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>dommemstat domain [&amp;ndash;period seconds] [[&amp;ndash;config] [&amp;ndash;live] | [&amp;ndash;current]]&lt;/strong>&lt;/p>
&lt;h1 id="domstate">domstate&lt;/h1>
&lt;p>返回有关 Domain 的状态。 &amp;ndash;reason 选项告诉 virsh 还需要打印状态的原因。&lt;/p>
&lt;h1 id="domif-setlink--设定-domain-网卡的状态">domif-setlink # 设定 domain 网卡的状态&lt;/h1>
&lt;p>可以控制 VM 网卡的开关，关闭 VM 的 link，则开机不会自动启动网卡&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh domif-setlink lichenhao&amp;ndash;interface 52:54:00:6a:86:89 &amp;ndash;state down # 关闭 lichenhao 这台虚拟机的指定网卡&lt;/li>
&lt;/ul>
&lt;h1 id="domrename--重命名一个-domain">domrename # 重命名一个 Domain&lt;/h1>
&lt;p>重命名一个&lt;strong>未激活状态&lt;/strong>的 Domain。&lt;code>virsh domrename &amp;lt;DOMAIN&amp;gt; &amp;lt;NewName&amp;gt;&lt;/code>&lt;/p>
&lt;h1 id="domxml-to-native--根据-domain-的-xml-描述文件转换成-qemu-kvm-创建虚拟机的命令">domxml-to-native # 根据 domain 的 XML 描述文件，转换成 qemu-kvm 创建虚拟机的命令&lt;/h1>
&lt;p>&lt;strong>domxml-to-native &amp;lt;FORMAT&amp;gt; [OPTIONS]&lt;/strong>&lt;/p>
&lt;p>FORMAT&lt;/p>
&lt;ul>
&lt;li>qemu-argv # QEMU/KVM 类型虚拟化，必须使用此格式&lt;/li>
&lt;/ul>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;domain &amp;lt;STRING&amp;gt; domain name, id or uuid&lt;/li>
&lt;li>&amp;ndash;xml &amp;lt;STRING&amp;gt; xml data file to export from&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>&lt;strong>virsh domxml-to-native qemu-argv &amp;ndash;domain lichenhao.bj-net&lt;/strong># 根据 lichenhao.bj-net 虚拟机的 xml 文件，生成 qemu-kvm 命令行&lt;/li>
&lt;li>lichenhao.bj-net.xml 该文件会转换成如下内容&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>LC_ALL&lt;span style="color:#f92672">=&lt;/span>C PATH&lt;span style="color:#f92672">=&lt;/span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>QEMU_AUDIO_DRV&lt;span style="color:#f92672">=&lt;/span>none
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/usr/libexec/qemu-kvm -name lichenhao.bj-net &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-machine pc-i440fx-rhel7.0.0,accel&lt;span style="color:#f92672">=&lt;/span>kvm,usb&lt;span style="color:#f92672">=&lt;/span>off,dump-guest-core&lt;span style="color:#f92672">=&lt;/span>off &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-cpu Skylake-Server-IBRS,-ds,-acpi,+ss,-ht,-tm,-pbe,-dtes64,-monitor,-ds_cpl,-vmx,-smx,-est,-tm2,-xtpr,-pdcm,-dca,-osxsave,-tsc_adjust,+clflushopt,-intel-pt,+pku,-ospke,+avx512vnni,+md-clear,+stibp,+ssbd,+hypervisor,-arat &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-m &lt;span style="color:#ae81ff">4096&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-realtime mlock&lt;span style="color:#f92672">=&lt;/span>off
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-smp 2,sockets&lt;span style="color:#f92672">=&lt;/span>2,cores&lt;span style="color:#f92672">=&lt;/span>1,threads&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-uuid 51b47472-5564-424e-90b5-19e9eecfd671 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-no-user-config -nodefaults &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev socket,id&lt;span style="color:#f92672">=&lt;/span>charmonitor,path&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/qemu/domain--1-lichenhao.bj-net/monitor.sock,server,nowait &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-mon chardev&lt;span style="color:#f92672">=&lt;/span>charmonitor,id&lt;span style="color:#f92672">=&lt;/span>monitor,mode&lt;span style="color:#f92672">=&lt;/span>control &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-rtc base&lt;span style="color:#f92672">=&lt;/span>utc,driftfix&lt;span style="color:#f92672">=&lt;/span>slew &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global kvm-pit.lost_tick_policy&lt;span style="color:#f92672">=&lt;/span>delay &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-no-hpet -no-shutdown &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global PIIX4_PM.disable_s3&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global PIIX4_PM.disable_s4&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-boot strict&lt;span style="color:#f92672">=&lt;/span>on &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-ehci1,id&lt;span style="color:#f92672">=&lt;/span>usb,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x4.0x7 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-uhci1,masterbus&lt;span style="color:#f92672">=&lt;/span>usb.0,firstport&lt;span style="color:#f92672">=&lt;/span>0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,multifunction&lt;span style="color:#f92672">=&lt;/span>on,addr&lt;span style="color:#f92672">=&lt;/span>0x4 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-uhci2,masterbus&lt;span style="color:#f92672">=&lt;/span>usb.0,firstport&lt;span style="color:#f92672">=&lt;/span>2,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x4.0x1 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-uhci3,masterbus&lt;span style="color:#f92672">=&lt;/span>usb.0,firstport&lt;span style="color:#f92672">=&lt;/span>4,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x4.0x2 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-serial-pci,id&lt;span style="color:#f92672">=&lt;/span>virtio-serial0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x5 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-drive file&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/images/lichenhao.bj-net.qcow2,format&lt;span style="color:#f92672">=&lt;/span>qcow2,if&lt;span style="color:#f92672">=&lt;/span>none,id&lt;span style="color:#f92672">=&lt;/span>drive-virtio-disk0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-blk-pci,scsi&lt;span style="color:#f92672">=&lt;/span>off,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x6,drive&lt;span style="color:#f92672">=&lt;/span>drive-virtio-disk0,id&lt;span style="color:#f92672">=&lt;/span>virtio-disk0,bootindex&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-drive &lt;span style="color:#66d9ef">if&lt;/span>&lt;span style="color:#f92672">=&lt;/span>none,id&lt;span style="color:#f92672">=&lt;/span>drive-ide0-0-0,readonly&lt;span style="color:#f92672">=&lt;/span>on &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ide-cd,bus&lt;span style="color:#f92672">=&lt;/span>ide.0,unit&lt;span style="color:#f92672">=&lt;/span>0,drive&lt;span style="color:#f92672">=&lt;/span>drive-ide0-0-0,id&lt;span style="color:#f92672">=&lt;/span>ide0-0-0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-netdev tap,fd&lt;span style="color:#f92672">=&lt;/span>28,id&lt;span style="color:#f92672">=&lt;/span>hostnet0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-net-pci,netdev&lt;span style="color:#f92672">=&lt;/span>hostnet0,id&lt;span style="color:#f92672">=&lt;/span>net0,mac&lt;span style="color:#f92672">=&lt;/span>52:54:00:6d:fa:f0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x3 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev pty,id&lt;span style="color:#f92672">=&lt;/span>charserial0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device isa-serial,chardev&lt;span style="color:#f92672">=&lt;/span>charserial0,id&lt;span style="color:#f92672">=&lt;/span>serial0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev socket,id&lt;span style="color:#f92672">=&lt;/span>charchannel0,path&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/qemu/channel/target/domain--1-lichenhao.bj-net/org.qemu.guest_agent.0,server,nowait &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtserialport,bus&lt;span style="color:#f92672">=&lt;/span>virtio-serial0.0,nr&lt;span style="color:#f92672">=&lt;/span>1,chardev&lt;span style="color:#f92672">=&lt;/span>charchannel0,id&lt;span style="color:#f92672">=&lt;/span>channel0,name&lt;span style="color:#f92672">=&lt;/span>org.qemu.guest_agent.0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev spicevmc,id&lt;span style="color:#f92672">=&lt;/span>charchannel1,name&lt;span style="color:#f92672">=&lt;/span>vdagent &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtserialport,bus&lt;span style="color:#f92672">=&lt;/span>virtio-serial0.0,nr&lt;span style="color:#f92672">=&lt;/span>2,chardev&lt;span style="color:#f92672">=&lt;/span>charchannel1,id&lt;span style="color:#f92672">=&lt;/span>channel1,name&lt;span style="color:#f92672">=&lt;/span>com.redhat.spice.0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-device usb-tablet,id&lt;span style="color:#f92672">=&lt;/span>input0,bus&lt;span style="color:#f92672">=&lt;/span>usb.0,port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-vnc 127.0.0.1:0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-vga qxl &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.ram_size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">67108864&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.vram_size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">67108864&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.vgamem_mb&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">16&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.max_outputs&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev spicevmc,id&lt;span style="color:#f92672">=&lt;/span>charredir0,name&lt;span style="color:#f92672">=&lt;/span>usbredir &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device usb-redir,chardev&lt;span style="color:#f92672">=&lt;/span>charredir0,id&lt;span style="color:#f92672">=&lt;/span>redir0,bus&lt;span style="color:#f92672">=&lt;/span>usb.0,port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev spicevmc,id&lt;span style="color:#f92672">=&lt;/span>charredir1,name&lt;span style="color:#f92672">=&lt;/span>usbredir &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device usb-redir,chardev&lt;span style="color:#f92672">=&lt;/span>charredir1,id&lt;span style="color:#f92672">=&lt;/span>redir1,bus&lt;span style="color:#f92672">=&lt;/span>usb.0,port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-device virtio-balloon-pci,id&lt;span style="color:#f92672">=&lt;/span>balloon0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x7 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-object rng-random,id&lt;span style="color:#f92672">=&lt;/span>objrng0,filename&lt;span style="color:#f92672">=&lt;/span>/dev/urandom &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-rng-pci,rng&lt;span style="color:#f92672">=&lt;/span>objrng0,id&lt;span style="color:#f92672">=&lt;/span>rng0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x8 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-msg timestamp&lt;span style="color:#f92672">=&lt;/span>on
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="dumpxml--显示-domain-的-xml-格式的信息">dumpxml # 显示 domain 的 XML 格式的信息&lt;/h1>
&lt;p>EXAMLPE&lt;/p>
&lt;ul>
&lt;li>virsh dumpxml lchTest # 显示 lchTest 这个虚拟机的 xml 信息&lt;/li>
&lt;/ul>
&lt;h1 id="edit--编辑一个-domain-的-xml-配置">edit # 编辑一个 domain 的 XML 配置&lt;/h1>
&lt;h1 id="qemu-agent-command--向-domain-中执行-qemu-guest-agent-命令">qemu-agent-command # 向 domain 中执行 QEMU Guest Agent 命令&lt;/h1>
&lt;p>可用的 QGA 命令详见：&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/KVM_QEMU/QEMU%20Guest%20Agent/QMP%20%E5%91%BD%E4%BB%A4%E5%8F%82%E8%80%83.md">QMP 命令参考&lt;/a>&lt;/p>
&lt;h2 id="syntax语法-3">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>qemu-agent-command DOMAIN [OPTIONS] CMD&lt;/strong>&lt;/p>
&lt;p>命令示例详见：应用示例&lt;/p>
&lt;h1 id="reboot--重新启动一个-domainre">reboot # 重新启动一个 domainre&lt;/h1>
&lt;h1 id="shutdown--优雅得关闭-domain">shutdown # 优雅得关闭 domain&lt;/h1>
&lt;h1 id="start--启动一个-domain">start # 启动一个 domain&lt;/h1>
&lt;h1 id="undefine--取消定义一个-domainie删除一台虚拟机">undefine # 取消定义一个 domain。i.e.删除一台虚拟机&lt;/h1>
&lt;p>该命令会删除 /etc/libvirt/qemu/ 目录下描述该 domain 的 xml 文件&lt;/p>
&lt;h2 id="syntax语法-4">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>undefine &amp;lt;DOMAIN&amp;gt; [OPTIONS]&lt;/strong>&lt;/p>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;managed-save remove domain managed state file&lt;/li>
&lt;li>&amp;ndash;storage &amp;lt;STRING&amp;gt; remove associated storage volumes (comma separated list of targets or source paths) (see domblklist)&lt;/li>
&lt;li>&lt;strong>&amp;ndash;remove-all-storage&lt;/strong> # 移除所有与该 domain 关联的存储卷。(谨慎使用)&lt;/li>
&lt;li>&lt;strong>&amp;ndash;delete-snapshots&lt;/strong> # 删除与卷关联的快照，需要&amp;ndash;remove-all-storage（必须由存储驱动程序支持）&lt;/li>
&lt;li>&amp;ndash;wipe-storage wipe data on the removed volumes&lt;/li>
&lt;li>&lt;strong>&amp;ndash;snapshots-metadata&lt;/strong> # 删除 domain 所有快照元数据（如果不活动）&lt;/li>
&lt;li>&amp;ndash;nvram remove nvram file, if inactive&lt;/li>
&lt;li>&amp;ndash;keep-nvram keep nvram file, if inactive&lt;/li>
&lt;/ul>
&lt;h1 id="vncdisplay--输出-domain-的-vnc-显示的-ip-和端口">vncdisplay # 输出 Domain 的 VNC 显示的 IP 和端口&lt;/h1></description></item><item><title>Docs: Interface 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Interface-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Interface-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;/blockquote>
&lt;p>iface-begin create a snapshot of current interfaces settings, which can be later committed (iface-commit) or restored (iface-rollback)
iface-bridge create a bridge device and attach an existing network device to it
iface-commit commit changes made since iface-begin and free restore point
iface-define define an inactive persistent physical host interface or modify an existing persistent one from an XML file
iface-destroy destroy a physical host interface (disable it / &amp;ldquo;if-down&amp;rdquo;)
iface-dumpxml interface information in XML
iface-edit edit XML configuration for a physical host interface&lt;/p>
&lt;h1 id="iface-list--列出宿主机的接口ie宿主机的网络设备">iface-list # 列出宿主机的接口(i.e.宿主机的网络设备)&lt;/h1>
&lt;p>iface-mac convert an interface name to interface MAC address
iface-name convert an interface MAC address to interface name
iface-rollback rollback to previous saved configuration created via iface-begin
iface-start start a physical host interface (enable it / &amp;ldquo;if-up&amp;rdquo;)
iface-unbridge undefine a bridge device after detaching its slave deviceiface-unbridge
iface-undefine undefine a physical host interface (remove it from configuration)&lt;/p></description></item><item><title>Docs: Snapshot 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Snapshot-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Snapshot-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-commands">官方 Manual(手册)，SNAPSHOT COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="snapshot-createhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-create--从-xml-文件中创建一个-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-create">snapshot-create&lt;/a> # 从 XML 文件中创建一个 domain 的快照&lt;/h1>
&lt;p>这个命令可以在&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization%20implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B/%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BF%81%E7%A7%BB.md">虚拟机迁移&lt;/a>时为虚拟机还原快照的元数据。&lt;/p>
&lt;p>使用&lt;/p>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>snapshot-create DOMAIN [OPTIONS]&lt;/p>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;p>为虚拟机还原名为 base 快照的元数据&lt;/p>
&lt;ul>
&lt;li>virsh snapshot-create &amp;ndash;redefine &amp;ndash;xmlfile /var/lib/libvirt/qemu/snapshot/tj-test-spst-node-1/base.xml tj-test-spst-node-1&lt;/li>
&lt;/ul>
&lt;h2 id="example">EXAMPLE&lt;/h2>
&lt;ul>
&lt;li>使用 base.xml 文件，为虚拟机 master 创建一个快照
&lt;ul>
&lt;li>virsh snapshot-create master base.xml&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="snapshot-create-ashttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-create-as--从一组参数中创建一个-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-create-as">snapshot-create-as&lt;/a> # 从一组参数中创建一个 domain 的快照&lt;/h1>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>为虚拟机 master 创建一个当前状态的快照，名字为 base
&lt;ul>
&lt;li>virsh snapshot-create-as master &amp;ndash;name base&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="snapshot-currenthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-current">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-current">snapshot-current&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-edithttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-edit--编辑指定的-domain-的快照的-xml-文件">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-edit">snapshot-edit&lt;/a> # 编辑指定的 domain 的快照的 XML 文件&lt;/h1>
&lt;h1 id="snapshot-infohttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-info">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-info">snapshot-info&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-listhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-list--列出指定-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-list">snapshot-list&lt;/a> # 列出指定 domain 的快照&lt;/h1>
&lt;h1 id="snapshot-dumpxmlhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-dumpxml">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-dumpxml">snapshot-dumpxml&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-parenthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-parent">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-parent">snapshot-parent&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-reverthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-revert--恢复一个-domain-到其上的一个快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-revert">snapshot-revert&lt;/a> # 恢复一个 domain 到其上的一个快照&lt;/h1>
&lt;h1 id="snapshot-deletehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-delete--删除指定的-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-delete">snapshot-delete&lt;/a> # 删除指定的 domain 的快照&lt;/h1></description></item><item><title>Docs: Virtual Network 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Virtual-Network-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Virtual-Network-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#virtual-network-commands">官方 Manual(手册)，VIRTUAL NETWORK COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="net-autostarthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-autostart">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-autostart">net-autostart&lt;/a>&lt;/h1>
&lt;h1 id="net-createhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-create">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-create">net-create&lt;/a>&lt;/h1>
&lt;h1 id="net-definehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-define--定义一个非活动的持久虚拟网络或从-xml-文件中修改一个现有的持久虚拟网络">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-define">net-define&lt;/a> # 定义一个非活动的持久虚拟网络或从 XML 文件中修改一个现有的持久虚拟网络&lt;/h1>
&lt;h1 id="net-destroyhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-destroy--摧毁一个网络">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-destroy">net-destroy&lt;/a> # 摧毁一个网络&lt;/h1>
&lt;h1 id="net-dumpxmlhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-dumpxml">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-dumpxml">net-dumpxml&lt;/a>&lt;/h1>
&lt;h1 id="net-edithttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-edit">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-edit">net-edit&lt;/a>&lt;/h1>
&lt;h1 id="net-eventhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-event">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-event">net-event&lt;/a>&lt;/h1>
&lt;h1 id="net-infohttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-info">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-info">net-info&lt;/a>&lt;/h1>
&lt;h1 id="net-listhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-list">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-list">net-list&lt;/a>&lt;/h1>
&lt;h1 id="net-namehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-name">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-name">net-name&lt;/a>&lt;/h1>
&lt;h1 id="net-starthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-start">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-start">net-start&lt;/a>&lt;/h1>
&lt;h1 id="net-undefinehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-undefine">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-undefine">net-undefine&lt;/a>&lt;/h1>
&lt;h1 id="net-uuidhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-uuid">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-uuid">net-uuid&lt;/a>&lt;/h1>
&lt;h1 id="net-updatehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-update">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-update">net-update&lt;/a>&lt;/h1>
&lt;h1 id="net-dhcp-leaseshttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-dhcp-leases">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-dhcp-leases">net-dhcp-leases&lt;/a>&lt;/h1></description></item><item><title>Docs: 通用命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Virtualization-implementation/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#generic-commands">官方 Manual(手册)，GENERIC COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#quit-exit">quit, exit&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#version">version&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cd">cd&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#pwd">pwd&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#connect">connect&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#uri">uri&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hostname">hostname&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#sysinfo">sysinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodeinfo">nodeinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodecpumap">nodecpumap&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodecpustats">nodecpustats&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodememstats">nodememstats&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodesevinfo">nodesevinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodesuspend">nodesuspend&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#node-memory-tune">node-memory-tune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#capabilities">capabilities&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domcapabilities">domcapabilities&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#pool-capabilities">pool-capabilities&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#inject-nmi">inject-nmi&lt;/a>&lt;/p>
&lt;h1 id="list--列出所有正在运行的-domain">list # 列出所有正在运行的 domain&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#list">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#list&lt;/a>&lt;/p>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>list [OPTIONS]&lt;/strong>&lt;/p>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;all # 列出活动和非活动的所有 domain&lt;/li>
&lt;li>&amp;ndash;title # 显示 domain 的 title&lt;/li>
&lt;li>&amp;ndash;name # 仅显示虚拟机名称&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh list # 列出所有正在运行的 domain&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#freecell">freecell&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#freepages">freepages&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#allocpages">allocpages&lt;/a>&lt;/p>
&lt;h1 id="cpu-baseline">cpu-baseline&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-baseline">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-baseline&lt;/a>&lt;/p>
&lt;h1 id="cpu-compare">cpu-compare&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-compare">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-compare&lt;/a>&lt;/p>
&lt;h1 id="cpu-models">cpu-models&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-models">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-models&lt;/a>&lt;/p>
&lt;h1 id="hypervisor-cpu-compare">hypervisor-cpu-compare&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hypervisor-cpu-compare">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hypervisor-cpu-compare&lt;/a>&lt;/p>
&lt;h1 id="hypervisor-cpu-baseline">hypervisor-cpu-baseline&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hypervisor-cpu-baseline">https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hypervisor-cpu-baseline&lt;/a>&lt;/p></description></item></channel></rss>