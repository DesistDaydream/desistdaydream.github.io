<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦 – virsh 命令行工具</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</link><description>Recent content in virsh 命令行工具 on 断念梦</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: virsh 命令行工具</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://libvirt.org/manpages/virsh.html">官方文档，手册-virsh&lt;/a>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst">GitHub 位置，libvirt/libvirt/docs/manpages/virsh.rst&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>virsh 是 libvirt 核心发行版的一部分，通过 libvirt 的 API 管理虚拟机的命令行工具。
virsh 有两种使用方式&lt;/p>
&lt;ul>
&lt;li>virsh + 子命令&lt;/li>
&lt;li>交互式 shell。不加任何子命令时，进入交互式 shell&lt;/li>
&lt;/ul>
&lt;h1 id="syntax语法">Syntax(语法)&lt;/h1>
&lt;p>&lt;strong>virsh [OPTION]&amp;hellip; [COMMAND_STRING]&lt;/strong>
&lt;strong>virsh [OPTION]&amp;hellip; COMMAND [ARG]&amp;hellip;&lt;/strong>
注意：&lt;/p>
&lt;ul>
&lt;li>DOMAIN 的说明：libvirt 使用 domain 代指 VM，所有关于 domain 的描述都可以理解为 VM 或者 instance&lt;/li>
&lt;li>当指定要操作某个特定 DOMAIN 的时候，可以使用该 DOMAIN 的 ID 号、NAME、UUID，三者任选其一&lt;/li>
&lt;li>想要查看 VM 的信息，可以在 virsh 的 shell 中使用 help 命令，找 list 和 info 的关键字，help 中是以不同类型的命令进行分类的比如 DOMAIN 相关的，监控信息，网络存储等&lt;/li>
&lt;/ul>
&lt;h2 id="options">OPTIONS&lt;/h2>
&lt;ul>
&lt;li>-c, &amp;ndash;connect=URI hypervisor connection URI&lt;/li>
&lt;li>-d, &amp;ndash;debug=NUM debug level [0-4]&lt;/li>
&lt;li>-e, &amp;ndash;escape &amp;lt;char&amp;gt; set escape sequence for console&lt;/li>
&lt;li>-k, &amp;ndash;keepalive-interval=NUM # keepalive interval in seconds, 0 for disable&lt;/li>
&lt;li>-K, &amp;ndash;keepalive-count=NUM # number of possible missed keepalive messages&lt;/li>
&lt;li>-l, &amp;ndash;log=FILE output logging to file&lt;/li>
&lt;li>-q, &amp;ndash;quiet quiet mode&lt;/li>
&lt;li>-r, &amp;ndash;readonly connect readonly&lt;/li>
&lt;li>-t, &amp;ndash;timing print timing information&lt;/li>
&lt;/ul>
&lt;h1 id="command">COMMAND&lt;/h1>
&lt;p>Note：其中各种命令用法，详见 virsh 命令行工具目录下每个子命令的专题文章&lt;/p>
&lt;h2 id="generic-commandsdocs10云原生12实现虚拟化的工具虚拟化管理libvirtvirsh20命令行工具通用命令md通用命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4.md">Generic commands&lt;/a>(通用命令)&lt;/h2>
&lt;p>通用命令与 domain 无关&lt;/p>
&lt;h2 id="domain-commandsdocsit学习笔记10云原生12实现虚拟化的工具虚拟化管理libvirtvirsh20-命令行工具domain20命令md虚拟机命令">[Domain commands](/docs/IT学习笔记/10.云原生/1.2.实现虚拟化的工具/虚拟化管理/Libvirt/virsh%20 命令行工具/Domain%20命令.md)(虚拟机命令)&lt;/h2>
&lt;p>The following commands manipulate domains directly, as stated previously most commands take domain as the first parameter. The domain can be specified as a short integer, a name or a full UUID.&lt;/p>
&lt;h2 id="device-commandsdocs10云原生12实现虚拟化的工具虚拟化管理libvirtvirsh20命令行工具device20命令md设备命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Device%20%E5%91%BD%E4%BB%A4.md">Device commands&lt;/a>(设备命令)&lt;/h2>
&lt;p>Device 命令用以控制与 domains 关联的设备。The domain can be specified as a short integer, a name or a full UUID. To better understand the values allowed as options for the command reading the documentation at &lt;a href="https://libvirt.org/formatdomain.html">https://libvirt.org/formatdomain.html&lt;/a> on the format of the device sections to get the most accurate set of accepted values.&lt;/p>
&lt;h2 id="nodedev-commandshttpslibvirtorgmanpagesvirshhtmlnodedev-commands">&lt;a href="https://libvirt.org/manpages/virsh.html#nodedev-commands">NodeDev commands&lt;/a>()&lt;/h2>
&lt;h2 id="virtual-network-commandsdocs10云原生12实现虚拟化的工具虚拟化管理libvirtvirsh20命令行工具virtual20network20命令md虚拟网络命令">&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Virtual%20Network%20%E5%91%BD%E4%BB%A4.md">Virtual Network commands&lt;/a>(虚拟网络命令)&lt;/h2>
&lt;p>The following commands manipulate networks. Libvirt has the capability to define virtual networks which can then be used by domains and linked to actual network devices. For more detailed information about this feature see the documentation at &lt;a href="https://libvirt.org/formatnetwork.html">https://libvirt.org/formatnetwork.html&lt;/a> . Many of the commands for virtual networks are similar to the ones used for domains, but the way to name a virtual network is either by its name or UUID.&lt;/p>
&lt;h2 id="network-port-commands">NETWORK PORT COMMANDS&lt;/h2>
&lt;h2 id="interface-commandsdocsit学习笔记10云原生12实现虚拟化的工具虚拟化管理libvirtvirsh20-命令行工具interface20命令md接口命令">[Interface commands](/docs/IT学习笔记/10.云原生/1.2.实现虚拟化的工具/虚拟化管理/Libvirt/virsh%20 命令行工具/Interface%20命令.md)(接口命令)&lt;/h2>
&lt;p>The following commands manipulate host interfaces. Often, these host interfaces can then be used by name within domain &amp;lt;interface&amp;gt; elements (such as a system-created bridge interface), but there is no requirement that host interfaces be tied to any particular guest configuration XML at all.
Many of the commands for host interfaces are similar to the ones used for domains, and the way to name an interface is either by its name or its MAC address. However, using a MAC address for an &lt;em>iface&lt;/em> argument only works when that address is unique (if an interface and a bridge share the same MAC address, which is often the case, then using that MAC address results in an error due to ambiguity, and you must resort to a name instead).&lt;/p>
&lt;h2 id="storage-pool-commands">STORAGE POOL COMMANDS&lt;/h2>
&lt;ol>
&lt;li>一个 storage pool 包括很多 storage volume，storage volume 有单独的一组命令进行管理&lt;/li>
&lt;li>storage pool 就是存放 s torage volume 的地方，是一个目录，详见 1.5.Storage Virtualization.note 中的 kvm 的存储虚拟化&lt;/li>
&lt;li>存储池默认目录为/var/lib/libvirt/images/，这个目录会存放所有 VM 的文件，通过 libvirt 创建完虚拟机后生成的 image 都会放在 default 目录下&lt;/li>
&lt;/ol>
&lt;h2 id="volume-commands">VOLUME COMMANDS&lt;/h2>
&lt;ol>
&lt;li>存储卷就是 VM 上的一块物理硬盘，一个物理硬盘是通过一个文件的形式表现的，修改这个文件，就可以修改这个硬盘的内容。详见 1.5.Storage Virtualization.note 中的 kvm 的存储虚拟化&lt;/li>
&lt;li>storage volume 管理命令可以调整硬盘大小、类型等，还能增删改查指定的硬盘&lt;/li>
&lt;/ol>
&lt;h2 id="secret-commands">SECRET COMMANDS&lt;/h2>
&lt;h2 id="snapshot-commands快照命令">Snapshot commands(快照命令)&lt;/h2>
&lt;p>The following commands manipulate domain snapshots. Snapshots take the disk, memory, and device state of a domain at a point-of-time, and save it for future use. They have many uses, from saving a &amp;ldquo;clean&amp;rdquo; copy of an OS image to saving a domain&amp;rsquo;s state before a potentially destructive operation. Snapshots are identified with a unique name. See &lt;a href="https://libvirt.org/formatsnapshot.html">https://libvirt.org/formatsnapshot.html&lt;/a> for documentation of the XML format used to represent properties of snapshots.&lt;/p>
&lt;h2 id="checkpoint-commands">CHECKPOINT COMMANDS&lt;/h2>
&lt;h2 id="nwfilter-commands">NWFILTER COMMANDS&lt;/h2>
&lt;h2 id="nwfilter-binding-commands">NWFILTER BINDING COMMANDS&lt;/h2>
&lt;h2 id="hypervisor-specific-commands">HYPERVISOR-SPECIFIC COMMANDS&lt;/h2></description></item><item><title>Docs: Device 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Device-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Device-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#device-commands">官方 Manual(手册)，DEVICE COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="attach-device--attach-device-from-an-xml-file">attach-device # attach device from an XML file&lt;/h1>
&lt;h1 id="attach-diskhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstattach-disk--将一个新的磁盘设备添加到-domian-中">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#attach-disk">attach-disk&lt;/a> # 将一个新的磁盘设备添加到 domian 中&lt;/h1>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;h1 id="attach-interface--附加网络接口ie给-vm-添加一个网卡">attach-interface # 附加网络接口(i.e.给 VM 添加一个网卡)&lt;/h1>
&lt;h1 id="detach-device--detach-device-from-an-xml-file">detach-device # detach device from an XML file&lt;/h1>
&lt;h1 id="detach-disk--detach-disk-device">detach-disk # detach disk device&lt;/h1>
&lt;h1 id="detach-interface--分离网络接口ie删除-vm-的一个网卡">detach-interface # 分离网络接口(i.e.删除 VM 的一个网卡)&lt;/h1>
&lt;h1 id="update-device--update-device-from-an-xml-file">update-device # update device from an XML file&lt;/h1>
&lt;h1 id="update-memory-device">update-memory-device&lt;/h1>
&lt;h1 id="change-media--change-media-of-cd-or-floppy-drive">change-media # Change media of CD or floppy drive&lt;/h1></description></item><item><title>Docs: Domain 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Domain-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Domain-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#autostart">autostart&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blkdeviotune">blkdeviotune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blkiotune">blkiotune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blockcommit">blockcommit&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blockcopy">blockcopy&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blockjob">blockjob&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blockpull">blockpull&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#blockresize">blockresize&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#console">console&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-stats">cpu-stats&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#create">create&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#define">define&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#desc">desc&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#destroy">destroy&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domblkerror">domblkerror&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domblkinfo">domblkinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domblklist">domblklist&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domblkstat">domblkstat&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domblkthreshold">domblkthreshold&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domcontrol">domcontrol&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domdirtyrate-calc">domdirtyrate-calc&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domdisplay">domdisplay&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domfsfreeze">domfsfreeze&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domfsinfo">domfsinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domfsthaw">domfsthaw&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domfstrim">domfstrim&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domhostname">domhostname&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domid">domid&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domif-getlink">domif-getlink&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domif-setlink">domif-setlink&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domifaddr">domifaddr&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#backup-begin">backup-begin&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#backup-dumpxml">backup-dumpxml&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domiflist">domiflist&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domifstat">domifstat&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domiftune">domiftune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#dominfo">dominfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domjobabort">domjobabort&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domjobinfo">domjobinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domlaunchsecinfo">domlaunchsecinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domsetlaunchsecstate">domsetlaunchsecstate&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#dommemstat">dommemstat&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domname">domname&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#dompmsuspend">dompmsuspend&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#dompmwakeup">dompmwakeup&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domrename">domrename&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domstate">domstate&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domstats">domstats&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domtime">domtime&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domuuid">domuuid&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domxml-from-native">domxml-from-native&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domxml-to-native">domxml-to-native&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#dump">dump&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#dumpxml">dumpxml&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#edit">edit&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#emulatorpin">emulatorpin&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#event">event&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#get-user-sshkeys">get-user-sshkeys&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#guest-agent-timeout">guest-agent-timeout&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#guestinfo">guestinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#guestvcpus">guestvcpus&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#iothreadadd">iothreadadd&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#iothreaddel">iothreaddel&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#iothreadinfo">iothreadinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#iothreadpin">iothreadpin&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#iothreadset">iothreadset&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#managedsave">managedsave&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#managedsave-define">managedsave-define&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#managedsave-dumpxml">managedsave-dumpxml&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#managedsave-edit">managedsave-edit&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#managedsave-remove">managedsave-remove&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#maxvcpus">maxvcpus&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#memtune">memtune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#metadata">metadata&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate">migrate&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate-compcache">migrate-compcache&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate-getmaxdowntime">migrate-getmaxdowntime&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate-getspeed">migrate-getspeed&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate-postcopy">migrate-postcopy&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate-setmaxdowntime">migrate-setmaxdowntime&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#migrate-setspeed">migrate-setspeed&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#numatune">numatune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#perf">perf&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#reboot">reboot&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#reset">reset&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#restore">restore&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#resume">resume&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#save">save&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#save-image-define">save-image-define&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#save-image-dumpxml">save-image-dumpxml&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#save-image-edit">save-image-edit&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#schedinfo">schedinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#screenshot">screenshot&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#send-key">send-key&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#send-process-signal">send-process-signal&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#set-lifecycle-action">set-lifecycle-action&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#set-user-password">set-user-password&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#set-user-sshkeys">set-user-sshkeys&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#setmaxmem">setmaxmem&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#setmem">setmem&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#setvcpus">setvcpus&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#setvcpu">setvcpu&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#shutdown">shutdown&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#start">start&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#suspend">suspend&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#ttyconsole">ttyconsole&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#undefine">undefine&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#vcpucount">vcpucount&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#vcpuinfo">vcpuinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#vcpupin">vcpupin&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#vncdisplay">vncdisplay&lt;/a>&lt;/p>
&lt;p>blkdeviotune Set or query a block device I/O tuning parameters.&lt;/p>
&lt;p>blkiotune Get or set blkio parameters&lt;/p>
&lt;p>blockcommit Start a block commit operation.&lt;/p>
&lt;p>blockcopy Start a block copy operation.&lt;/p>
&lt;p>blockjob Manage active block operations&lt;/p>
&lt;p>blockpull Populate a disk from its backing image.&lt;/p>
&lt;p>blockresize Resize block device of domain.&lt;/p>
&lt;h1 id="console--连接到-vm-的终端">console # 连接到 VM 的终端&lt;/h1>
&lt;p>console 用于把虚拟机屏幕上的信息投射到宿主机上，可以直接在宿主机的终端上操作虚拟机。
注意：如果无法通过 console 连接到 VM，则需要在 VM 上启动 serial-getty@.service 服务并在开启服务的时候指定一个终端。e.g.&lt;strong>systemctl enable &lt;a href="mailto:serial-getty@ttyS0.service">serial-getty@ttyS0.service&lt;/a> &amp;ndash;now&lt;/strong>&lt;/p>
&lt;h1 id="cpu-stats--显示-domain-的-cpu-统计信息">cpu-stats # 显示 Domain 的 CPU 统计信息&lt;/h1>
&lt;p>默认显示所有 CPU 的统计信息和总数。仅使用 &amp;ndash;total 获取总统计信息，仅使用 start 获取从 &amp;ndash;start 开始的 CPU 的 per-cpu 统计信息，仅使用 &amp;ndash;count CPU 的统计信息。&lt;/p>
&lt;h1 id="create--从一个-xml-文件里创建一个-domain">create # 从一个 XML 文件里创建一个 domain&lt;/h1>
&lt;p>通过 XML 直接启动一台 VM，VM 关闭后，virsh list 列表中该 VM 会消失。&lt;/p>
&lt;h1 id="define--从一个-xml-文件里定义一个-domain仅定义不启动">define # 从一个 XML 文件里定义一个 domain(仅定义不启动)&lt;/h1>
&lt;p>通过 XML 文件创建一台 VM。&lt;/p>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>define &amp;lt;file&amp;gt; [&amp;ndash;validate]&lt;/strong>
EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh define cirros.xml # 通过 cirros.xml 来定义一个 VM 的属性，如果 VM 不存在则创建&lt;/li>
&lt;/ul>
&lt;h1 id="desc--显示或者设置一个-domain-的-description-或-title">desc # 显示或者设置一个 domain 的 description 或 title&lt;/h1>
&lt;p>desc &amp;lt;domain&amp;gt; [&amp;ndash;live] [&amp;ndash;config] [&amp;ndash;current] [&amp;ndash;title] [&amp;ndash;edit] [[&amp;ndash;new-desc] &amp;lt;STRING&amp;gt;]&amp;hellip;&lt;/p>
&lt;p>Note：&lt;/p>
&lt;ul>
&lt;li>当不指定&amp;ndash;title 时，desc 命令默认修改或查看 domain 的 description&lt;/li>
&lt;li>description 和 title 有三种状态，live、config、current，当修改或者显示的时候，默认为 live 状态&lt;/li>
&lt;li>config 的状态指的是，修改或查看 domain 的 xml 文件。&lt;/li>
&lt;/ul>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>[&amp;ndash;domain] &amp;lt;string&amp;gt; domain name, id or uuid&lt;/li>
&lt;li>&amp;ndash;live # 指定当前操作为，运行时状态&lt;/li>
&lt;li>&amp;ndash;config # 指定当前操作为，持久配置状态&lt;/li>
&lt;li>&amp;ndash;current # 指定当前操作为，当前状态&lt;/li>
&lt;li>&amp;ndash;title [STRING] # 修改或显示 title。指定 STRING 时则会将 domain 的 title 修改为 STRING，不指定则显示 domain 的 title&lt;/li>
&lt;li>&amp;ndash;edit # 打开一个编辑器来修改 description 或 title&lt;/li>
&lt;li>[&amp;ndash;new-desc] &amp;lt;STRING&amp;gt; message&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh desc lchTest # 显示 lchTest 这台虚拟机的当前状态的描述信息&lt;/li>
&lt;li>virsh desc lchTest 10.10.100.200 &amp;ndash;config # 为 lchTest 这台 VM 设定描述信息为 10.10.100.200，并将信息写入到 xml 文件中&lt;/li>
&lt;li>virsh desc lchTest &amp;ndash;title 10.10.100.200 &amp;ndash;config # 指定 lchTest 这台虚拟机的 title 为 10.10.100.200，并将该信息写入到 xml 配置中&lt;/li>
&lt;/ul>
&lt;h1 id="destroy--摧毁一个-domain类似于直接拔掉电源">destroy # 摧毁一个 domain，类似于直接拔掉电源&lt;/h1>
&lt;p>domblkerror Show errors on block devices&lt;/p>
&lt;p>domblkinfo domain block device size information&lt;/p>
&lt;h1 id="domblklist--列出-domain-的所有-blocks块设备">domblklist # 列出 domain 的所有 blocks(块设备)&lt;/h1>
&lt;p>列出 Domain 的所有 blocks(块设备)。i.e.指定 domain 所使用的磁盘文件&lt;/p>
&lt;h2 id="syntax语法-1">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>domblklist &amp;lt;DOMAIN&amp;gt; [OPTIONS]&lt;/strong>
OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;inactive #&lt;/li>
&lt;li>&amp;ndash;details # 列出的信息还包括类型和设备&lt;/li>
&lt;/ul>
&lt;p>domblkstat get device block stats for a domain&lt;/p>
&lt;p>domcontrol domain control interface state&lt;/p>
&lt;p>domif-getlink get link state of a virtual interface&lt;/p>
&lt;h1 id="domifaddr--从正在运行的-domain-中获取网络接口的-ip-地址">domifaddr # 从正在运行的 domain 中获取网络接口的 IP 地址&lt;/h1>
&lt;p>domifaddr &amp;lt;domain&amp;gt; [&amp;ndash;interface &amp;lt;string&amp;gt;] [&amp;ndash;full] [&amp;ndash;source &amp;lt;string&amp;gt;]&lt;/p>
&lt;p>该信息包括：Name MAC address Protocol Address&lt;/p>
&lt;h1 id="domiflist--列出-domain-所有的虚拟接口">domiflist # 列出 domain 所有的虚拟接口&lt;/h1>
&lt;p>domiflist &amp;lt;domain&amp;gt; [&amp;ndash;inactive]&lt;/p>
&lt;p>该信息包括：Interface Type Source Model MAC&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh domiflist testvm # 列出名为 testvm 这台虚拟机的虚拟接口信息&lt;/li>
&lt;/ul>
&lt;h1 id="domifstat--获取指定的-domain-的网络接口状态信息">domifstat # 获取指定的 domain 的网络接口状态信息&lt;/h1>
&lt;p>domifstat &amp;lt;domain&amp;gt; &amp;lt;interface&amp;gt;&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;h1 id="dominfo--返回指定-domain-的基本信息包括该-domain-的-nameuuidmemcpu-等">dominfo # 返回指定 domain 的基本信息，包括该 domain 的 name、uuid、mem、cpu 等&lt;/h1>
&lt;h1 id="dommemstathttpslibvirtorgmanpagesvirshhtmldommemstat--获取指定-domain-的内存状态信息">&lt;a href="https://libvirt.org/manpages/virsh.html#dommemstat">dommemstat&lt;/a> # 获取指定 domain 的内存状态信息&lt;/h1>
&lt;p>dommemstat 会获取正在运行的 domain 的内存统计信息。可以获取到如下信息：&lt;/p>
&lt;ul>
&lt;li>swap_in - The amount of data read from swap space (in KiB)&lt;/li>
&lt;li>swap_out - The amount of memory written out to swap space (in KiB)&lt;/li>
&lt;li>major_fault - The number of page faults where disk IO was required&lt;/li>
&lt;li>minor_fault - The number of other page faults&lt;/li>
&lt;li>unused - The amount of memory left unused by the system (in KiB)&lt;/li>
&lt;li>available - The amount of usable memory as seen by the domain (in KiB)&lt;/li>
&lt;li>actual # 当前 Current balloon value (in KiB)&lt;/li>
&lt;li>rss - Resident Set Size of the running domain&amp;rsquo;s process (in KiB)&lt;/li>
&lt;li>usable - The amount of memory which can be reclaimed by balloon without causing host swapping (in KiB)&lt;/li>
&lt;li>last-update - Timestamp of the last update of statistics (in seconds)&lt;/li>
&lt;li>disk_caches - The amount of memory that can be reclaimed without additional I/O, typically disk caches (in KiB)&lt;/li>
&lt;li>hugetlb_pgalloc - The number of successful huge page allocations initiated from within the domain&lt;/li>
&lt;li>hugetlb_pgfail - The number of failed huge page allocations initiated from within the domain&lt;/li>
&lt;/ul>
&lt;p>上述这些字段的可用性取决于管理程序。输出中缺少不支持的字段。如果与更新版本的 libvirtd 通信，可能会出现其他字段。&lt;/p>
&lt;h2 id="syntax语法-2">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>dommemstat domain [&amp;ndash;period seconds] [[&amp;ndash;config] [&amp;ndash;live] | [&amp;ndash;current]]&lt;/strong>&lt;/p>
&lt;p>domstate domain state&lt;/p>
&lt;p>domstats get statistics about one or multiple domains&lt;/p>
&lt;p>domtime domain time&lt;/p>
&lt;p>domdisplay domain display connection URI&lt;/p>
&lt;p>domfsfreeze Freeze domain&amp;rsquo;s mounted filesystems.&lt;/p>
&lt;p>domfsthaw Thaw domain&amp;rsquo;s mounted filesystems.&lt;/p>
&lt;p>domfsinfo Get information of domain&amp;rsquo;s mounted filesystems.&lt;/p>
&lt;p>domfstrim Invoke fstrim on domain&amp;rsquo;s mounted filesystems.&lt;/p>
&lt;p>domhostname print the domain&amp;rsquo;s hostname&lt;/p>
&lt;p>domid convert a domain name or UUID to domain id 将域名或 UUID 转换为域 ID&lt;/p>
&lt;h1 id="domif-setlink--设定-domain-网卡的状态">domif-setlink # 设定 domain 网卡的状态&lt;/h1>
&lt;p>可以控制 VM 网卡的开关，关闭 VM 的 link，则开机不会自动启动网卡&lt;/p>
&lt;p>EXAMPLE&lt;/p>
&lt;ol>
&lt;li>virsh domif-setlink lichenhao&amp;ndash;interface 52:54:00:6a:86:89 &amp;ndash;state down # 关闭 lichenhao 这台虚拟机的指定网卡&lt;/li>
&lt;/ol>
&lt;p>domiftune get/set parameters of a virtual interface&lt;/p>
&lt;p>domjobabort abort active domain job&lt;/p>
&lt;p>domjobinfo domain job information&lt;/p>
&lt;p>domname convert a domain id or UUID to domain name 将域 id 或 UUID 转换为域名&lt;/p>
&lt;h1 id="domrename--重命名一个-domain">domrename # 重命名一个 domain&lt;/h1>
&lt;p>dompmsuspend suspend a domain gracefully using power management functions&lt;/p>
&lt;p>dompmwakeup wakeup a domain from pmsuspended state&lt;/p>
&lt;p>domuuid # UUID 将 domain 名称 或 id 转换为 domain 的 UUID&lt;/p>
&lt;p>domxml-from-native Convert native config to domain XML&lt;/p>
&lt;h1 id="domxml-to-native--根据-domain-的-xml-描述文件转换成-qemu-kvm-创建虚拟机的命令">domxml-to-native # 根据 domain 的 XML 描述文件，转换成 qemu-kvm 创建虚拟机的命令&lt;/h1>
&lt;p>&lt;strong>domxml-to-native &amp;lt;FORMAT&amp;gt; [OPTIONS]&lt;/strong>&lt;/p>
&lt;p>FORMAT&lt;/p>
&lt;ul>
&lt;li>qemu-argv # QEMU/KVM 类型虚拟化，必须使用此格式&lt;/li>
&lt;/ul>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;domain &amp;lt;STRING&amp;gt; domain name, id or uuid&lt;/li>
&lt;li>&amp;ndash;xml &amp;lt;STRING&amp;gt; xml data file to export from&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>&lt;strong>virsh domxml-to-native qemu-argv &amp;ndash;domain lichenhao.bj-net&lt;/strong># 根据 lichenhao.bj-net 虚拟机的 xml 文件，生成 qemu-kvm 命令行&lt;/li>
&lt;li>lichenhao.bj-net.xml 该文件会转换成如下内容&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>LC_ALL&lt;span style="color:#f92672">=&lt;/span>C PATH&lt;span style="color:#f92672">=&lt;/span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>QEMU_AUDIO_DRV&lt;span style="color:#f92672">=&lt;/span>none
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/usr/libexec/qemu-kvm -name lichenhao.bj-net &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-machine pc-i440fx-rhel7.0.0,accel&lt;span style="color:#f92672">=&lt;/span>kvm,usb&lt;span style="color:#f92672">=&lt;/span>off,dump-guest-core&lt;span style="color:#f92672">=&lt;/span>off &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-cpu Skylake-Server-IBRS,-ds,-acpi,+ss,-ht,-tm,-pbe,-dtes64,-monitor,-ds_cpl,-vmx,-smx,-est,-tm2,-xtpr,-pdcm,-dca,-osxsave,-tsc_adjust,+clflushopt,-intel-pt,+pku,-ospke,+avx512vnni,+md-clear,+stibp,+ssbd,+hypervisor,-arat &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-m &lt;span style="color:#ae81ff">4096&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-realtime mlock&lt;span style="color:#f92672">=&lt;/span>off
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-smp 2,sockets&lt;span style="color:#f92672">=&lt;/span>2,cores&lt;span style="color:#f92672">=&lt;/span>1,threads&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-uuid 51b47472-5564-424e-90b5-19e9eecfd671 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-no-user-config -nodefaults &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev socket,id&lt;span style="color:#f92672">=&lt;/span>charmonitor,path&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/qemu/domain--1-lichenhao.bj-net/monitor.sock,server,nowait &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-mon chardev&lt;span style="color:#f92672">=&lt;/span>charmonitor,id&lt;span style="color:#f92672">=&lt;/span>monitor,mode&lt;span style="color:#f92672">=&lt;/span>control &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-rtc base&lt;span style="color:#f92672">=&lt;/span>utc,driftfix&lt;span style="color:#f92672">=&lt;/span>slew &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global kvm-pit.lost_tick_policy&lt;span style="color:#f92672">=&lt;/span>delay &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-no-hpet -no-shutdown &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global PIIX4_PM.disable_s3&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global PIIX4_PM.disable_s4&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-boot strict&lt;span style="color:#f92672">=&lt;/span>on &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-ehci1,id&lt;span style="color:#f92672">=&lt;/span>usb,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x4.0x7 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-uhci1,masterbus&lt;span style="color:#f92672">=&lt;/span>usb.0,firstport&lt;span style="color:#f92672">=&lt;/span>0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,multifunction&lt;span style="color:#f92672">=&lt;/span>on,addr&lt;span style="color:#f92672">=&lt;/span>0x4 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-uhci2,masterbus&lt;span style="color:#f92672">=&lt;/span>usb.0,firstport&lt;span style="color:#f92672">=&lt;/span>2,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x4.0x1 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ich9-usb-uhci3,masterbus&lt;span style="color:#f92672">=&lt;/span>usb.0,firstport&lt;span style="color:#f92672">=&lt;/span>4,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x4.0x2 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-serial-pci,id&lt;span style="color:#f92672">=&lt;/span>virtio-serial0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x5 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-drive file&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/images/lichenhao.bj-net.qcow2,format&lt;span style="color:#f92672">=&lt;/span>qcow2,if&lt;span style="color:#f92672">=&lt;/span>none,id&lt;span style="color:#f92672">=&lt;/span>drive-virtio-disk0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-blk-pci,scsi&lt;span style="color:#f92672">=&lt;/span>off,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x6,drive&lt;span style="color:#f92672">=&lt;/span>drive-virtio-disk0,id&lt;span style="color:#f92672">=&lt;/span>virtio-disk0,bootindex&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-drive &lt;span style="color:#66d9ef">if&lt;/span>&lt;span style="color:#f92672">=&lt;/span>none,id&lt;span style="color:#f92672">=&lt;/span>drive-ide0-0-0,readonly&lt;span style="color:#f92672">=&lt;/span>on &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device ide-cd,bus&lt;span style="color:#f92672">=&lt;/span>ide.0,unit&lt;span style="color:#f92672">=&lt;/span>0,drive&lt;span style="color:#f92672">=&lt;/span>drive-ide0-0-0,id&lt;span style="color:#f92672">=&lt;/span>ide0-0-0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-netdev tap,fd&lt;span style="color:#f92672">=&lt;/span>28,id&lt;span style="color:#f92672">=&lt;/span>hostnet0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-net-pci,netdev&lt;span style="color:#f92672">=&lt;/span>hostnet0,id&lt;span style="color:#f92672">=&lt;/span>net0,mac&lt;span style="color:#f92672">=&lt;/span>52:54:00:6d:fa:f0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x3 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev pty,id&lt;span style="color:#f92672">=&lt;/span>charserial0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device isa-serial,chardev&lt;span style="color:#f92672">=&lt;/span>charserial0,id&lt;span style="color:#f92672">=&lt;/span>serial0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev socket,id&lt;span style="color:#f92672">=&lt;/span>charchannel0,path&lt;span style="color:#f92672">=&lt;/span>/var/lib/libvirt/qemu/channel/target/domain--1-lichenhao.bj-net/org.qemu.guest_agent.0,server,nowait &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtserialport,bus&lt;span style="color:#f92672">=&lt;/span>virtio-serial0.0,nr&lt;span style="color:#f92672">=&lt;/span>1,chardev&lt;span style="color:#f92672">=&lt;/span>charchannel0,id&lt;span style="color:#f92672">=&lt;/span>channel0,name&lt;span style="color:#f92672">=&lt;/span>org.qemu.guest_agent.0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev spicevmc,id&lt;span style="color:#f92672">=&lt;/span>charchannel1,name&lt;span style="color:#f92672">=&lt;/span>vdagent &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtserialport,bus&lt;span style="color:#f92672">=&lt;/span>virtio-serial0.0,nr&lt;span style="color:#f92672">=&lt;/span>2,chardev&lt;span style="color:#f92672">=&lt;/span>charchannel1,id&lt;span style="color:#f92672">=&lt;/span>channel1,name&lt;span style="color:#f92672">=&lt;/span>com.redhat.spice.0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-device usb-tablet,id&lt;span style="color:#f92672">=&lt;/span>input0,bus&lt;span style="color:#f92672">=&lt;/span>usb.0,port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-vnc 127.0.0.1:0 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-vga qxl &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.ram_size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">67108864&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.vram_size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">67108864&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.vgamem_mb&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">16&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-global qxl-vga.max_outputs&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev spicevmc,id&lt;span style="color:#f92672">=&lt;/span>charredir0,name&lt;span style="color:#f92672">=&lt;/span>usbredir &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device usb-redir,chardev&lt;span style="color:#f92672">=&lt;/span>charredir0,id&lt;span style="color:#f92672">=&lt;/span>redir0,bus&lt;span style="color:#f92672">=&lt;/span>usb.0,port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-chardev spicevmc,id&lt;span style="color:#f92672">=&lt;/span>charredir1,name&lt;span style="color:#f92672">=&lt;/span>usbredir &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device usb-redir,chardev&lt;span style="color:#f92672">=&lt;/span>charredir1,id&lt;span style="color:#f92672">=&lt;/span>redir1,bus&lt;span style="color:#f92672">=&lt;/span>usb.0,port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-device virtio-balloon-pci,id&lt;span style="color:#f92672">=&lt;/span>balloon0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x7 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-object rng-random,id&lt;span style="color:#f92672">=&lt;/span>objrng0,filename&lt;span style="color:#f92672">=&lt;/span>/dev/urandom &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>-device virtio-rng-pci,rng&lt;span style="color:#f92672">=&lt;/span>objrng0,id&lt;span style="color:#f92672">=&lt;/span>rng0,bus&lt;span style="color:#f92672">=&lt;/span>pci.0,addr&lt;span style="color:#f92672">=&lt;/span>0x8 &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-msg timestamp&lt;span style="color:#f92672">=&lt;/span>on
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>dump dump the core of a domain to a file for analysis&lt;/p>
&lt;h1 id="dumpxml--显示-domain-的-xml-格式的信息">dumpxml # 显示 domain 的 XML 格式的信息&lt;/h1>
&lt;p>EXAMLPE&lt;/p>
&lt;ul>
&lt;li>virsh dumpxml lchTest # 显示 lchTest 这个虚拟机的 xml 信息&lt;/li>
&lt;/ul>
&lt;h1 id="edit--编辑一个-domain-的-xml-配置">edit # 编辑一个 domain 的 XML 配置&lt;/h1>
&lt;p>event Domain Events&lt;/p>
&lt;p>inject-nmi Inject NMI to the guest&lt;/p>
&lt;p>iothreadinfo view domain IOThreads&lt;/p>
&lt;p>iothreadpin control domain IOThread affinity&lt;/p>
&lt;p>iothreadadd add an IOThread to the guest domain&lt;/p>
&lt;p>iothreaddel delete an IOThread from the guest domain&lt;/p>
&lt;p>send-key Send keycodes to the guest&lt;/p>
&lt;p>send-process-signal Send signals to processes&lt;/p>
&lt;p>lxc-enter-namespace LXC Guest Enter Namespace&lt;/p>
&lt;p>managedsave managed save of a domain state&lt;/p>
&lt;p>managedsave-remove Remove managed save of a domain&lt;/p>
&lt;p>memtune Get or set memory parameters&lt;/p>
&lt;p>metadata show or set domain&amp;rsquo;s custom XML metadata&lt;/p>
&lt;p>migrate migrate domain to another host&lt;/p>
&lt;p>migrate-setmaxdowntime set maximum tolerable downtime&lt;/p>
&lt;p>migrate-compcache get/set compression cache size&lt;/p>
&lt;p>migrate-setspeed Set the maximum migration bandwidth&lt;/p>
&lt;p>migrate-getspeed Get the maximum migration bandwidth&lt;/p>
&lt;p>numatune Get or set numa parameters&lt;/p>
&lt;p>qemu-attach QEMU Attach&lt;/p>
&lt;p>qemu-monitor-command QEMU Monitor Command&lt;/p>
&lt;p>qemu-monitor-event QEMU Monitor Events&lt;/p>
&lt;h1 id="qemu-agent-command--向-domain-中执行-qemu-guest-agent-命令">qemu-agent-command # 向 domain 中执行 QEMU Guest Agent 命令&lt;/h1>
&lt;p>可用的 QGA 命令详见：&lt;a href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/KVM_QEMU/QEMU%20Guest%20Agent/QMP%20%E5%91%BD%E4%BB%A4%E5%8F%82%E8%80%83.md">QMP 命令参考&lt;/a>&lt;/p>
&lt;h2 id="syntax语法-3">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>qemu-agent-command DOMAIN [OPTIONS] CMD&lt;/strong>&lt;/p>
&lt;p>命令示例详见：应用示例&lt;/p>
&lt;h1 id="reboot--重新启动一个-domainre">reboot # 重新启动一个 domainre&lt;/h1>
&lt;p>reset reset a domain&lt;/p>
&lt;p>restore restore a domain from a saved state in a file&lt;/p>
&lt;p>resume resume a domain&lt;/p>
&lt;p>save save a domain state to a file&lt;/p>
&lt;p>save-image-define redefine the XML for a domain&amp;rsquo;s saved state file&lt;/p>
&lt;p>save-image-dumpxml saved state domain information in XML&lt;/p>
&lt;p>save-image-edit edit XML for a domain&amp;rsquo;s saved state file&lt;/p>
&lt;p>schedinfo show/set scheduler parameters&lt;/p>
&lt;p>screenshot take a screenshot of a current domain console and store it into a file&lt;/p>
&lt;p>set-user-password set the user password inside the domain&lt;/p>
&lt;p>setmaxmem change maximum memory limit&lt;/p>
&lt;p>setmem change memory allocation&lt;/p>
&lt;p>setvcpus change number of virtual CPUs&lt;/p>
&lt;h1 id="shutdown--优雅得关闭-domain">shutdown # 优雅得关闭 domain&lt;/h1>
&lt;h1 id="start--启动一个-domain">start # 启动一个 domain&lt;/h1>
&lt;p>suspend suspend a domain&lt;/p>
&lt;p>ttyconsole tty console&lt;/p>
&lt;h1 id="undefine--取消定义一个-domainie删除一台虚拟机">undefine # 取消定义一个 domain。i.e.删除一台虚拟机&lt;/h1>
&lt;p>该命令会删除 /etc/libvirt/qemu/ 目录下描述该 domain 的 xml 文件&lt;/p>
&lt;h2 id="syntax语法-4">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>undefine &amp;lt;DOMAIN&amp;gt; [OPTIONS]&lt;/strong>&lt;/p>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;managed-save remove domain managed state file&lt;/li>
&lt;li>&amp;ndash;storage &amp;lt;STRING&amp;gt; remove associated storage volumes (comma separated list of targets or source paths) (see domblklist)&lt;/li>
&lt;li>&lt;strong>&amp;ndash;remove-all-storage&lt;/strong> # 移除所有与该 domain 关联的存储卷。(谨慎使用)&lt;/li>
&lt;li>&lt;strong>&amp;ndash;delete-snapshots&lt;/strong> # 删除与卷关联的快照，需要&amp;ndash;remove-all-storage（必须由存储驱动程序支持）&lt;/li>
&lt;li>&amp;ndash;wipe-storage wipe data on the removed volumes&lt;/li>
&lt;li>&lt;strong>&amp;ndash;snapshots-metadata&lt;/strong> # 删除 domain 所有快照元数据（如果不活动）&lt;/li>
&lt;li>&amp;ndash;nvram remove nvram file, if inactive&lt;/li>
&lt;li>&amp;ndash;keep-nvram keep nvram file, if inactive&lt;/li>
&lt;/ul>
&lt;p>vcpucount domain vcpu counts
vcpuinfo detailed domain vcpu information
vcpupin control or query domain vcpu affinity&lt;/p>
&lt;p>emulatorpin control or query domain emulator affinity&lt;/p>
&lt;p>vncdisplay vnc display&lt;/p></description></item><item><title>Docs: Interface 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Interface-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Interface-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;/blockquote>
&lt;p>iface-begin create a snapshot of current interfaces settings, which can be later committed (iface-commit) or restored (iface-rollback)
iface-bridge create a bridge device and attach an existing network device to it
iface-commit commit changes made since iface-begin and free restore point
iface-define define an inactive persistent physical host interface or modify an existing persistent one from an XML file
iface-destroy destroy a physical host interface (disable it / &amp;ldquo;if-down&amp;rdquo;)
iface-dumpxml interface information in XML
iface-edit edit XML configuration for a physical host interface&lt;/p>
&lt;h1 id="iface-list--列出宿主机的接口ie宿主机的网络设备">iface-list # 列出宿主机的接口(i.e.宿主机的网络设备)&lt;/h1>
&lt;p>iface-mac convert an interface name to interface MAC address
iface-name convert an interface MAC address to interface name
iface-rollback rollback to previous saved configuration created via iface-begin
iface-start start a physical host interface (enable it / &amp;ldquo;if-up&amp;rdquo;)
iface-unbridge undefine a bridge device after detaching its slave deviceiface-unbridge
iface-undefine undefine a physical host interface (remove it from configuration)&lt;/p></description></item><item><title>Docs: Snapshot 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Snapshot-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Snapshot-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-commands">官方 Manual(手册)，SNAPSHOT COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="snapshot-createhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-create--从-xml-文件中创建一个-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-create">snapshot-create&lt;/a> # 从 XML 文件中创建一个 domain 的快照&lt;/h1>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>使用 base.xml 文件，为虚拟机 master 创建一个快照
&lt;ul>
&lt;li>virsh snapshot-create master base.xml&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="snapshot-create-ashttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-create-as--从一组参数中创建一个-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-create-as">snapshot-create-as&lt;/a> # 从一组参数中创建一个 domain 的快照&lt;/h1>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>为虚拟机 master 创建一个当前状态的快照，名字为 base
&lt;ul>
&lt;li>virsh snapshot-create-as master &amp;ndash;name base&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="snapshot-currenthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-current">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-current">snapshot-current&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-edithttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-edit--编辑指定的-domain-的快照的-xml-文件">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-edit">snapshot-edit&lt;/a> # 编辑指定的 domain 的快照的 XML 文件&lt;/h1>
&lt;h1 id="snapshot-infohttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-info">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-info">snapshot-info&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-listhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-list--列出指定-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-list">snapshot-list&lt;/a> # 列出指定 domain 的快照&lt;/h1>
&lt;h1 id="snapshot-dumpxmlhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-dumpxml">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-dumpxml">snapshot-dumpxml&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-parenthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-parent">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-parent">snapshot-parent&lt;/a>&lt;/h1>
&lt;h1 id="snapshot-reverthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-revert--恢复一个-domain-到其上的一个快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-revert">snapshot-revert&lt;/a> # 恢复一个 domain 到其上的一个快照&lt;/h1>
&lt;h1 id="snapshot-deletehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstsnapshot-delete--删除指定的-domain-的快照">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#snapshot-delete">snapshot-delete&lt;/a> # 删除指定的 domain 的快照&lt;/h1></description></item><item><title>Docs: Virtual Network 命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Virtual-Network-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/Virtual-Network-%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#virtual-network-commands">官方 Manual(手册)，VIRTUAL NETWORK COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="net-autostarthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-autostart">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-autostart">net-autostart&lt;/a>&lt;/h1>
&lt;h1 id="net-createhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-create">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-create">net-create&lt;/a>&lt;/h1>
&lt;h1 id="net-definehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-define--定义一个非活动的持久虚拟网络或从-xml-文件中修改一个现有的持久虚拟网络">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-define">net-define&lt;/a> # 定义一个非活动的持久虚拟网络或从 XML 文件中修改一个现有的持久虚拟网络&lt;/h1>
&lt;h1 id="net-destroyhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-destroy--摧毁一个网络">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-destroy">net-destroy&lt;/a> # 摧毁一个网络&lt;/h1>
&lt;h1 id="net-dumpxmlhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-dumpxml">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-dumpxml">net-dumpxml&lt;/a>&lt;/h1>
&lt;h1 id="net-edithttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-edit">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-edit">net-edit&lt;/a>&lt;/h1>
&lt;h1 id="net-eventhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-event">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-event">net-event&lt;/a>&lt;/h1>
&lt;h1 id="net-infohttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-info">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-info">net-info&lt;/a>&lt;/h1>
&lt;h1 id="net-listhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-list">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-list">net-list&lt;/a>&lt;/h1>
&lt;h1 id="net-namehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-name">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-name">net-name&lt;/a>&lt;/h1>
&lt;h1 id="net-starthttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-start">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-start">net-start&lt;/a>&lt;/h1>
&lt;h1 id="net-undefinehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-undefine">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-undefine">net-undefine&lt;/a>&lt;/h1>
&lt;h1 id="net-uuidhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-uuid">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-uuid">net-uuid&lt;/a>&lt;/h1>
&lt;h1 id="net-updatehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-update">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-update">net-update&lt;/a>&lt;/h1>
&lt;h1 id="net-dhcp-leaseshttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstnet-dhcp-leases">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#net-dhcp-leases">net-dhcp-leases&lt;/a>&lt;/h1></description></item><item><title>Docs: 通用命令</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/1.2.%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%AE%A1%E7%90%86/Libvirt/virsh-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#generic-commands">官方 Manual(手册)，GENERIC COMMANDS&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#quit-exit">quit, exit&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#version">version&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cd">cd&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#pwd">pwd&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#connect">connect&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#uri">uri&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hostname">hostname&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#sysinfo">sysinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodeinfo">nodeinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodecpumap">nodecpumap&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodecpustats">nodecpustats&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodememstats">nodememstats&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodesevinfo">nodesevinfo&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#nodesuspend">nodesuspend&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#node-memory-tune">node-memory-tune&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#capabilities">capabilities&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#domcapabilities">domcapabilities&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#pool-capabilities">pool-capabilities&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#inject-nmi">inject-nmi&lt;/a>&lt;/p>
&lt;h1 id="listhttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstlist--列出所有正在运行的-domain">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#list">list&lt;/a> # 列出所有正在运行的 domain&lt;/h1>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>list [OPTIONS]&lt;/strong>
OPTIONS&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;all # 列出活动和非活动的所有 domain&lt;/li>
&lt;li>&amp;ndash;title # 显示 domain 的 title&lt;/li>
&lt;li>&amp;ndash;name # 仅显示虚拟机名称&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>virsh list # 列出所有正在运行的 domain&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#freecell">freecell&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#freepages">freepages&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#allocpages">allocpages&lt;/a>&lt;/p>
&lt;h1 id="cpu-baselinehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstcpu-baseline">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-baseline">cpu-baseline&lt;/a>&lt;/h1>
&lt;h1 id="cpu-comparehttpsgithubcomlibvirtlibvirtblobmasterdocsmanpagesvirshrstcpu-compare">&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-compare">cpu-compare&lt;/a>&lt;/h1>
&lt;p>&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#cpu-models">cpu-models&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hypervisor-cpu-compare">hypervisor-cpu-compare&lt;/a>
&lt;a href="https://github.com/libvirt/libvirt/blob/master/docs/manpages/virsh.rst#hypervisor-cpu-baseline">hypervisor-cpu-baseline&lt;/a>&lt;/p></description></item></channel></rss>