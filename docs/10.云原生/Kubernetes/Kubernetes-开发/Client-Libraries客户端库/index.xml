<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Client Libraries(客户端库) on 断念梦的站点</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/</link><description>Recent content in Client Libraries(客户端库) on 断念梦的站点</description><generator>Hugo</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/index.xml" rel="self" type="application/rss+xml"/><item><title>Client Libraries(客户端库)</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/</guid><description>概述 参考：
官方文档，参考 - 使用 API - 客户端库 Client Libraries(客户端库) 是各种编程语言的第三方库的统称。这些库可以用来让各种编程语言通过代码的方式访问 Kubernetes API。在使用这些库编写代码时，并不需要自己实现对 Kubernetes API 的调用和 处理 Request/Response，这些处理逻辑都在 Client Libraries 中包括了。客户端库还会处理诸如身份验证之类的行为。
如果代码在 Kubernetes 集群中运行，代码中的 Client Libraires 可以发现并使用 Kubernetes 的 ServiceAccount 进行身份验证。
如果代码在 Kubernetes 集群外运行，代码中的 Client Libraires 能够理解 KubeConfig 格式来读取凭据和 API 服务器地址。
Kubernetes 现阶段官方支持 Go、Python、Java、 dotnet、Javascript 和 Haskell 语言的客户端库。还有一些其他客户端库由对应作者而非 Kubernetes 团队提供并维护。 参考客户端库了解如何使用其他语言 来访问 API 以及如何执行身份认证。
Go Client</description></item><item><title>client-go连接K8s集群进行pod的增删改查</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/client-go%E8%BF%9E%E6%8E%A5K8s%E9%9B%86%E7%BE%A4%E8%BF%9B%E8%A1%8Cpod%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/client-go%E8%BF%9E%E6%8E%A5K8s%E9%9B%86%E7%BE%A4%E8%BF%9B%E8%A1%8Cpod%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</guid><description>背景 最近在看client-go源码最基础的部分，client-go的四类客户端，RestClient、ClientSet、DynamicClient、DiscoveryClient。其中RestClient是最基础的客户端，它对Http进行了封装，支持JSON和protobuf格式数据。其它三类客户端都是通过在RestClient基础上再次封装而得来。不过我对ClientSet和DynamicClient傻傻分不清，虽然很多资料上说它两最大区别是，ClientSet能够使用预先生成的Api和ApiServer进行通信；而DynamicClient更加强大，不仅仅能够调用预先生成的Api，还能够对一些CRD资源通过结构化嵌套类型跟ApiServer进行通信。意思大致明白前者能够调用Kubernetes本地资源类型，后者还可以调用一些自定资源，那么他们究竟是如何跟ApiServer进行交互、Pod的增删改查呢？本文通过分析ClientSet代码和client-go客户端调用Kubernetes集群的方式来演示下整个交互过程。
准备工作 已经安装Kubernetes集群和配置本地IDE环境
根据kubernetes集群版本选择clone client-go到本地：https://github.com/kubernetes/client-go/tree/release-14.0。 导入到IDE。 运行 examples/create-update-delete-deployment/main.go 正常情况下会提示如下错误： panic: CreateFile C:\Users\shj\.kube\config: The system cannot find the path spe cified. 错误信息提示很清楚，没有找到本地文件夹下的config文件，处理方式也很简单，只需要把你Kubernetes集群中$HOME/.kube/config复制到本地即可；仔细阅读代码可以发现，也可以通过自行配置客户端连接信息（生产环境慎用）。
4、运行 main 函数即可进行 Pod 增删改查操作。
client-go 连接 ApiServer 进行 Pod 的增删改查 获取APIserver连接地址、认证配置等信息 var kubeconfig *string //获取当前用户home文件夹，并获取kubeconfig配置 if home := homedir.HomeDir(); home != &amp;#34;&amp;#34; { kubeconfig = flag.String(&amp;#34;kubeconfig&amp;#34;, filepath.Join(home, &amp;#34;.kube&amp;#34;, &amp;#34;config&amp;#34;), &amp;#34;(optional) absolute path to the kubeconfig file&amp;#34;) } else {//如果没有获取到，则需要自行配置kubeconfig kubeconfig = flag.String(&amp;#34;kubeconfig&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;absolute path to the kubeconfig file&amp;#34;) } //把用户传递的命令行参数，解析为响应变量的值 flag.</description></item><item><title>Go Client</title><link>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/Go-Client/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/10.%E4%BA%91%E5%8E%9F%E7%94%9F/Kubernetes/Kubernetes-%E5%BC%80%E5%8F%91/Client-Libraries%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BA%93/Go-Client/</guid><description>概述 参考：
GitHub 项目，kubernetes/client-go Danielhu 博客 公众号-KubeSphere 云原生，Client-go 源码分析之 SharedInformer Go Client 就是 Kubernetes 针对 Go 编程语言 而言的 Client Library。Go Client 项目名称为 client-go，是用来与 Kubernetes 对话的 Go 编程语言 的第三方库。
安装 client-go 版本控制策略：k8s 版本 1.18.8 对应 client-go 版本 0.18.8，其他版本以此类推。
使用前注意事项： 使用 client-go 之前，需要手动获取对应版本的的 client-go 库。
如果使用的 Kubernetes 版本&amp;gt; = v1.17.0，请使用相应的 v0.x.y标签。例如，k8s.io/client-go@v0.17.0对应于 Kubernetes v1.17.0
根据版本控制策略，使用如下命令进行初始化:
# 初始化项目 go mod init github.com/DesistDaydream/kubernetes-development # 为 go.mod 文件添加 require k8s.io/client-go v0.19.2 // indirect 信息 go get k8s.</description></item></channel></rss>