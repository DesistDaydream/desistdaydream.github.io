<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦的站点 – 主题</title><link>https://desistdaydream.github.io/docs/Web/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/Hugo/%E4%B8%BB%E9%A2%98/</link><description>Recent content in 主题 on 断念梦的站点</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/Web/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/Hugo/%E4%B8%BB%E9%A2%98/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Docsy</title><link>https://desistdaydream.github.io/docs/Web/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/Hugo/%E4%B8%BB%E9%A2%98/Docsy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/Web/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/Hugo/%E4%B8%BB%E9%A2%98/Docsy/</guid><description>
&lt;h1 id="概述">概述&lt;a class="td-heading-self-link" href="#%e6%a6%82%e8%bf%b0" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/google/docsy">GitHub 项目，google/docsy&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.docsy.dev/">官网&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Kubernetes 的官网就是 Docsy 主题。&lt;/p>
&lt;p>注意：Docsy 必须使用 扩展版 hugo，即 hugo_extended。&lt;/p>
&lt;h1 id="预览和部署-docsy-主题网站">预览和部署 Docsy 主题网站&lt;a class="td-heading-self-link" href="#%e9%a2%84%e8%a7%88%e5%92%8c%e9%83%a8%e7%bd%b2-docsy-%e4%b8%bb%e9%a2%98%e7%bd%91%e7%ab%99" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.docsy.dev/docs/deployment/">官方文档，预览和部署&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="准备环境">准备环境&lt;a class="td-heading-self-link" href="#%e5%87%86%e5%a4%87%e7%8e%af%e5%a2%83" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>npm install -D autoprefixer
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>npm install -D postcss-cli
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>npm install -D postcss
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>若不在本地安装，则使用 &lt;code>hugo&lt;/code> 命令构建静态文件时将会报错&lt;/p>
&lt;/blockquote>
&lt;h2 id="生成站点文件">生成站点文件&lt;a class="td-heading-self-link" href="#%e7%94%9f%e6%88%90%e7%ab%99%e7%82%b9%e6%96%87%e4%bb%b6" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h3 id="生成模板站点">生成模板站点&lt;a class="td-heading-self-link" href="#%e7%94%9f%e6%88%90%e6%a8%a1%e6%9d%bf%e7%ab%99%e7%82%b9" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">MY_SITE_DIR&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;docsy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git clone https://github.com/google/docsy-example.git &lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">MY_SITE_DIR&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">cd&lt;/span> &lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">MY_SITE_DIR&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="生成空白站点">生成空白站点&lt;a class="td-heading-self-link" href="#%e7%94%9f%e6%88%90%e7%a9%ba%e7%99%bd%e7%ab%99%e7%82%b9" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Bash" data-lang="Bash">&lt;span style="display:flex;">&lt;span>hugo new site .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo mod init github.com/me/my-new-site
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo mod get github.com/google/docsy@v0.6.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &amp;gt;&amp;gt; hugo.toml &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOL
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">[module]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">proxy = &amp;#34;direct&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">[[module.imports]]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">path = &amp;#34;github.com/google/docsy&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOL&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="预览">预览&lt;a class="td-heading-self-link" href="#%e9%a2%84%e8%a7%88" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>hugo server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="部署">部署&lt;a class="td-heading-self-link" href="#%e9%83%a8%e7%bd%b2" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;a href="https://lucumt.info/post/hugo/using-github-action-to-auto-build-deploy/">https://lucumt.info/post/hugo/using-github-action-to-auto-build-deploy/&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://tomial.github.io/posts/hugo%E4%BD%BF%E7%94%A8github-action%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2%E5%88%B0github-pages/">https://tomial.github.io/posts/hugo%E4%BD%BF%E7%94%A8github-action%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2%E5%88%B0github-pages/&lt;/a>&lt;/p>
&lt;p>使用 Hugo 搭建 GitHub Pages &lt;a href="https://zz2summer.github.io/github-pages-hugo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/#%E4%B8%83%E6%97%A5%E5%B8%B8%E6%93%8D%E4%BD%9C">https://zz2summer.github.io/github-pages-hugo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/#%E4%B8%83%E6%97%A5%E5%B8%B8%E6%93%8D%E4%BD%9C&lt;/a>&lt;/p>
&lt;h2 id="常见问题">常见问题&lt;a class="td-heading-self-link" href="#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;a href="https://github.com/google/docsy/issues/235">构建站点时出错：# POSTCSS: failed to transform &amp;ldquo;scss/main.css&amp;rdquo;&lt;/a>&lt;/p>
&lt;h1 id="docsy-配置与关联文件">Docsy 配置与关联文件&lt;a class="td-heading-self-link" href="#docsy-%e9%85%8d%e7%bd%ae%e4%b8%8e%e5%85%b3%e8%81%94%e6%96%87%e4%bb%b6" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>Docsy 也会使用 Hugo 的 CONFIG 文件来配置站点。参考&lt;a href="https://www.docsy.dev/docs/adding-content/">官网，内容和定制&lt;/a>章节来修改 CONFIG 文件，以改变主题样式。&lt;/p>
&lt;p>Docsy 的配置主要在 Hugo CONFIG 配置文件中的 &lt;code>[params]&lt;/code> 部分&lt;/p>
&lt;h2 id="多语言支持">多语言支持&lt;a class="td-heading-self-link" href="#%e5%a4%9a%e8%af%ad%e8%a8%80%e6%94%af%e6%8c%81" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;a href="https://www.docsy.dev/docs/language/#content-and-configuration">https://www.docsy.dev/docs/language/#content-and-configuration&lt;/a>&lt;/p>
&lt;p>Docsy 主题中的页面有些地方是没有翻译的，可以在 Hugo 项目根目录创建 &lt;code>/i18n/&lt;/code> 目录，并按照语言编写像 &lt;code>zh-cn.toml&lt;/code> 这种配置文件，即可为这些地方显示对应语言的内容。&lt;/p>
&lt;blockquote>
&lt;p>配置文件内容可以参考 Kubernetes 的 &lt;a href="https://github.com/kubernetes/website/blob/main/data/i18n/zh-cn/zh-cn.toml">https://github.com/kubernetes/website/blob/main/data/i18n/zh-cn/zh-cn.toml&lt;/a>&lt;/p>
&lt;/blockquote></description></item></channel></rss>