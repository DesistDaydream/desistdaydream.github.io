<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦 – Ansible</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/</link><description>Recent content in Ansible on 断念梦</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Ansible</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.ansible.com/">官网&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/ansible/ansible">GitHub 项目，ansible/ansible&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/index.html">官方文档&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/qu0vPgyNBbRlTtf1pMtq7Q">公众号,程序员面试吧-快速入门 Ansible 自动化运维工具&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.zsythink.net/archives/tag/ansible/">https://www.zsythink.net/archives/tag/ansible/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Ansible is a radically simple IT automation platform that makes your applications and systems easier to deploy and maintain. Automate everything from code deployment to network configuration to cloud management, in a language that approaches plain English, using SSH, with no agents to install on remote systems&lt;/p>
&lt;p>Ansible 是一个非常简单的 IT 自动化系统。它处理配置管理、应用程序部署、云供应、临时任务执行、网络自动化和多节点编排。Ansible 可以轻松得批量进行复杂的更改，例如使用负载均衡器进行零停机滚动更新。而这一过程使用 SSH 实现，无需在远程系统上安装代理程序。&lt;/p>
&lt;p>Ansible 的主要目标是简单易用。它还非常注重安全性和可靠性，具有最少的移动部件，使用 OpenSSH 进行传输（使用其他传输和拉模式作为替代），以及一种围绕人类可审计性设计的语言 - 即使是那些不熟悉的人该程序。&lt;/p>
&lt;h2 id="概念">概念&lt;/h2>
&lt;p>&lt;strong>Control node(控制节点)&lt;/strong> # 任何安装了 Ansible 的机器都可以称为控制节点。在控制节点中可以通过调用 &lt;code>ansible&lt;/code> 或 &lt;code>ansible-playbook&lt;/code> 命令来运行 Ansible 相关命令和 Playbooks。&lt;/p>
&lt;p>&lt;strong>Managed nodes(受管理节点)&lt;/strong> # 使用 Ansible 管理的 网络设备 或 服务器。受管理节点有时候也称为 &lt;strong>hosts&lt;/strong>。&lt;/p>
&lt;p>&lt;strong>Inventory(库存)&lt;/strong> # 库存是一个受管理节点的列表。库存有时候也称为 &lt;strong>hostfile&lt;/strong>。Inventory 还可以用来组织受管理节点，将每个节点进行分组，以便于扩展&lt;/p>
&lt;p>&lt;strong>Collections&lt;/strong> # 2.10 版本之后的新概念。Collections 是 Ansible 内容的分发格式，可以包括 Playbooks、Role、Modules、Plugins。新版中，Modules 和 Plugins 就被托管于 Collections 中。&lt;/p>
&lt;ul>
&lt;li>随着 Ansible 的发展，越来越多的模块、插件被开发并加入到 Ansible 的大家庭，这时候难免会出现命名上的冲突，或者调用上的重复。所以，从 2.10 版本之后，提出了 Collections 的概念。
&lt;ul>
&lt;li>Collections 最大的一个功能就是将模块分类，比如以前 核心模块 command，现在的全名就叫 ansible.builtin.command，前面的 ansible.builtin 就是 command 的 Collections。这种全名称为 &lt;strong>Full Qualified Class Name(完全限定类名，简称 FQCN)&lt;/strong>。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Tasks(任务)&lt;/strong> # Ansible 工作的最小单元，Ansible 对受管理节点执行的操作，称为任务。&lt;/p>
&lt;p>&lt;strong>Modules(模块)&lt;/strong> # 模块就是 Ansible 用来执行 Tasks 的代码。&lt;/p>
&lt;p>&lt;strong>Playbooks(剧本)&lt;/strong> # 一个被保存起来的有序的 Tasks 列表，通过重复运行 Playbooks，可以方便得重复一组任务。Playbooks 中还可以包含变量、模板、条件语句、控制循环，从本质上来说，编写一个 Playbooks，就好像编写一个脚本代码一样。&lt;/p>
&lt;p>Playbooks 是 Ansible 的精髓，如果把 Ansible 当做一门语言，那么就成可以称为 Playbooks 脚本编程语言。&lt;/p>
&lt;h1 id="ansible-的核心组件">Ansible 的核心组件&lt;/h1>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/ot4g6f/1616125280904-828340be-8634-4a3f-a97b-d4600818bd6e.jpeg" alt="">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ansible core&lt;/strong> # 核心组件，ansible 本身&lt;/li>
&lt;li>&lt;strong>host inventory&lt;/strong> # 主机库存，Ansible 所管理的主机清单，一个文本文件&lt;/li>
&lt;li>&lt;strong>Modules&lt;/strong> # 模块。ansible 的 modules 是实现 ansible 的核心，
&lt;ul>
&lt;li>&lt;strong>core modules&lt;/strong> # 核心模块
&lt;ul>
&lt;li>ansible 执行任何命令，都是通过 module 来完成；比如 ansible 让被管理机创建一个用户，那么就会去 core modules 中调用一个能实现创建用户功能的模块，来执行这个操作。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>custom modules&lt;/strong> # 自定义模块
&lt;ul>
&lt;li>可以使用任何编程语言来编写模块，只要符合 ansible 的标准即可，可以实现 ansible 本身不具备的功能&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="ansible-模块与插件">Ansible 模块与插件&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/module_plugin_guide/index.html">官方文档，使用 Ansible 模块与插件&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;a href="https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible%20Modules/Ansible%20Modules.md">Ansible Modules(模块)&lt;/a> 是可以控制系统资源或执行系统命令的代码单元。 Ansible 提供了一个模块库，您可以直接在远程主机上或通过剧本执行。您还可以编写自定义模块。&lt;/p>
&lt;p>&lt;a href="https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible%20Plugins/Ansible%20Plugins.md">Ansible Plugins(插件)&lt;/a> 与模块类似，它们是扩展核心 Ansible 功能的代码片段。 Ansible 使用插件架构来实现丰富、灵活和可扩展的功能集。 Ansible 附带了几个插件，让您可以轻松使用自己的插件。&lt;/p>
&lt;p>比如，&lt;strong>Ansible 的控制节点连接到被管理节点时所使用的连接方式，就是通过 Connection 插件来实现的&lt;/strong>。而连接到目标节点后要执行的任务，则是由模块来实现的。&lt;/p>
&lt;p>再比如，我们在写 Playbook 时，会遇上处理需要文本的情况，比如大写转小写、获取第一个或最后一个字符等等，这些都是使用一种 Filters 的插件实现的。&lt;/p>
&lt;h1 id="ansible-关联文件与配置">Ansible 关联文件与配置&lt;/h1>
&lt;p>&lt;strong>/etc/ansible/ansible.cfg&lt;/strong> # ansible 使用时调用的配置文件&lt;/p>
&lt;p>&lt;strong>/etc/ansible/hosts&lt;/strong> # Inventory 的默认配置文件。该文件可以定义被管理主机的 IP，port 等，都可以定义在该文件中，具体格式如下&lt;/p>
&lt;ul>
&lt;li>单独 host，任何未分组的主机，需要在定义主机组之前定义各单独的 host，可以是 IP 地址或者主机名&lt;/li>
&lt;li>主机组，定义一个主机组，组名用[]括起来，可以定义多个主机组；当使用 ansible 命令的时候，可以使用组名来对该组内所有主机进行操作&lt;/li>
&lt;li>配置文件说明：详见：&lt;a href="https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Inventory%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3.md">inventory 配置文件详解&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Ansible 配置详解</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_configuration.html">官方文档，安装指南-配置 Ansible&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html">官方文档，Ansible 配置设置&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Ansible 可以通过多种方式来配置其运行时行为&lt;/p>
&lt;ul>
&lt;li>配置文件，一般是名为 ansible.cfg 的 INI 格式的配置文件&lt;/li>
&lt;li>环境变量&lt;/li>
&lt;li>命令行选项&lt;/li>
&lt;li>playbook 中的关键字和变量&lt;/li>
&lt;/ul>
&lt;p>Ansible 的配置文件使用 &lt;code>INI 格式&lt;/code> 书写&lt;/p>
&lt;h1 id="defaults">[defaults]&lt;/h1>
&lt;p>&lt;strong>deprecation_warnings = &amp;lt;BOOLEAN&amp;gt;&lt;/strong> # 是否显示某些功能的弃用警告。&lt;code>默认值：TRUE&lt;/code>&lt;/p>
&lt;p>&lt;strong>host_key_checking = &amp;lt;BOOLEAN&amp;gt;&lt;/strong> # 主机 SSH 密钥检查。&lt;code>默认值：TRUE&lt;/code>。如果启用检查，则对从未 ssh 登录过的主机执行任务将会失败。&lt;/p>
&lt;p>&lt;strong>inventory = /etc/ansible/hosts&lt;/strong> # 指定 ansible 运行时所用的主机清单路径。默认路径为/etc/ansible/hosts&lt;/p>
&lt;ul>
&lt;li>Note：可以指定文件或者路径，当指定路径时，则会从该路径下所有文件中读取 host 信息&lt;/li>
&lt;/ul>
&lt;h1 id="inventory">[inventory]&lt;/h1>
&lt;h1 id="privilege_escalation-权限提升部分">[privilege_escalation] 权限提升部分&lt;/h1>
&lt;p>&lt;strong>become=&amp;lt;BOOLEAN&amp;gt;&lt;/strong> # 是否启用以指定用户执行命令。&lt;code>默认值：False&lt;/code>&lt;/p>
&lt;p>&lt;strong>become_method=&amp;lt;STRING&amp;gt;&lt;/strong> # 提升权限的方式。&lt;code>默认值：sudo&lt;/code>&lt;/p>
&lt;p>&lt;strong>become_user=&amp;lt;STRING&amp;gt;&lt;/strong> # 提升权限所使用的&lt;code>默认值：root&lt;/code>&lt;/p>
&lt;p>&lt;strong>become_ask_pass=&amp;lt;BOOLEAN&amp;gt;&lt;/strong> # &lt;code>默认值：True&lt;/code>&lt;/p>
&lt;h1 id="paramiko_connection">[paramiko_connection]&lt;/h1>
&lt;h1 id="ssh_connection">[ssh_connection]&lt;/h1>
&lt;p>&lt;strong>transfer_method = &amp;lt;STRING&amp;gt;&lt;/strong> # 传输文件的机制。&lt;code>默认值：smart&lt;/code>。该指令代替旧版的 scp_if_ssh 指令&lt;/p>
&lt;ul>
&lt;li>sftp # 仅使用 sftp&lt;/li>
&lt;li>scp # 仅使用 scp&lt;/li>
&lt;li>piped # 仅使用 piped&lt;/li>
&lt;li>smart # 按照顺序尝试 sftp、scp、piped&lt;/li>
&lt;/ul>
&lt;h1 id="persistent_connection">[persistent_connection]&lt;/h1>
&lt;h1 id="accelerate">[accelerate]&lt;/h1>
&lt;h1 id="selinux">[selinux]&lt;/h1>
&lt;h1 id="colors">[colors]&lt;/h1>
&lt;h1 id="diff">[diff]&lt;/h1></description></item><item><title>Docs: Inventory 配置文件详解</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Inventory-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Inventory-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html">官方文档,用户指南-如何建立你的 Inventory&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Ansible 可同时操作属于一个组的多台主机,组和主机之间的关系通过 Inventory 文件配置。默认的文件路径为 /etc/ansible/hosts，也可以在 &lt;code>ansible&lt;/code>、&lt;code>ansible-playbook&lt;/code> 命令中使用 -i 选项指定其他的 Inventory 文件。&lt;/p>
&lt;p>除默认文件外,你还可以同时使用多个 inventory 文件(后面会讲到),也可以从动态源,或云上拉取 inventory 配置信息.详见 动态 Inventory.&lt;/p>
&lt;h2 id="inventory文件格式">Inventory文件格式&lt;/h2>
&lt;p>最常见的格式是 INI 和 YAML 格式，下面这是一个 INI 格式的 Inventory 示例&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 例1:定义一个单独的主机。未分组的机器。Note:需要在“例2”中中括号定义组之前指定&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">green.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">192.168.100.1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 例2:定义一个主机组。组名为webservers的主机集合&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[webservers]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">alpha.example.org&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">192.168.1.100&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 再定义一个主机组。组名为dbservers的主机集合&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[dbservers]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">192.168.2.100&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 定义一个主机的另一种方式。使用正则表达式来指定多个主机&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">www[001:006].example.com #www001.example.com一直到www006.example.com一共6台主机&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">db-[a:f]-node.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 可以在主机ip或主机名后面添加参数，以此来控制Ansible与远程主机的交互方式。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 详细的参数信息见官网：https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html#connecting-to-hosts-behavioral-inventory-parameters&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 指定该主机要执行操作的主机ip、用户名和密码&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">www.desistdaydream.com ansible_host&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">10.10.100.200 ansible_user=&amp;#34;root&amp;#34; ansible_password=&amp;#34;my@password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 例3:组的引用,可以把一个或多个组作为另一个组的子成员。all_host 组包含 webservers 与 dbservers 两个组中所有的 hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[all_host:children]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">webservers&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dbservers&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note：该文件的第一列为一般推荐使用主机名来表示，如果需要指定该主机的ip地址，则使用 ansbile_ssh_host 或者 ansible_host 参数来指定ip。&lt;/p>
&lt;p>因为，Ansible 默认变量 inventory_hostname 的值为 inventory 文件中第一列的内容，还有另一个变量是 inventory_hostname_short ，这个变量的值是主机名的短格式&lt;/p>
&lt;p>所以，在 Ansbile 里，自动就会将第一列认定为主机名，如果使用 ip 作为第一列的表示形式，那么与 Ansible 理念不符(至于为什么还可以用 ip 表示，可能是为了大家方便，所以第一列才可以使用 ip 的吧~~~)&lt;/p>
&lt;p>对应的 YAML 格式 Inventory 文件示例：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 定义一个名为 all_host 的组，通过 children 字段把其他组引入&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">all_host&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 例:组的引用,可以把一个或多个组作为另一个组的子成员。all_host 组包含 webservers 与 dbservers 两个组中所有的 hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">children&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 例:定义一个主机组。组名为 dbservers 的主机集合&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">dbservers&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hosts&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">192.168.2.100&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 定义一个主机的另一种方式。使用正则表达式来指定多个主机&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">db-[a:f]-node.example.com&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">www[001:006].example.com&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 可以在主机ip或主机名后面添加参数，以此来控制Ansible与远程主机的交互方式。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 详细的参数信息见官网：https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html#connecting-to-hosts-behavioral-inventory-parameters&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 指定该主机要执行操作的主机ip、用户名和密码&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">www.desistdaydream.com&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible_host&lt;/span>: &lt;span style="color:#ae81ff">10.10.100.200&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible_password&lt;/span>: &lt;span style="color:#ae81ff">my@password&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible_user&lt;/span>: &lt;span style="color:#ae81ff">root&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># 例:定义一个主机组。组名为 webservers 的主机集合&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">webservers&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hosts&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">192.168.1.100&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">alpha.example.org&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 例:定义一个单独的主机。未分组的机器。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">ungrouped&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hosts&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">192.168.100.1&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">green.example.com&lt;/span>:
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="主机与组">主机与组&lt;/h2>
&lt;p>/etc/ansible/hosts 文件使用 INI 语法书写:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">mail.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[webservers]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">foo.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">bar.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[dbservers]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">one.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">two.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">three.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这里的 &lt;code>[]&lt;/code> 中的字符是组名，用于对系统进行分类,便于对不同系统进行个别的管理。&lt;/p>
&lt;p>一个系统可以属于不同的组,比如一台服务器可以同时属于 webserver组 和 dbserver组.这时属于两个组的变量都可以为这台主机所用,至于变量的优先级关系将于以后的章节中讨论.&lt;/p>
&lt;p>如果有主机的SSH端口不是标准的22端口,可在主机名之后加上端口号,用冒号分隔.SSH 配置文件中列出的端口号不会在 paramiko 连接中使用,会在 openssh 连接中使用.&lt;/p>
&lt;p>端口号不是默认设置时,可明确的表示为:&lt;/p>
&lt;pre tabindex="0">&lt;code>badwolf.example.com:5309
&lt;/code>&lt;/pre>&lt;p>假设你有一些静态IP地址,希望设置一些别名,但不是在系统的 host 文件中设置,又或者你是通过隧道在连接,那么可以设置如下:&lt;/p>
&lt;pre tabindex="0">&lt;code>jumper ansible_ssh_port=5555 ansible_ssh_host=192.168.1.50
&lt;/code>&lt;/pre>&lt;p>在这个例子中,通过 “jumper” 别名,会连接 192.168.1.50:5555.记住,这是通过 inventory 文件的特性功能设置的变量. 一般而言,这不是设置变量(描述你的系统策略的变量)的最好方式.后面会说到这个问题.&lt;/p>
&lt;p>一组相似的 hostname , 可简写如下:&lt;/p>
&lt;pre tabindex="0">&lt;code>[webservers]
www[01:50].example.com
&lt;/code>&lt;/pre>&lt;p>数字的简写模式中,01:50 也可写为 1:50,意义相同.你还可以定义字母范围的简写模式:&lt;/p>
&lt;pre tabindex="0">&lt;code>[databases]
db-[a:f].example.com
&lt;/code>&lt;/pre>&lt;p>对于每一个 host,你还可以选择连接类型和连接用户名:&lt;/p>
&lt;pre tabindex="0">&lt;code>[targets]
localhost ansible_connection=local
other1.example.com ansible_connection=ssh ansible_ssh_user=mpdehaan
other2.example.com ansible_connection=ssh ansible_ssh_user=mdehaan
&lt;/code>&lt;/pre>&lt;p>所有以上讨论的对于 inventory 文件的设置是一种速记法,后面我们会讨论如何将这些设置保存为 ‘host_vars’ 目录中的独立的文件.&lt;/p>
&lt;h3 id="默认组">默认组&lt;/h3>
&lt;p>Inventory 文件中有两个默认的组，名称为：&lt;code>all&lt;/code> 和 &lt;code>ungrouped&lt;/code>(这两个名称是隐藏的)。all 组包含所有主机，ungrouped 组包含除了 all 有之外没有属组的主机。&lt;/p>
&lt;p>每个主机至少属于 2 个组&lt;/p>
&lt;ul>
&lt;li>all 和 ungrouped&lt;/li>
&lt;li>all 和 某组&lt;/li>
&lt;/ul>
&lt;h2 id="主机变量">主机变量&lt;/h2>
&lt;p>前面已经提到过,分配变量给主机很容易做到,这些变量定义后可在 playbooks 中使用:&lt;/p>
&lt;pre tabindex="0">&lt;code>[atlanta]
host1 http_port=80 maxRequestsPerChild=808
host2 http_port=303 maxRequestsPerChild=909
&lt;/code>&lt;/pre>&lt;h2 id="组变量">组变量&lt;/h2>
&lt;p>也可以定义属于整个组的变量:&lt;/p>
&lt;pre tabindex="0">&lt;code>[atlanta]
host1
host2
[atlanta:vars]
ntp_server=ntp.atlanta.example.com
&lt;/code>&lt;/pre>&lt;p>把一个组作为另一个组的子成员&lt;/p>
&lt;p>可以把一个组作为另一个组的子成员,以及分配变量给整个组使用. 这些变量可以给 /usr/bin/ansible-playbook 使用,但不能给 /usr/bin/ansible 使用:&lt;/p>
&lt;pre tabindex="0">&lt;code>[atlanta]
host1
host2
[raleigh]
host2
host3
[southeast:children]
atlanta
raleigh
[southeast:vars]
some_server=foo.southeast.example.com
halon_system_timeout=30
self_destruct_countdown=60
escape_pods=2
[usa:children]
southeast
northeast
southwest
northwest
&lt;/code>&lt;/pre>&lt;p>如果我们需要存储一个列表或 hash 值，或者更喜欢把 host 和 group 的变量分开配置，请看下一节的说明.&lt;/p>
&lt;h1 id="组织-host_vars主机变量-和-group_vars组变量">组织 host_vars(主机变量) 和 group_vars(组变量)&lt;/h1>
&lt;p>在 Inventory 主文件中保存所有的变量并不是最佳的方式。我们通常在&lt;strong>独立的文件&lt;/strong>中定义这些变量，这些独立文件与 inventory 文件保持关联. 不同于 inventory 文件(INI 格式)，这些独立文件的格式为 YAML。&lt;/p>
&lt;p>假设有一个主机名为 ‘foosball’, 主机同时属于两个组&lt;/p>
&lt;ul>
&lt;li>raleigh&lt;/li>
&lt;li>webservers&lt;/li>
&lt;/ul>
&lt;p>那么以下配置文件中的变量可以为 ‘foosball’ 主机所用.依次为 ‘raleigh’ 的组变量,’webservers’ 的组变量,’foosball’ 的主机变量:&lt;/p>
&lt;pre tabindex="0">&lt;code>/etc/ansible/group_vars/raleigh
/etc/ansible/group_vars/webservers
/etc/ansible/host_vars/foosball
&lt;/code>&lt;/pre>&lt;blockquote>
&lt;p>注意：&lt;/p>
&lt;ul>
&lt;li>&lt;code>group_vars/&lt;/code> 目录下文件名必须是&lt;strong>组名&lt;/strong>才可以将变量的值应用相同组名的组中的主机
&lt;ul>
&lt;li>如上所示：group_vars/raleigh 中的组变量适用于 raleigh 组。&lt;/li>
&lt;li>文件名也可以使用 all 和 ungrouped 用于为所有主机或所有未分组的主机定义变量。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>举例来说,假设你有一些主机,属于不同的数据中心,并依次进行划分.每一个数据中心使用一些不同的服务器.比如 ntp 服务器, database 服务器等等. 那么 ‘raleigh’ 这个组的组变量定义在文件 ‘/etc/ansible/group_vars/raleigh’ 之中,可能类似这样:&lt;/p>
&lt;pre tabindex="0">&lt;code>---
ntp_server: acme.example.org
database_server: storage.example.org
&lt;/code>&lt;/pre>&lt;p>这些定义变量的文件不是一定要存在,因为这是可选的特性.&lt;/p>
&lt;p>还有更进一步的运用,你可以为一个主机,或一个组,创建一个目录,目录名就是主机名或组名.目录中的可以创建多个文件, 文件中的变量都会被读取为主机或组的变量.如下 ‘raleigh’ 组对应于 /etc/ansible/group_vars/raleigh/ 目录,其下有两个文件 db_settings 和 cluster_settings, 其中分别设置不同的变量:&lt;/p>
&lt;pre tabindex="0">&lt;code>/etc/ansible/group_vars/raleigh/db_settings
/etc/ansible/group_vars/raleigh/cluster_settings
&lt;/code>&lt;/pre>&lt;p>‘raleigh’ 组下的所有主机,都可以使用 ‘raleigh’ 组的变量.当变量变得太多时,分文件定义变量更方便我们进行管理和组织. 还有一个方式也可参考,详见 Ansible Vault 关于组变量的部分. 注意,分文件定义变量的方式只适用于 Ansible 1.4 及以上版本.&lt;/p>
&lt;p>我们可以将 &lt;code>group_vars/&lt;/code> 和 &lt;code>host_vars/&lt;/code> 目录添加到 playbook 目录下. 如果两个目录下都存在,那么 playbook 目录下的配置会覆盖 inventory 目录的配置.&lt;/p>
&lt;p>把我们的 Inventory 文件 和 变量 放入 git repo 中,以便跟踪他们的更新,这是一种非常推荐的方式.&lt;/p>
&lt;h1 id="主机匹配模式">主机匹配模式&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/user_guide/intro_patterns.html">官方文档，用户指南-传统目录-模式：针对主机和组&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>主机列表的正则匹配&lt;/p>
&lt;p>ansible支持主机列表的正则匹配&lt;/p>
&lt;ul>
&lt;li>
&lt;p>全量: &lt;code>all/*&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>逻辑或: &lt;code>:&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>逻辑非: &lt;code>!&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>逻辑与: &lt;code>＆&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>切片： &lt;code>[]&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>正则匹配： 以 &lt;code>~&lt;/code> 开头&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible all -m ping # 所有默认inventory文件中的机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible &amp;ldquo;*&amp;rdquo; -m ping # 同上&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible 121.28.13.X -m ping # 所有122.28.13.X机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible web1:web2 -m ping # 所有属于组web1或属于web2的机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible web1:!web2 -m ping # 属于组web1，但不属于web2的机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible web1&amp;amp;web2 -m ping # 属于组web1又属于web2的机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible webserver[0] -m ping # 属于组webserver的第1台机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible webserver[0:5] -m ping # 属于组webserver的第1到4台机器&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ansible &amp;ldquo;~(beta|web).example.(com|org)&amp;rdquo; -m ping&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h1 id="inventory-参数详解">Inventory 参数详解&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html#connecting-to-hosts-behavioral-inventory-parameters">官方文档,用户指南-传统目录-如何构建你的 Inventory-连接到主机:Inventory 参数&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>如同前面提到的,通过设置下面的参数,可以控制 ansible 与远程主机的交互方式,&lt;/p>
&lt;p>ansible_connection # 指定ansible与远程主机的connector(连接器)，默认为 ssh 的smart类型。&amp;lsquo;smart&amp;rsquo; 方式会根据是否支持 ControlPersist, 来判断&amp;rsquo;ssh&amp;rsquo; 方式是否可行.&lt;/p>
&lt;ul>
&lt;li>smart、ssh、paramiko # 这三种类型都是ssh连接器下的类型。默认为smart&lt;/li>
&lt;li>local&lt;/li>
&lt;li>docker&lt;/li>
&lt;/ul>
&lt;p>General通用连接参数&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ansible_host&lt;/strong> # 将要连接的远程主机名.可以设为ip&lt;/li>
&lt;li>&lt;strong>ansible_port&lt;/strong> # 将要连接的远程主机端口号.默认端口为22&lt;/li>
&lt;li>&lt;strong>ansible_user&lt;/strong> # 将要连接的远程主机的用户名&lt;/li>
&lt;li>&lt;strong>ansible_password&lt;/strong> # 将要连接的远程主机的密码(这种方式并不安全,我们强烈建议使用 &amp;ndash;ask-pass 或 -k 或 SSH 密钥)&lt;/li>
&lt;/ul>
&lt;p>只适用于SSH连接所用参数&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ansible_sudo_pass&lt;/strong> # sudo 密码(这种方式并不安全,我们强烈建议使用 &amp;ndash;ask-sudo-pass)&lt;/li>
&lt;li>&lt;strong>ansible_sudo_exe&lt;/strong> # sudo 命令路径(适用于1.8及以上版本)&lt;/li>
&lt;li>&lt;strong>ansible_ssh_private_key_file&lt;/strong> # ssh 使用的私钥文件.适用于有多个密钥,而你不想使用 SSH 代理的情况.&lt;/li>
&lt;li>&lt;strong>ansible_shell_type&lt;/strong> # 目标系统的shell类型.默认情况下,命令的执行使用 &amp;lsquo;sh&amp;rsquo; 语法,可设置为 &amp;lsquo;csh&amp;rsquo; 或 &amp;lsquo;fish&amp;rsquo;.&lt;/li>
&lt;/ul>
&lt;p>权限提升参数&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ansible_becom=yes|no&lt;/strong> # 是否允许提升权限执行操作。&lt;/li>
&lt;li>&lt;strong>ansible_become_user=&amp;lt;STRING&amp;gt;&lt;/strong> # 权限提升执行操作时所使用的用户。&lt;code>默认值：root&lt;/code>&lt;/li>
&lt;li>&lt;strong>ansible_become_password=&amp;lt;STRING&amp;gt;&lt;/strong> # 权限提升执行操作时所使用的用户的密码。(这种方式并不安全,我们强烈建议使用 &amp;ndash;ask-become-pass 或 -K)&lt;/li>
&lt;/ul>
&lt;p>远程主机环境参数&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ansible_python_interprete&lt;/strong> # 目标主机的 python 路径.适用于的情况: 系统中有多个 Python, 或者命令路径不是&amp;quot;/usr/bin/python&amp;quot;,比如 *BSD, 或者 /usr/bin/python
&lt;ul>
&lt;li>不是 2.X 版本的 Python.我们不使用 &amp;ldquo;/usr/bin/env&amp;rdquo; 机制,因为这要求远程用户的路径设置正确,且要求 &amp;ldquo;python&amp;rdquo; 可执行程序名不可为 python以外的名字(实际有可能名为python26). 与 ansible_python_interpreter 的工作方式相同,可设定如 ruby 或 perl 的路径&amp;hellip;.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>一个主机文件的例子:&lt;/p>
&lt;pre tabindex="0">&lt;code>some_host ansible_ssh_port=2222 ansible_ssh_user=manager
aws_host ansible_ssh_private_key_file=/home/example/.ssh/aws.pem
freebsd_host ansible_python_interpreter=/usr/local/bin/python
ruby_module_host ansible_ruby_interpreter=/usr/bin/ruby.1.9.3
&lt;/code>&lt;/pre>&lt;h1 id="加密-inventory-中的密码">加密 Inventory 中的密码&lt;/h1>
&lt;p>假如现在有如下主机清单&lt;/p>
&lt;pre tabindex="0">&lt;code>[test]
hw-cloud-xngy-jump-server-linux-2 ansible_host=192.168.0.249 ansible_port=10022
[test:vars]
ansible_user=lichenhao
ansible_password={{ test_password }}
ansible_become=yes
ansible_become_password={{ test_become_password }}
&lt;/code>&lt;/pre>&lt;p>其中的密码，是通过变量引用的，而这些变量所在的文件是可以加密的，加密后，即可保证操作便捷的同时保证安全性
我们可以在 Inventory 目录下创建一个 group_vars 目录，并在 group_vars 目录创建一个与 主机组名称同名的文件，效果如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>../inventory/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>├── group_vars
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>│   └── test
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>└── test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在 group_vars/test 中，内容应该如下(其中的变量替换成自己的密码)：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>test_password: &lt;span style="color:#e6db74">${&lt;/span>PASSWORD&lt;span style="color:#e6db74">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>test_become_password: &lt;span style="color:#e6db74">${&lt;/span>PASSWORD&lt;span style="color:#e6db74">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后使用 &lt;code>ansible-vault encrypt group_vars/test&lt;/code> 命令加密该文件，加密后的文件内容如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ANSIBLE_VAULT;1.1;AES256
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">33393764306539363338646334396661323930396235303837663131366562303237666337643864&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>6132363363383364316561326263633564323134336466660a623732613966653036326433313666
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">36356665663962613630393063303361353839313839636332313332666264363265646331333965&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>3164393363643639650a306233376438386333343961313735666161396365663235343430666437
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">64306364646266363563333437323364356332393639323436396136343438383662653133323634&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">33613239316237353839313632383530303638393966363133383834363662353135306563323635&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">386564623764653966303265653136353165&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这时候，我们执行 Playbooks 时，如果不指定解密所需的密码，将会提示如下报错&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>lichenhao@hw-cloud-xngy-jump-server-linux-2 ~/projects/DesistDaydream/ansible/playbooks&lt;span style="color:#f92672">]&lt;/span>$ ansible-playbook -i ../inventory/ variables.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>PLAY &lt;span style="color:#f92672">[&lt;/span>test&lt;span style="color:#f92672">]&lt;/span> *******************************************************************************************************************************************************************
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ERROR! Attempting to decrypt but no vault secrets found
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>只需要添加 &lt;code>--ask-vault-pass&lt;/code> 参数并输入密码，Ansible 即可在运行中解密文件，并获取其中的变量值&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>lichenhao@hw-cloud-xngy-jump-server-linux-2 ~/projects/DesistDaydream/ansible/playbooks&lt;span style="color:#f92672">]&lt;/span>$ ansible-playbook -i ../inventory/ variables.yaml --ask-vault-pass
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Vault password:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>PLAY &lt;span style="color:#f92672">[&lt;/span>test&lt;span style="color:#f92672">]&lt;/span> *******************************************************************************************************************************************************************
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TASK &lt;span style="color:#f92672">[&lt;/span>variables : test&lt;span style="color:#f92672">]&lt;/span> *******************************************************************************************************************************************************
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>changed: &lt;span style="color:#f92672">[&lt;/span>hw-cloud-xngy-jump-server-linux-2&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TASK &lt;span style="color:#f92672">[&lt;/span>variables : debug&lt;span style="color:#f92672">]&lt;/span> ******************************************************************************************************************************************************
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ok: &lt;span style="color:#f92672">[&lt;/span>hw-cloud-xngy-jump-server-linux-2&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">=&lt;/span>&amp;gt; &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;msg&amp;#34;&lt;/span>: &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;ansible_facts&amp;#34;&lt;/span>: &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;discovered_interpreter_python&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;/usr/bin/python3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">}&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;changed&amp;#34;&lt;/span>: true,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;cmd&amp;#34;&lt;/span>: &lt;span style="color:#f92672">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;whoami&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">]&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;delta&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;0:00:00.002581&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;end&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;2021-10-10 22:10:39.338994&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;failed&amp;#34;&lt;/span>: false,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;rc&amp;#34;&lt;/span>: 0,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;start&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;2021-10-10 22:10:39.336413&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;stderr&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;stderr_lines&amp;#34;&lt;/span>: &lt;span style="color:#f92672">[]&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;stdout&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;root&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;stdout_lines&amp;#34;&lt;/span>: &lt;span style="color:#f92672">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;root&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Ansible Collection</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Collection/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Collection/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>官方文档，使用 Ansible collections&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/index.html">官方文档，参考-Collection 索引&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="关联文件与配置">关联文件与配置&lt;/h1>
&lt;h1 id="ansiblebuiltin">ansible.builtin&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/index.html">官方文档，参考-Collection 索引-Ansible.Builtin&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Ansible 的内置 Collection，包括了全部的内置模块与内置插脚(比如最常用的连接插件、文件模块等等)&lt;/p></description></item><item><title>Docs: Ansible Plugins</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Plugins/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Plugins/</guid><description/></item><item><title>Docs: Ansible Modules</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Modules/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Modules/</guid><description/></item><item><title>Docs: Ansible 命令行工具</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/user_guide/command_line_tools.html#command-line-tools">官方文档,用户指南-命令行工具&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/user_guide/intro_adhoc.html">官方文档,用户指南-传统目录-临时命令简介&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>由于 Ansible 是基于 SSH 远程管理主机，所以让 Ansible 的控制节点需要对受管理节点进行 ssh 的基于密钥的认证(方法详见 ssh 命令)或者在 inventory 文件中指定认证方式。&lt;/p>
&lt;p>Note：Ansible 的控制节点和受管理节点的 Python 版本需要一致，否则 ansible 命令有时候会执行失败&lt;/p>
&lt;h1 id="ansible">ansible&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/cli/ansible.html">官方文档，用户指南-使用命令行工具工作-ansible&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>ansible 是 Ansible 的一个 ad-hoc(临时) 命令，可以在一个或多个受管理节点上自动执行单个任务。ansible 命令即简单又快速，但并不具备可重复性，通过 ansible 命令的使用，我们可以了解到 Ansible 的简单性和强大的功能。&lt;strong>并且，可以将类似的操作，直接移植到 Playbooks 中&lt;/strong>。&lt;/p>
&lt;p>临时命令非常适合很少重复，但是又需要大批量执行的任务，比如重启服务器、复制文件、管理服务、管理用户 等等。我们可以在临时任务中使用所有 Ansible 模块&lt;/p>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>ansible &amp;lt;HostPattern&amp;gt; [OPTIONS]&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>HostPattern&lt;/strong> # 主机模式,可以是主机名，主机 IP，组名，还有一个 all(所有 hosts 里定义的主机)&lt;/li>
&lt;/ul>
&lt;h3 id="options">OPTIONS&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;list-hosts&lt;/strong> # 列出所有 HostPattern 定义的被管理 host 并统计数量，一般用于查看组内的主机有多少&lt;/li>
&lt;li>&lt;strong>-i,&amp;ndash;inventory,&amp;ndash;inventory-file INVENTORY&lt;/strong> # 指定具体的 INVENTORY 路径或文件，而不使用配置中默认的。
&lt;ul>
&lt;li>INVENTORY 可以是目录或者文件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Modules Options(模块选项)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-a, &amp;ndash;args &amp;lt;MODULE_ARGS&amp;gt;&lt;/strong> # 以空格分割的模块参数。格式为 &lt;code>ARG1=VAL1 ARG2=VAL2......&lt;/code>，注意使用引号，有的 VAL 也需要使用引号引起来&lt;/li>
&lt;li>只要使用 -m 选项，就必须要是使用 -a 选项&lt;/li>
&lt;li>&lt;strong>-m, &amp;ndash;module-name &amp;lt;ModuleName&amp;gt;&lt;/strong> # 执行任务要使用的模块，默认模块为 command。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Privilege Escalation Options(权限提升选项)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-b, &amp;ndash;become&lt;/strong> # 使用 become 模块执行所有操作。即开启权限提升功能&lt;/li>
&lt;/ul>
&lt;h2 id="example">EXAMPLE&lt;/h2>
&lt;ul>
&lt;li>ansible all &amp;ndash;list-hosts # 列出所有主机&lt;/li>
&lt;li>测试 k8s_test_master 组的所有主机的连通性
&lt;ul>
&lt;li>ansible k8s_test_master -m ping&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>对所有管理主机使用默认模块 command 使用 date 命令
&lt;ul>
&lt;li>ansible all -a &amp;lsquo;date&amp;rsquo;
&lt;ul>
&lt;li>注：也可以使用 &lt;code>-m 'shell'&lt;/code> 显式得指定 shell 模块。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>将 resolv.conf 文件中的 nameserver 127.0.0.1 替换成 nameserver 10.8.8.8
&lt;ul>
&lt;li>ansible all -m lineinfile -a &amp;ldquo;dest=/etc/resolv.conf regexp=&amp;lsquo;nameserver 127.0.1.1&amp;rsquo; line=&amp;lsquo;nameserver 10.8.8.8&amp;rsquo;&amp;rdquo; #&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="常见模块命令示例">常见模块命令示例&lt;/h3>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/user_guide/intro_adhoc.html#use-cases-for-ad-hoc-tasks">https://docs.ansible.com/ansible/latest/user_guide/intro_adhoc.html#use-cases-for-ad-hoc-tasks&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;strong>文件管理&lt;/strong>
&lt;ul>
&lt;li>拷贝文件
&lt;ul>
&lt;li>ansible all -m copy -a &amp;ldquo;src=https://desistdaydream.github.io/etc/hosts dest=/tmp/hosts&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>创建目录，类似 mkdir -p 命令
&lt;ul>
&lt;li>ansible all -m file -a &amp;ldquo;dest=/tmp/hosts mode=755 owner=lichenhao group=lichenhao state=directory&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>删除文件
&lt;ul>
&lt;li>ansible all -m file -a &amp;ldquo;dest=/opt/nginx/config/stream.d/wireguard.conf state=absent&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>包管理&lt;/strong>
&lt;ul>
&lt;li>安装最新的 net-snmp-utils 包
&lt;ul>
&lt;li>ansible -i inventory/ssc-pool-unicom-ha all -m yum -a &amp;ldquo;name=net-snmp-utils state=latest&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>用户和组管理&lt;/strong>
&lt;ul>
&lt;li>创建一个名为 sudo 的组，设置 gid 为 27
&lt;ul>
&lt;li>ansible -i inventory/ssc-pool-datalake-ha &lt;em>jxgz&lt;/em> -m group -a &amp;ldquo;name=sudo gid=27&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>cron&lt;/strong> # 添加定时任务
&lt;ul>
&lt;li>ansible all -m cron -a &amp;lsquo;minute=*/10 job=&amp;quot;/bin/echo hello&amp;quot; name=&amp;ldquo;test1&amp;rdquo;&amp;rsquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>script&lt;/strong> # 脚本模块，为远程机器执行本地脚本
&lt;ul>
&lt;li>ansible -i ./inventory/ssc-pool-unicom-ha all -m script -a &amp;lsquo;scripts.sh&amp;rsquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>setup&lt;/strong> # 收集远程主机的 facts
&lt;ul>
&lt;li>ansible all -m setup # 显示所有被管理节点的相关信息，每个被管理节点，在运行管理命令之前通常会将自己主机相关的信息如，OS 版本，IP 等报告给远程的 ansible 主机&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>unarchive&lt;/strong> # 解包
&lt;ul>
&lt;li>ansible all -m unarchive -a &amp;ldquo;src=https://desistdaydream.github.io/root/downloads/docker-ehualu-20.10.9.tar.gz dest=/&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="ansible-doc">ansible-doc&lt;/h1>
&lt;p>显示有关 Ansible 库中安装的模块的信息。 它显示了简短的插件清单及其简短描述，提供了其 DOCUMENTATION 字符串的打印输出，并且可以创建一个简短的“片段”，可以粘贴到 playbook 中。&lt;/p>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-l&lt;/strong> # 显示所有可用模块&lt;/li>
&lt;li>&lt;strong>-s&lt;/strong> # 显示指定的模块中在 playbook 可以定义的参数，可以当作该模块在命令行界面的使用方法&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;h1 id="ansible-vault">ansible-vault&lt;/h1>
&lt;p>通过一个密码来加密或解密一个文件或字符串。可以加密 Ansible 使用的任何结构化数据文件。 这可以包括 group_vars/ 或 host_vars/ 清单变量、由 include_vars 或 vars_files 加载的变量，或在 ansible- playbook 命令行上使用 -e @file.yml 或 -e @file.json 传递的变量文件。 还包括角色变量和默认值！&lt;/p>
&lt;p>由于 Ansible 任务、处理程序和其他对象都是数据，因此它们也可以使用 Vault 进行加密。 如果您不想公开您正在使用的变量，您可以将单个任务文件完全加密。&lt;/p>
&lt;p>该程序加密文件的逻辑是通过管理员输入的密码，对文件进行加密，若想解密，也需要相同的密码才可以解密。与传统意义上通过算法加密的逻辑不太一样。&lt;/p>
&lt;h2 id="syntax语法-1">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>ansible-vault COMMAND&lt;/strong>&lt;/p>
&lt;p>&lt;strong>COMMAND&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>create&lt;/li>
&lt;li>decrypt&lt;/li>
&lt;li>edit&lt;/li>
&lt;li>view&lt;/li>
&lt;li>encrypt&lt;/li>
&lt;li>encrypt_string&lt;/li>
&lt;li>rekey&lt;/li>
&lt;/ul>
&lt;h1 id="ansible-inventory">ansible-inventory&lt;/h1>
&lt;p>显示、转存 Ansible Inventory 信息。默认输出 JSON 格式信息&lt;/p>
&lt;h2 id="syntax语法-2">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>ansible-inventory OPTIONS &amp;lt;&amp;ndash;list] | &amp;ndash;host HOST | &amp;ndash;graph&amp;gt;&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;list&lt;/strong> # 输出所有主机信息&lt;/li>
&lt;li>&lt;strong>&amp;ndash;host &amp;lt;HOST&amp;gt;&lt;/strong> # 输出指定主机信息&lt;/li>
&lt;li>&lt;strong>&amp;ndash;graph&lt;/strong> #&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;export&lt;/strong> # 使用 &amp;ndash;list 时，优化输出内容，以便进行导出；而不是准确表示 Ansible 如何处理清单文件
&lt;ul>
&lt;li>用人话说：如果不加 &amp;ndash;export，那么当多个主机共享了 1 个变量时，输出的主机信息，会给每个主机都添加这个变量。不利于人类阅读与维护&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>-i, &amp;ndash;inventory&lt;/strong> # 使用 &amp;ndash;list 时，将输出的内容保存到指定文件中，而不是输出到标准输出&lt;/li>
&lt;li>&lt;strong>-y, &amp;ndash;yaml&lt;/strong> # 使用 YAML 格式输出信息&lt;/li>
&lt;/ul>
&lt;h2 id="example-1">EXAMPLE&lt;/h2>
&lt;p>将 Inventory 文件以 YAML 格式输出并保存到文件&lt;/p>
&lt;ul>
&lt;li>ansible-inventory -i inventory &amp;ndash;yaml &amp;ndash;list &amp;ndash;output dest_inventory.yaml &amp;ndash;export&lt;/li>
&lt;/ul></description></item><item><title>Docs: Ansible 管理</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E7%AE%A1%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E7%AE%A1%E7%90%86/</guid><description/></item><item><title>Docs: Ansible 扩展</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E6%89%A9%E5%B1%95/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-%E6%89%A9%E5%B1%95/</guid><description/></item><item><title>Docs: Ansible Variables</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Variables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Ansible-Variables/</guid><description/></item><item><title>Docs: Playbook</title><link>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Playbook/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/9.%E8%BF%90%E7%BB%B4/Ansible/Playbook/</guid><description/></item></channel></rss>