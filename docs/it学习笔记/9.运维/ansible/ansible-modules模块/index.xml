<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦 – Ansible Modules(模块)</title><link>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/</link><description>Recent content in Ansible Modules(模块) on 断念梦</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: ansible.builtin(内置模块)</title><link>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/ansible.builtin%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/ansible.builtin%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/index_module.html#ansible-builtin">官方文档,参考-所有模块和插件的索引-所有模块的索引-ansible.builtin&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/add_host_module.html#ansible-collections-ansible-builtin-add-host-module">ansible.builtin.add_host&lt;/a> – Add a host (and alternatively a group) to the ansible-playbook in-memory inventory&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html#ansible-collections-ansible-builtin-apt-module">ansible.builtin.apt&lt;/a> – Manages apt-packages&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_key_module.html#ansible-collections-ansible-builtin-apt-key-module">ansible.builtin.apt_key&lt;/a> – Add or remove an apt key&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_repository_module.html#ansible-collections-ansible-builtin-apt-repository-module">ansible.builtin.apt_repository&lt;/a> – Add and remove APT repositories&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/assemble_module.html#ansible-collections-ansible-builtin-assemble-module">ansible.builtin.assemble&lt;/a> – Assemble configuration files from fragments&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/assert_module.html#ansible-collections-ansible-builtin-assert-module">ansible.builtin.assert&lt;/a> – Asserts given expressions are true&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/async_status_module.html#ansible-collections-ansible-builtin-async-status-module">ansible.builtin.async_status&lt;/a> – Obtain status of asynchronous task&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/blockinfile_module.html#ansible-collections-ansible-builtin-blockinfile-module">ansible.builtin.blockinfile&lt;/a> – Insert/update/remove a text block surrounded by marker lines&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/command_module.html#ansible-collections-ansible-builtin-command-module">ansible.builtin.command&lt;/a> – Execute commands on targets&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html#ansible-collections-ansible-builtin-copy-module">ansible.builtin.copy&lt;/a> – Copy files to remote locations&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/cron_module.html#ansible-collections-ansible-builtin-cron-module">ansible.builtin.cron&lt;/a> – Manage cron.d and crontab entries&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/debconf_module.html#ansible-collections-ansible-builtin-debconf-module">ansible.builtin.debconf&lt;/a> – Configure a .deb package&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/debug_module.html#ansible-collections-ansible-builtin-debug-module">ansible.builtin.debug&lt;/a> – Print statements during execution&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/dnf_module.html#ansible-collections-ansible-builtin-dnf-module">ansible.builtin.dnf&lt;/a> – Manages packages with the dnf package manager&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/dpkg_selections_module.html#ansible-collections-ansible-builtin-dpkg-selections-module">ansible.builtin.dpkg_selections&lt;/a> – Dpkg package selection selections&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/expect_module.html#ansible-collections-ansible-builtin-expect-module">ansible.builtin.expect&lt;/a> – Executes a command and responds to prompts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fail_module.html#ansible-collections-ansible-builtin-fail-module">ansible.builtin.fail&lt;/a> – Fail with custom message&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#ansible-collections-ansible-builtin-fetch-module">ansible.builtin.fetch&lt;/a> – Fetch files from remote nodes&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/file_module.html#ansible-collections-ansible-builtin-file-module">ansible.builtin.file&lt;/a> – Manage files and file properties&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/find_module.html#ansible-collections-ansible-builtin-find-module">ansible.builtin.find&lt;/a> – Return a list of files based on specific criteria&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/gather_facts_module.html#ansible-collections-ansible-builtin-gather-facts-module">ansible.builtin.gather_facts&lt;/a> – Gathers facts about remote hosts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/get_url_module.html#ansible-collections-ansible-builtin-get-url-module">ansible.builtin.get_url&lt;/a> – Downloads files from HTTP, HTTPS, or FTP to node&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/getent_module.html#ansible-collections-ansible-builtin-getent-module">ansible.builtin.getent&lt;/a> – A wrapper to the unix getent utility&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/git_module.html#ansible-collections-ansible-builtin-git-module">ansible.builtin.git&lt;/a> – Deploy software (or files) from git checkouts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/group_module.html#ansible-collections-ansible-builtin-group-module">ansible.builtin.group&lt;/a> – Add or remove groups&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/group_by_module.html#ansible-collections-ansible-builtin-group-by-module">ansible.builtin.group_by&lt;/a> – Create Ansible groups based on facts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/hostname_module.html#ansible-collections-ansible-builtin-hostname-module">ansible.builtin.hostname&lt;/a> – Manage hostname&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/import_playbook_module.html#ansible-collections-ansible-builtin-import-playbook-module">ansible.builtin.import_playbook&lt;/a> – Import a playbook&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/import_role_module.html#ansible-collections-ansible-builtin-import-role-module">ansible.builtin.import_role&lt;/a> – Import a role into a play&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/import_tasks_module.html#ansible-collections-ansible-builtin-import-tasks-module">ansible.builtin.import_tasks&lt;/a> – Import a task list&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_module.html#ansible-collections-ansible-builtin-include-module">ansible.builtin.include&lt;/a> – Include a play or task list&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_role_module.html#ansible-collections-ansible-builtin-include-role-module">ansible.builtin.include_role&lt;/a> – Load and execute a role&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#ansible-collections-ansible-builtin-include-tasks-module">ansible.builtin.include_tasks&lt;/a> – Dynamically include a task list&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_vars_module.html#ansible-collections-ansible-builtin-include-vars-module">ansible.builtin.include_vars&lt;/a> – Load variables from files, dynamically within a task&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/iptables_module.html#ansible-collections-ansible-builtin-iptables-module">ansible.builtin.iptables&lt;/a> – Modify iptables rules&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/known_hosts_module.html#ansible-collections-ansible-builtin-known-hosts-module">ansible.builtin.known_hosts&lt;/a> – Add or remove a host from the known_hosts file&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html#ansible-collections-ansible-builtin-lineinfile-module">ansible.builtin.lineinfile&lt;/a> – Manage lines in text files&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html#ansible-collections-ansible-builtin-meta-module">ansible.builtin.meta&lt;/a> – Execute Ansible ‘actions’&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/package_module.html#ansible-collections-ansible-builtin-package-module">ansible.builtin.package&lt;/a> – Generic OS package manager&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/package_facts_module.html#ansible-collections-ansible-builtin-package-facts-module">ansible.builtin.package_facts&lt;/a> – Package information as facts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pause_module.html#ansible-collections-ansible-builtin-pause-module">ansible.builtin.pause&lt;/a> – Pause playbook execution&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/ping_module.html#ansible-collections-ansible-builtin-ping-module">ansible.builtin.ping&lt;/a> – Try to connect to host, verify a usable python and return pong on success&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pip_module.html#ansible-collections-ansible-builtin-pip-module">ansible.builtin.pip&lt;/a> – Manages Python library dependencies&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/raw_module.html#ansible-collections-ansible-builtin-raw-module">ansible.builtin.raw&lt;/a> – Executes a low-down and dirty command&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/reboot_module.html#ansible-collections-ansible-builtin-reboot-module">ansible.builtin.reboot&lt;/a> – Reboot a machine&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/replace_module.html#ansible-collections-ansible-builtin-replace-module">ansible.builtin.replace&lt;/a> – Replace all instances of a particular string in a file using a back-referenced regular expression&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/rpm_key_module.html#ansible-collections-ansible-builtin-rpm-key-module">ansible.builtin.rpm_key&lt;/a> – Adds or removes a gpg key from the rpm db&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/script_module.html#ansible-collections-ansible-builtin-script-module">ansible.builtin.script&lt;/a> – Runs a local script on a remote node after transferring it&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html#ansible-collections-ansible-builtin-service-module">ansible.builtin.service&lt;/a> – Manage services&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_facts_module.html#ansible-collections-ansible-builtin-service-facts-module">ansible.builtin.service_facts&lt;/a> – Return service state information as fact data&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/set_fact_module.html#ansible-collections-ansible-builtin-set-fact-module">ansible.builtin.set_fact&lt;/a> – Set host variable(s) and fact(s).&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/set_stats_module.html#ansible-collections-ansible-builtin-set-stats-module">ansible.builtin.set_stats&lt;/a> – Define and display stats for the current ansible run&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#ansible-collections-ansible-builtin-setup-module">ansible.builtin.setup&lt;/a> – Gathers facts about remote hosts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/shell_module.html#ansible-collections-ansible-builtin-shell-module">ansible.builtin.shell&lt;/a> – Execute shell commands on targets&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/slurp_module.html#ansible-collections-ansible-builtin-slurp-module">ansible.builtin.slurp&lt;/a> – Slurps a file from remote nodes&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/stat_module.html#ansible-collections-ansible-builtin-stat-module">ansible.builtin.stat&lt;/a> – Retrieve file or file system status&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/subversion_module.html#ansible-collections-ansible-builtin-subversion-module">ansible.builtin.subversion&lt;/a> – Deploys a subversion repository&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/systemd_module.html#ansible-collections-ansible-builtin-systemd-module">ansible.builtin.systemd&lt;/a> – Manage systemd units&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/sysvinit_module.html#ansible-collections-ansible-builtin-sysvinit-module">ansible.builtin.sysvinit&lt;/a> – Manage SysV services.&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/tempfile_module.html#ansible-collections-ansible-builtin-tempfile-module">ansible.builtin.tempfile&lt;/a> – Creates temporary files and directories&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html#ansible-collections-ansible-builtin-template-module">ansible.builtin.template&lt;/a> – Template a file out to a target host&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/unarchive_module.html#ansible-collections-ansible-builtin-unarchive-module">ansible.builtin.unarchive&lt;/a> – Unpacks an archive after (optionally) copying it from the local machine&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/uri_module.html#ansible-collections-ansible-builtin-uri-module">ansible.builtin.uri&lt;/a> – Interacts with webservices&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/user_module.html#ansible-collections-ansible-builtin-user-module">ansible.builtin.user&lt;/a> – Manage user accounts&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/validate_argument_spec_module.html#ansible-collections-ansible-builtin-validate-argument-spec-module">ansible.builtin.validate_argument_spec&lt;/a> – Validate role argument specs.&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/wait_for_module.html#ansible-collections-ansible-builtin-wait-for-module">ansible.builtin.wait_for&lt;/a> – Waits for a condition before continuing&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/wait_for_connection_module.html#ansible-collections-ansible-builtin-wait-for-connection-module">ansible.builtin.wait_for_connection&lt;/a> – Waits until remote system is reachable/usable&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_module.html#ansible-collections-ansible-builtin-yum-module">ansible.builtin.yum&lt;/a> – Manages packages with the yum package manager&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_repository_module.html#ansible-collections-ansible-builtin-yum-repository-module">ansible.builtin.yum_repository&lt;/a> – Add or remove YUM repositories&lt;/li>
&lt;/ul>
&lt;p>根据 &lt;a href="https://docs.ansible.com/ansible/2.9/modules/modules_by_category.html">2.9 版本的模块索引&lt;/a>文档，我们可以将上面这些内置模块进行类别划分&lt;/p>
&lt;h1 id="commands--命令模块">Commands # 命令模块&lt;/h1>
&lt;blockquote>
&lt;p>官方文档：&lt;a href="https://docs.ansible.com/ansible/2.9/modules/list_of_commands_modules.html">https://docs.ansible.com/ansible/2.9/modules/list_of_commands_modules.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/command_module.html#command-module">command – Execute commands on targets&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/expect_module.html#expect-module">expect – Executes a command and responds to prompts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/psexec_module.html#psexec-module">psexec – Runs commands on a remote Windows host based on the PsExec model&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/raw_module.html#raw-module">raw – Executes a low-down and dirty command&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/script_module.html#script-module">script – Runs a local script on a remote node after transferring it&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/shell_module.html#shell-module">shell – Execute shell commands on targets&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/telnet_module.html#telnet-module">telnet – Executes a low-down and dirty telnet command&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="commandhttpsdocsansiblecomansiblelatestcollectionsansiblebuiltincommand_modulehtml--在受管理节点上执行命令">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/command_module.html">command&lt;/a> # 在受管理节点上执行命令&lt;/h2>
&lt;h2 id="scripthttpsdocsansiblecomansiblelatestcollectionsansiblebuiltinscript_modulehtml--将本地脚本传输到受管理节点上并运行">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/script_module.html">script&lt;/a> # 将本地脚本传输到受管理节点上并运行&lt;/h2>
&lt;h1 id="files--文件处理模块">Files # 文件处理模块&lt;/h1>
&lt;p>详见 《[Files 类模块](/docs/IT学习笔记/9.运维/Ansible/Ansible%20Modules(模块)/ansible.builtin(内置模块)/Files%20 类模块.md 类模块.md)》&lt;/p>
&lt;h1 id="packaging--包模块">Packaging # 包模块&lt;/h1>
&lt;blockquote>
&lt;p>官方文档：&lt;a href="https://docs.ansible.com/ansible/2.9/modules/list_of_packaging_modules.html">https://docs.ansible.com/ansible/2.9/modules/list_of_packaging_modules.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="language">Language&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/bower_module.html#bower-module">bower – Manage bower packages with bower&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/bundler_module.html#bundler-module">bundler – Manage Ruby Gem dependencies with Bundler&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/composer_module.html#composer-module">composer – Dependency Manager for PHP&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/cpanm_module.html#cpanm-module">cpanm – Manages Perl library dependencies&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/easy_install_module.html#easy-install-module">easy_install – Installs Python libraries&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/gem_module.html#gem-module">gem – Manage Ruby gems&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/maven_artifact_module.html#maven-artifact-module">maven_artifact – Downloads an Artifact from a Maven Repository&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/npm_module.html#npm-module">npm – Manage node.js packages with npm&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pear_module.html#pear-module">pear – Manage pear/pecl packages&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pip_module.html#pip-module">pip – Manages Python library dependencies&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pip_package_info_module.html#pip-package-info-module">pip_package_info – pip package information&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/yarn_module.html#yarn-module">yarn – Manage node.js packages with Yarn&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="os">Os&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/apk_module.html#apk-module">apk – Manages apk packages&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/apt_module.html#apt-module">apt – Manages apt-packages&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/apt_key_module.html#apt-key-module">apt_key – Add or remove an apt key&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/apt_repo_module.html#apt-repo-module">apt_repo – Manage APT repositories via apt-repo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/apt_repository_module.html#apt-repository-module">apt_repository – Add and remove APT repositories&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/apt_rpm_module.html#apt-rpm-module">apt_rpm – apt_rpm package manager&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/dnf_module.html#dnf-module">dnf – Manages packages with the dnf package manager&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/dpkg_selections_module.html#dpkg-selections-module">dpkg_selections – Dpkg package selection selections&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/flatpak_module.html#flatpak-module">flatpak – Manage flatpaks&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/flatpak_remote_module.html#flatpak-remote-module">flatpak_remote – Manage flatpak repository remotes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/homebrew_module.html#homebrew-module">homebrew – Package manager for Homebrew&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/homebrew_cask_module.html#homebrew-cask-module">homebrew_cask – Install/uninstall homebrew casks&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/homebrew_tap_module.html#homebrew-tap-module">homebrew_tap – Tap a Homebrew repository&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/installp_module.html#installp-module">installp – Manage packages on AIX&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/layman_module.html#layman-module">layman – Manage Gentoo overlays&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/macports_module.html#macports-module">macports – Package manager for MacPorts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/openbsd_pkg_module.html#openbsd-pkg-module">openbsd_pkg – Manage packages on OpenBSD&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/opkg_module.html#opkg-module">opkg – Package manager for OpenWrt&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/package_module.html#package-module">package – Generic OS package manager&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/package_facts_module.html#package-facts-module">package_facts – package information as facts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pacman_module.html#pacman-module">pacman – Manage packages with pacman&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pkg5_module.html#pkg5-module">pkg5 – Manages packages with the Solaris 11 Image Packaging System&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pkg5_publisher_module.html#pkg5-publisher-module">pkg5_publisher – Manages Solaris 11 Image Packaging System publishers&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pkgin_module.html#pkgin-module">pkgin – Package manager for SmartOS, NetBSD, et al&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pkgng_module.html#pkgng-module">pkgng – Package manager for FreeBSD &amp;gt;= 9.0&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pkgutil_module.html#pkgutil-module">pkgutil – Manage CSW-Packages on Solaris&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/portage_module.html#portage-module">portage – Package manager for Gentoo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/portinstall_module.html#portinstall-module">portinstall – Installing packages from FreeBSD’s ports system&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pulp_repo_module.html#pulp-repo-module">pulp_repo – Add or remove Pulp repos from a remote host&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/redhat_subscription_module.html#redhat-subscription-module">redhat_subscription – Manage registration and subscriptions to RHSM using the subscription-manager command&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/rhn_channel_module.html#rhn-channel-module">rhn_channel – Adds or removes Red Hat software channels&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/rhn_register_module.html#rhn-register-module">rhn_register – Manage Red Hat Network registration using the rhnreg_ks command&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/rhsm_release_module.html#rhsm-release-module">rhsm_release – Set or Unset RHSM Release version&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/rhsm_repository_module.html#rhsm-repository-module">rhsm_repository – Manage RHSM repositories using the subscription-manager command&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/rpm_key_module.html#rpm-key-module">rpm_key – Adds or removes a gpg key from the rpm db&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/slackpkg_module.html#slackpkg-module">slackpkg – Package manager for Slackware &amp;gt;= 12.2&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/snap_module.html#snap-module">snap – Manages snaps&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/sorcery_module.html#sorcery-module">sorcery – Package manager for Source Mage GNU/Linux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/svr4pkg_module.html#svr4pkg-module">svr4pkg – Manage Solaris SVR4 packages&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/swdepot_module.html#swdepot-module">swdepot – Manage packages with swdepot package manager (HP-UX)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/swupd_module.html#swupd-module">swupd – Manages updates and bundles in ClearLinux systems&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/urpmi_module.html#urpmi-module">urpmi – Urpmi manager&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/xbps_module.html#xbps-module">xbps – Manage packages with XBPS&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/yum_module.html#yum-module">yum – Manages packages with the yum package manager&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/yum_repository_module.html#yum-repository-module">yum_repository – Add or remove YUM repositories&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/zypper_module.html#zypper-module">zypper – Manage packages on SUSE and openSUSE&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/zypper_repository_module.html#zypper-repository-module">zypper_repository – Add and remove Zypper repositories&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="yumhttpsdocsansiblecomansiblelatestcollectionsansiblebuiltinyum_modulehtml--使用主机上的-yum-工具管理包">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/yum_module.html">yum&lt;/a> # 使用主机上的 yum 工具管理包&lt;/h2>
&lt;h3 id="参数">参数&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>name: &lt;!-- raw HTML omitted -->&lt;/strong> # 包的名称&lt;/li>
&lt;li>&lt;strong>state: &lt;!-- raw HTML omitted -->&lt;/strong> # 指定要执行的操作，是安装还是移除包。可用的值有如下几个：
&lt;ul>
&lt;li>absent 与 removed # 移除指定的包&lt;/li>
&lt;li>installed 与 present # 简单得确保安装了指定的包&lt;/li>
&lt;li>latest # 安装最新版本的包，若当前包不是最新版本，则更新它。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="应用示例">应用示例&lt;/h3>
&lt;p>安装 bash-completion 与 vim 的最新版本的包&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ansible all -m yum -a &lt;span style="color:#e6db74">&amp;#34;name=net-bash-completion,vim state=latest&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>- name: 安装运维工具
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> yum:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> name: &lt;span style="color:#f92672">[&lt;/span>&lt;span style="color:#e6db74">&amp;#39;bash-completion&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;vim&amp;#39;&lt;/span>&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> state: latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="system--系统模块">System # 系统模块&lt;/h1>
&lt;blockquote>
&lt;p>官方文档：&lt;a href="https://docs.ansible.com/ansible/latest/modules/list_of_system_modules.html">https://docs.ansible.com/ansible/latest/modules/list_of_system_modules.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/aix_devices_module.html#aix-devices-module">aix_devices – Manages AIX devices&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/aix_filesystem_module.html#aix-filesystem-module">aix_filesystem – Configure LVM and NFS file systems for AIX&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/aix_inittab_module.html#aix-inittab-module">aix_inittab – Manages the inittab on AIX&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/aix_lvg_module.html#aix-lvg-module">aix_lvg – Manage LVM volume groups on AIX&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/aix_lvol_module.html#aix-lvol-module">aix_lvol – Configure AIX LVM logical volumes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/alternatives_module.html#alternatives-module">alternatives – Manages alternative programs for common commands&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/at_module.html#at-module">at – Schedule the execution of a command or script file via the at command&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/authorized_key_module.html#authorized-key-module">authorized_key – Adds or removes an SSH authorized key&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/awall_module.html#awall-module">awall – Manage awall policies&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/beadm_module.html#beadm-module">beadm – Manage ZFS boot environments on FreeBSD/Solaris/illumos systems&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/capabilities_module.html#capabilities-module">capabilities – Manage Linux capabilities&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/cron_module.html#cron-module">cron – Manage cron.d and crontab entries&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/cronvar_module.html#cronvar-module">cronvar – Manage variables in crontabs&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/crypttab_module.html#crypttab-module">crypttab – Encrypted Linux block devices&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/dconf_module.html#dconf-module">dconf – Modify and read dconf database&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/debconf_module.html#debconf-module">debconf – Configure a .deb package&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/facter_module.html#facter-module">facter – Runs the discovery program facter on the remote system&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/filesystem_module.html#filesystem-module">filesystem – Makes a filesystem&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/firewalld_module.html#firewalld-module">firewalld – Manage arbitrary ports/services with firewalld&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/gather_facts_module.html#gather-facts-module">gather_facts – Gathers facts about remote hosts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/gconftool2_module.html#gconftool2-module">gconftool2 – Edit GNOME Configurations&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/getent_module.html#getent-module">getent – A wrapper to the unix getent utility&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/group_module.html#group-module">group – Add or remove groups&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/hostname_module.html#hostname-module">hostname – Manage hostname&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/interfaces_file_module.html#interfaces-file-module">interfaces_file – Tweak settings in /etc/network/interfaces files&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/iptables_module.html#iptables-module">iptables – Modify iptables rules&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/java_cert_module.html#java-cert-module">java_cert – Uses keytool to import/remove key from java keystore (cacerts)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/java_keystore_module.html#java-keystore-module">java_keystore – Create or delete a Java keystore in JKS format&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/kernel_blacklist_module.html#kernel-blacklist-module">kernel_blacklist – Blacklist kernel modules&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/known_hosts_module.html#known-hosts-module">known_hosts – Add or remove a host from the known_hosts file&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/listen_ports_facts_module.html#listen-ports-facts-module">listen_ports_facts – Gather facts on processes listening on TCP and UDP ports&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/locale_gen_module.html#locale-gen-module">locale_gen – Creates or removes locales&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/lvg_module.html#lvg-module">lvg – Configure LVM volume groups&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/lvol_module.html#lvol-module">lvol – Configure LVM logical volumes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/make_module.html#make-module">make – Run targets in a Makefile&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/mksysb_module.html#mksysb-module">mksysb – Generates AIX mksysb rootvg backups&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/modprobe_module.html#modprobe-module">modprobe – Load or unload kernel modules&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/mount_module.html#mount-module">mount – Control active and configured mount points&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/nosh_module.html#nosh-module">nosh – Manage services with nosh&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/ohai_module.html#ohai-module">ohai – Returns inventory data from Ohai&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/open_iscsi_module.html#open-iscsi-module">open_iscsi – Manage iSCSI targets with Open-iSCSI&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/openwrt_init_module.html#openwrt-init-module">openwrt_init – Manage services on OpenWrt&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/osx_defaults_module.html#osx-defaults-module">osx_defaults – Manage macOS user defaults&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pam_limits_module.html#pam-limits-module">pam_limits – Modify Linux PAM limits&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pamd_module.html#pamd-module">pamd – Manage PAM Modules&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/parted_module.html#parted-module">parted – Configure block device partitions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pids_module.html#pids-module">pids – Retrieves process IDs list if the process is running otherwise return empty list&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/ping_module.html#ping-module">ping – Try to connect to host, verify a usable python and return pong on success&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/puppet_module.html#puppet-module">puppet – Runs puppet&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/python_requirements_info_module.html#python-requirements-info-module">python_requirements_info – Show python path and assert dependency versions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/reboot_module.html#reboot-module">reboot – Reboot a machine&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/runit_module.html#runit-module">runit – Manage runit services&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/seboolean_module.html#seboolean-module">seboolean – Toggles SELinux booleans&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/sefcontext_module.html#sefcontext-module">sefcontext – Manages SELinux file context mapping definitions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/selinux_module.html#selinux-module">selinux – Change policy and state of SELinux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/selinux_permissive_module.html#selinux-permissive-module">selinux_permissive – Change permissive domain in SELinux policy&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/selogin_module.html#selogin-module">selogin – Manages linux user to SELinux user mapping&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/seport_module.html#seport-module">seport – Manages SELinux network port type definitions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/service_module.html#service-module">service – Manage services&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/service_facts_module.html#service-facts-module">service_facts – Return service state information as fact data&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/setup_module.html#setup-module">setup – Gathers facts about remote hosts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/solaris_zone_module.html#solaris-zone-module">solaris_zone – Manage Solaris zones&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/svc_module.html#svc-module">svc – Manage daemontools services&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/sysctl_module.html#sysctl-module">sysctl – Manage entries in sysctl.conf&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/syspatch_module.html#syspatch-module">syspatch – Manage OpenBSD system patches&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/systemd_module.html#systemd-module">systemd – Manage services&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/sysvinit_module.html#sysvinit-module">sysvinit – Manage SysV services&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/timezone_module.html#timezone-module">timezone – Configure timezone setting&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/ufw_module.html#ufw-module">ufw – Manage firewall with UFW&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/user_module.html#user-module">user – Manage user accounts&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/vdo_module.html#vdo-module">vdo – Module to control VDO&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/xfconf_module.html#xfconf-module">xfconf – Edit XFCE4 Configurations&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/xfs_quota_module.html#xfs-quota-module">xfs_quota – Manage quotas on XFS filesystems&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="systemdhttpsdocsansiblecomansiblelatestcollectionsansiblebuiltinsystemd_modulehtml--控制远程主机上以-systemd-运行的服务">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/systemd_module.html">systemd&lt;/a> # 控制远程主机上以 systemd 运行的服务&lt;/h2>
&lt;h3 id="参数-1">参数&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>name: &lt;!-- raw HTML omitted -->&lt;/strong> # Unit 的名称&lt;/li>
&lt;li>&lt;strong>state: &lt;!-- raw HTML omitted -->&lt;/strong> # 设置 Unit 的状态。可用的值有
&lt;ul>
&lt;li>reloaded&lt;/li>
&lt;li>restarted&lt;/li>
&lt;li>started&lt;/li>
&lt;li>stopped&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>enabled: &lt;!-- raw HTML omitted -->&lt;/strong> # 设置 Unit 是否应该自启动&lt;/li>
&lt;/ul>
&lt;h3 id="使用示例">使用示例&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">启动并设置自启动kubelet与kube-proxy服务&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">systemd&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;{{item}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">daemon_reload&lt;/span>: &lt;span style="color:#66d9ef">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">state&lt;/span>: &lt;span style="color:#ae81ff">started&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">enabled&lt;/span>: &lt;span style="color:#66d9ef">yes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with_items&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">kubelet&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">kube-proxy&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="userhttpsdocsansiblecomansiblelatestcollectionsansiblebuiltinuser_modulehtml--管理远程主机上的用户账户">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/user_module.html">user&lt;/a> # 管理远程主机上的用户账户&lt;/h2>
&lt;h3 id="参数-2">参数&lt;/h3>
&lt;p>user 模块使用示例：该示例同样适用于更改密码&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">创建k8s用户&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">user&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">developer&lt;/span> &lt;span style="color:#75715e">#指定要创建的用户名&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">password&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;$6$mysecretsalt$QjSLl.VQoxPKJkBE9.oLX82C5P4tAMH8UfFRpkxgkqSg2GNob8Y39hj5/cl7o0gbpPXVBGaB9oLuCPfVhIhyA0&amp;#34;&lt;/span> &lt;span style="color:#75715e"># 使用下面Note中的命令来获取加密后的密码&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">同时更改多个用户的密码&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">user&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;{{ item.name }}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">password&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;{{ item.chpass | password_hash(&amp;#39;sha512&amp;#39;) }}&amp;#34;&lt;/span> &lt;span style="color:#75715e"># 也可以直接使用明文作为密码&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">update_password&lt;/span>: &lt;span style="color:#ae81ff">always&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with_items&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - { &lt;span style="color:#f92672">name: &amp;#39;root&amp;#39;, chpass&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;admin#123&amp;#39;&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - { &lt;span style="color:#f92672">name: &amp;#39;test&amp;#39;, chpass&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;yjun@123&amp;#39;&lt;/span> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note：生成加密密码的方式&lt;/p>
&lt;ul>
&lt;li>ansible all -i localhost, -m debug -a &amp;ldquo;msg={{ &amp;lsquo;mypassword&amp;rsquo; | password_hash(&amp;lsquo;sha512&amp;rsquo;, &amp;lsquo;mysecretsalt&amp;rsquo;) }}&amp;rdquo;
&lt;ul>
&lt;li>命令中的 mypassword 就是想要使用的密码，mysecretsalt 则是密码学中加的盐，详见&lt;a href="https://zh.wikipedia.org/wiki/%E7%9B%90_(%E5%AF%86%E7%A0%81%E5%AD%A6)">https://zh.wikipedia.org/wiki/%E7%9B%90_(%E5%AF%86%E7%A0%81%E5%AD%A6)&lt;/a>&lt;/li>
&lt;li>将输出信息引号内的部分直接当做 password 的值即可&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="utilities-实用程序模块">Utilities 实用程序模块&lt;/h1>
&lt;h2 id="helper">Helper&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/meta_module.html#meta-module">meta – Execute Ansible ‘actions’&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="logic">Logic&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/assert_module.html#assert-module">assert – Asserts given expressions are true&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/async_status_module.html#async-status-module">async_status – Obtain status of asynchronous task&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/debug_module.html#debug-module">debug – Print statements during execution&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/fail_module.html#fail-module">fail – Fail with custom message&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/import_playbook_module.html#import-playbook-module">import_playbook – Import a playbook&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/import_role_module.html#import-role-module">import_role – Import a role into a play&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/import_tasks_module.html#import-tasks-module">import_tasks – Import a task list&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/include_module.html#include-module">include – Include a play or task list&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/include_role_module.html#include-role-module">include_role – Load and execute a role&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/include_tasks_module.html#include-tasks-module">include_tasks – Dynamically include a task list&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/include_vars_module.html#include-vars-module">include_vars – Load variables from files, dynamically within a task&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/pause_module.html#pause-module">pause – Pause playbook execution&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/set_fact_module.html#set-fact-module">set_fact – Set host facts from a task&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/set_stats_module.html#set-stats-module">set_stats – Set stats for the current ansible run&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/wait_for_module.html#wait-for-module">wait_for – Waits for a condition before continuing&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.9/modules/wait_for_connection_module.html#wait-for-connection-module">wait_for_connection – Waits until remote system is reachable/usable&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="debughttpsdocsansiblecomansiblelatestcollectionsansiblebuiltindebug_modulehtml--输出变量或表达式">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/debug_module.html">debug&lt;/a> # 输出变量或表达式&lt;/h2>
&lt;p>该模块可以在 playbook 执行期间，输出指定的内容，而不用停止 playbook。常用于调试变量或者表达式。比如使用 shell 模块的时候，可以通过 debug 模块来输出 shell 模块定义的语句的执行结果&lt;/p>
&lt;p>常与 when 指令一起使用。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Print the gateway for each host when defined&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible.builtin.debug&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">msg&lt;/span>: &lt;span style="color:#ae81ff">System {{ inventory_hostname }} has gateway {{ ansible_default_ipv4.gateway }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">when&lt;/span>: &lt;span style="color:#ae81ff">ansible_default_ipv4.gateway is defined&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Get uptime information&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible.builtin.shell&lt;/span>: &lt;span style="color:#ae81ff">/usr/bin/uptime&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">register&lt;/span>: &lt;span style="color:#ae81ff">result&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Print return information from the previous task&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible.builtin.debug&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">var&lt;/span>: &lt;span style="color:#ae81ff">result&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbosity&lt;/span>: &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Display all variables/facts known for a host&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible.builtin.debug&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">var&lt;/span>: &lt;span style="color:#ae81ff">hostvars[inventory_hostname]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbosity&lt;/span>: &lt;span style="color:#ae81ff">4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Prints two lines of messages, but only if there is an environment value set&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ansible.builtin.debug&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">msg&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;Provisioning based on YOUR_KEY which is: {{ lookup(&amp;#39;env&amp;#39;, &amp;#39;YOUR_KEY&amp;#39;) }}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;These servers were built using the password of &amp;#39;{{ password_used }}&amp;#39;. Please retain this for later use.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="failhttpsdocsansiblecomansiblelatestcollectionsansiblebuiltinfail_modulehtml--终止任务的执行并输出自定义的消息">&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fail_module.html">fail&lt;/a> # 终止任务的执行，并输出自定义的消息&lt;/h2>
&lt;h2 id="import-与-include-模块--在主任务中导入其他任务或变量">import 与 include 模块 # 在主任务中导入其他任务或变量&lt;/h2>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.cnblogs.com/mauricewei/p/10054041.html">https://www.cnblogs.com/mauricewei/p/10054041.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.5/user">https://docs.ansible.com/ansible/2.5/user&lt;/a>_guide/playbooks_reuse.html#differences-between-static-and-dynamic&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/2.5/user">https://docs.ansible.com/ansible/2.5/user&lt;/a>_guide/playbooks_conditionals.html#applying-when-to-roles-imports-and-includes&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>随着要管理的服务不断增多，我们的 Playbook 也会越来越大，内容越来越多，管理起来也会随着复杂。这时，我们可以将某些 tasks 分散到很多文件中，通过 import 和 include 相关模块，实现 tasks 文件之间的相互调用。&lt;/p>
&lt;p>说白了，就是聚合多个文件的 tasks。&lt;/p>
&lt;p>一共有如下几种模块可以实现这类功能：&lt;/p>
&lt;ul>
&lt;li>import_playbook&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/import_role_module.html">import_role&lt;/a> #&lt;/li>
&lt;li>import_tasks # &lt;strong>Static(静态)&lt;/strong> 方法，在 playbooks 解析阶段将父 task 变量和子 task 变量全部读取并加载&lt;/li>
&lt;li>include&lt;/li>
&lt;li>include_tasks # &lt;strong>Dynamic(动态)&lt;/strong> 方法，在执行 play 之前才会加载自己变量&lt;/li>
&lt;li>include_vars&lt;/li>
&lt;/ul>
&lt;h3 id="动态与静态导入-tasks-的区别">动态与静态导入 tasks 的区别&lt;/h3>
&lt;h4 id="区别一">区别一&lt;/h4>
&lt;ul>
&lt;li>import_tasks(Static) 方法会在 playbooks 解析阶段将父 task 变量和子 task 变量全部读取并加载&lt;/li>
&lt;li>include_tasks(Dynamic) 方法则是在执行 play 之前才会加载自己变量&lt;/li>
&lt;/ul>
&lt;p>可能有点懵，举例说明
&lt;strong>下面两个例子是 test.yml 里的 task 调用 test2.yml，不同之处是一个使用 import_tasks 另一个使用 include_tasks&lt;/strong>
import_tasks：在执行 tasks 之前，ansible 解释器会先加载 test.yml 里的变量同时再加载 test2.yml 里的变量，那么 ansible_os_family 变量会有一个覆盖现象产生，最终的参数应为“BlackHat”，所以当 test.yml 里执行 when 语句时，ansible_os_family 被判定为“BlackHat”，when 的判断结果为 false，也就不会调用 test2.yml 了&lt;/p>
&lt;p>执行结果如下，test2.yml 里的 task 都被 skip 了：&lt;/p>
&lt;p>include_tasks：ansible 会在完全执行完 test.yml 里的 task 后才会加载 test2.yml 里的变量，所以当执行 when 语句时，ansible_os_family 的参数应为“RedHat”，此时 when 语句判断结果是 true，也就是 test2.yml 里的 tasks 会被执行。
将第一张图 test.yaml 里的 import_tasks 换成 include_tasks，执行结果如下：&lt;/p>
&lt;p>我们发现自 test2.yml 里的 task 被执行了，并且在 test2.yml 里 ansible_os_family 的参数变为了“BlackHat”。
这就是 include_tasts 和 import_tasks 方法的第一个区别。&lt;/p>
&lt;h4 id="区别二">区别二&lt;/h4>
&lt;ul>
&lt;li>include_tasks 方法调用的文件名称可以加变量&lt;/li>
&lt;li>import_tasks 方法调用的文件名称不可以有变量&lt;/li>
&lt;/ul>
&lt;p>这个区别比较简单，直接上示例：
当调用的文件名称有变量时，使用 include_tasks 方法：&lt;/p>
&lt;p>能够正常调用 test2.yml，执行结果如下：
当使用 import_tasks 方法时，执行报错。
ansible 也给出了错误原因，当使用 static include 时，是不能使用变量的：
这就是 include_tasts 和 import_tasks 方法的第二个区别。&lt;/p></description></item><item><title>Docs: ansible.builtin(内置模块)</title><link>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/ansible.builtin%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/ansible.builtin%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97/</guid><description/></item><item><title>Docs: ansible.posix(POSIX 标准模块)</title><link>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/ansible.posixposix-%E6%A0%87%E5%87%86%E6%A8%A1%E5%9D%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/it%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9.%E8%BF%90%E7%BB%B4/ansible/ansible-modules%E6%A8%A1%E5%9D%97/ansible.posixposix-%E6%A0%87%E5%87%86%E6%A8%A1%E5%9D%97/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/index_module.html#ansible-posix">官方文档，参考-所有模块和插件的索引-所有模块的索引-ansible.posix&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>posix 模块是关于符合 POSIX 标准的操作系统相关的模块&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/acl_module.html#ansible-collections-ansible-posix-acl-module">ansible.posix.acl&lt;/a> – Set and retrieve file ACL information.&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/at_module.html#ansible-collections-ansible-posix-at-module">ansible.posix.at&lt;/a> – Schedule the execution of a command or script file via the at command&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/authorized_key_module.html#ansible-collections-ansible-posix-authorized-key-module">ansible.posix.authorized_key&lt;/a> – Adds or removes an SSH authorized key&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/firewalld_module.html#ansible-collections-ansible-posix-firewalld-module">ansible.posix.firewalld&lt;/a> – Manage arbitrary ports/services with firewalld&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/firewalld_info_module.html#ansible-collections-ansible-posix-firewalld-info-module">ansible.posix.firewalld_info&lt;/a> – Gather information about firewalld&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/mount_module.html#ansible-collections-ansible-posix-mount-module">ansible.posix.mount&lt;/a> – Control active and configured mount points&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/patch_module.html#ansible-collections-ansible-posix-patch-module">ansible.posix.patch&lt;/a> – Apply patch files using the GNU patch tool&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/seboolean_module.html#ansible-collections-ansible-posix-seboolean-module">ansible.posix.seboolean&lt;/a> – Toggles SELinux booleans&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/selinux_module.html#ansible-collections-ansible-posix-selinux-module">ansible.posix.selinux&lt;/a> – Change policy and state of SELinux&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/synchronize_module.html#ansible-collections-ansible-posix-synchronize-module">ansible.posix.synchronize&lt;/a> # 围绕 rsync 工具的模块&lt;/li>
&lt;li>&lt;a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/sysctl_module.html#ansible-collections-ansible-posix-sysctl-module">ansible.posix.sysctl&lt;/a> – Manage entries in sysctl.conf.&lt;/li>
&lt;/ul></description></item></channel></rss>