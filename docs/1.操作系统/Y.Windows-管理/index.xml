<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦 – Y.Windows 管理</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/</link><description>Recent content in Y.Windows 管理 on 断念梦</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: _index</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E4%BE%9D%E8%B5%96%E5%BA%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E4%BE%9D%E8%B5%96%E5%BA%93/</guid><description/></item><item><title>Docs: File System 管理</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/File-System-%E7%AE%A1%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/File-System-%E7%AE%A1%E7%90%86/</guid><description/></item><item><title>Docs: Microsoft Management Console</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/Microsoft-Management-Console/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/Microsoft-Management-Console/</guid><description/></item><item><title>Docs: Windows 共享</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/Windows-%E5%85%B1%E4%BA%AB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/Windows-%E5%85%B1%E4%BA%AB/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>保证机器在“专用网络”，打开共享&lt;/p></description></item><item><title>Docs: Windwos 管理工具</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/Windows-%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/Windows-%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</guid><description/></item><item><title>Docs: WSA</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/WSA/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/WSA/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/microsoft/WSA">GitHub 项目，microsoft/WSA&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://learn.microsoft.com/zh-cn/windows/android/wsa/">官方文档，windows-android-wsa&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>close wait&lt;/p></description></item><item><title>Docs: 启动项</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E5%90%AF%E5%8A%A8%E9%A1%B9/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E5%90%AF%E5%8A%A8%E9%A1%B9/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;p>我们可以通过多种方式，让 Windows 启动后自动执行一些命令&lt;/p>
&lt;ul>
&lt;li>Windows 服务&lt;/li>
&lt;li>任务计划程序&lt;/li>
&lt;li>使用自启动目录&lt;/li>
&lt;li>TODO: 待总结&lt;/li>
&lt;/ul>
&lt;h1 id="任务管理器中的启动应用">任务管理器中的启动应用&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.gladtbam.top/posts/22537/">任务管理器启动项中出现 Program 解决办法&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>任务管理器中的启动应用信息保存在 &lt;a href="docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows%20%E7%AE%A1%E7%90%86/%E6%B3%A8%E5%86%8C%E8%A1%A8.md">注册表&lt;/a> 的如下几个位置&lt;/p>
&lt;pre tabindex="0">&lt;code>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Run
HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run
HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run
&lt;/code>&lt;/pre>&lt;h1 id="autoruns-程序">Autoruns 程序&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://learn.microsoft.com/en-us/sysinternals/downloads/autoruns">官网&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Autoruns 是微软官方推出的自启动程序管理器。&lt;/p>
&lt;p>只需运行 Autoruns，它就会向您显示当前配置的自动启动应用程序以及可用于自动启动配置的注册表和文件系统位置的完整列表。 Autoruns 显示的自动启动位置包括登录条目、Explorer 加载项、Internet Explorer 加载项（包括浏览器帮助程序对象 (BHO)、Appinit DLL、映像劫持、启动执行映像、Winlogon 通知 DLL、Windows 服务和 Winsock 分层服务提供程序、媒体）编解码器等等。切换选项卡以查看不同类别的自动启动。&lt;/p>
&lt;h1 id="最佳实践">最佳实践&lt;/h1>
&lt;h2 id="开机后运行-powershell-脚本">开机后运行 Powershell 脚本&lt;/h2>
&lt;p>编写 Powershell 脚本，X.ps1，并将 X.ps1 的快捷方式放到 `%appdata%\Microsoft\Windows\Start Menu\Programs\Startup\ 目录下&lt;/p>
&lt;p>设置 .ps1 后缀的默认应用为 Powershell(比如 pwsh、powershell 等)&lt;/p></description></item><item><title>Docs: 性能评估与故障处理</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0%E4%B8%8E%E6%95%85%E9%9A%9C%E5%A4%84%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0%E4%B8%8E%E6%95%85%E9%9A%9C%E5%A4%84%E7%90%86/</guid><description/></item><item><title>Docs: 注册表</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E6%B3%A8%E5%86%8C%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/%E6%B3%A8%E5%86%8C%E8%A1%A8/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/5ZcvRNG7GvvopcQWWdXNaw">公众号-差评，所有电脑管家都叫你清理的注册表，竟然能偷偷控制你的电脑！&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="注册表前身">注册表前身&lt;/h2>
&lt;p>其实，注册表也不是一开始就存在于 Windows 上。&lt;/p>
&lt;p>在 Windows 95 之前，微软通过一种叫 “ 配置文件 ” 的东西，来实现如今注册表的作用。&lt;/p>
&lt;p>这里面存储的，就是一些软件的&lt;strong>基本信息&lt;/strong>。比如说配置一些文件的打开路径在哪里，或者是软件要用哪些字体来读取。&lt;/p>
&lt;p>通常通过 ini 格式的文件，配置文件会趁着咱们安装各种软件的时候，把自己丢在系统的各种文件夹里。想修改一些配置的时候，咱们可以直接去这个软件的安装目录里找 ini 文件就行。&lt;/p>
&lt;p>看上去挺方便，不过这 ini 文件最大的问题吧，就是太容易修改了，甚至可以简单到直接用记事本给打开。&lt;/p>
&lt;p>到时候手一抖改几个字，可能一个软件就打不开了。&lt;/p>
&lt;p>比如把一个 5 行的行间距手一抖改成复数，软件当场就寻思我哪见过这个？不当场宕机就不错了。万一改的还是系统配置文件，电脑指不定也得抽两抽。&lt;/p>
&lt;p>而且，当年大家用的还都是机械硬盘。。。考虑到 ini 文件分散在系统的各种犄角旮旯，&lt;strong>读取起来太麻烦，打开也嫌慢，更不方便维护。&lt;/strong>&lt;/p>
&lt;p>微软后来就一寻思，干脆把这些乱的到处都是的 ini 文件功能给&lt;strong>整合了起来。&lt;/strong>&lt;/p>
&lt;p>通过一个统一的，系统级别的分层&lt;strong>数据库&lt;/strong>来起到过去 “ 配置文件 ” 做的事情。这个库里面装的呢，就是咱们电脑里哪些花里胡哨，乱七八糟的配置。&lt;/p>
&lt;p>举个例子，我们鼠标右键的每次点击，到底会弹出来哪些菜单选项，以及具体要弹的多长。&lt;strong>都得让注册表来告诉它才行。&lt;/strong>&lt;/p>
&lt;p>而且吧，比起过去各自为战，互相之间看不对眼的配置文件。注册表还能起到一个**系统级别的调度功能，**可以把这些软件之间的信息共享给其它软件，。&lt;/p>
&lt;p>当有新的软件安装的时候，也会优先把自己能干什么，自己需要什么的消息给写入注册表里。&lt;/p>
&lt;p>就像咱们现在能用 WPS 软件来打开 word 文档，中间还得靠注册表这个 “传话筒” 来沟通才行。想让系统能弄清楚，我们得把 &lt;strong>“ wps 可以打开 word ” 文档这件事情，写到注册表里。&lt;/strong>&lt;/p>
&lt;p>借助当时更为先进的数据库结构，注册表还能够实现**多用户配置和多线程读写等功能。**别看咱们现在嫌弃注册表长的丑，&lt;strong>要知道当年，这可是少有的图形可视化界面。&lt;/strong>&lt;/p>
&lt;h2 id="注册表小解">注册表小解&lt;/h2>
&lt;p>按 win + R，在对话框里输入 &lt;code>regedit&lt;/code> 来打开注册表编辑器。&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/regedit/1660293598735-fcf30cc1-e1be-40a6-91da-e8cf808c68a0.png" alt="">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>HKEY_CLASSES_ROOT&lt;/strong> # 包含有关已注册应用程序的信息 ， 包括驱动 ， 文件拓展名等等 。&lt;/li>
&lt;li>&lt;strong>HKEY_CURRENT_USER&lt;/strong> # 存储特定于当前登录用户的设置 ， 包括环境变量 ， 个人桌面的设置等等 。&lt;/li>
&lt;li>&lt;strong>HKEY_LOCAL_MACHINE&lt;/strong> # 存储特定于本地计算机的设置 ， 由系统内核维护在内存中 ， 以便映射所有其他子键 。 这些信息可以其它用户使用 。&lt;/li>
&lt;li>&lt;strong>HKEY_USERS&lt;/strong> # 和上面的第二个项目相对 ， 包含与机器上主动加载的每个用户配置文件的 HKEY_CURRENT_USER 键对应的子键&lt;/li>
&lt;li>&lt;strong>HKEY_CURRENT_CONFIG&lt;/strong> # 该主键保存了计算机当前硬件的配置信息 ， 这些配置可以根据当前所连接的网络类型或硬件驱动软件安装的改变而改变 。&lt;/li>
&lt;/ul>
&lt;h3 id="备份注册表">备份注册表&lt;/h3>
&lt;p>文件 - 导出&lt;/p>
&lt;h1 id="应用示例">应用示例&lt;/h1>
&lt;h3 id="在鼠标右键菜单上添加内容">在鼠标右键菜单上添加内容&lt;/h3>
&lt;p>打开注册表后，在表上的地址栏里输入这个：&lt;code>HKEY_CLASSES_ROOT\Directory\Background\shell&lt;/code>&lt;/p>
&lt;p>在 shell 中“添加项”，添加的项名就是右键菜单中的功能名&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/regedit/1660293800817-e8b7c6ec-a7e6-4cdc-af1b-fba835707b2f.png" alt="image.png">&lt;/p>
&lt;p>不过这回还没给它加上功能，直接点击的话会报错。&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/regedit/1660293861254-00b77fdd-b0d2-4f40-b5a1-59f215198b70.png" alt="">&lt;/p>
&lt;p>在 “lichenhao”项下添加 “command”项；修改 command 项中的默认值为想要运行进程的绝对路径&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/regedit/1660294056508-703dab2f-1fad-4a5e-a9ec-3ae07245dd93.png" alt="image.png">&lt;/p>
&lt;p>此时右键的 “lichenhao”就可以运行 Python 了。&lt;/p></description></item><item><title>Docs: WSL</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/WSL/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Y.Windows-%E7%AE%A1%E7%90%86/WSL/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.microsoft.com/zh-cn/windows/wsl/">官方文档，windows-wsl&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h1 id="安装-wsl">安装 WSL&lt;/h1>
&lt;p>现在默认使用 WSL2，也推荐安装和使用 WSL2。&lt;/p>
&lt;p>打开 “启用或关闭Windows功能”，开启 “适用于 Linux 的 Windows 子系统” 和 “虚拟机平台”。&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/wsl/20230601094318.png" alt="image.png">&lt;/p>
&lt;p>若不开启“虚拟机平台”，在安装后启动时，将可能会出现下图错误&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/wsl/wsl-error.png" alt="wsl-error.png">&lt;/p>
&lt;h2 id="安装-linux-发行版">安装 Linux 发行版&lt;/h2>
&lt;p>在 PowerShell 执行指令&lt;/p>
&lt;p>安装 Ubuntu 发行版的 WSL&lt;/p>
&lt;pre tabindex="0">&lt;code>wsl --install -d Ubunt
&lt;/code>&lt;/pre>&lt;h2 id="常见问题">常见问题&lt;/h2>
&lt;p>若安装后 linux 无法启动，报错：&lt;code>WslRegisterDistribution failed with error: 0x800701bc&lt;/code>&lt;/p>
&lt;p>（可选）设置 wsl 版本&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>wsl --set-default-version &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>忘记密码时，可以在 PowerShell 中使用 wsl 命令直接以 root 用户登录 wsl&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>wsl.exe --user root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>更多常见问题，可以参考&lt;a href="https://learn.microsoft.com/zh-cn/windows/wsl/troubleshooting">官方文档，疑难解答&lt;/a>&lt;/p>
&lt;h1 id="访问-wsl-文件系统">访问 WSL 文件系统&lt;/h1>
&lt;p>在 Windows 资源管理器中，访问 &lt;code>\\wsl$&lt;/code> 即可访问 WSL 文件系统&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/tqwpkc/1654930585949-71f955ca-97c4-45d8-be77-a637670803eb.png" alt="image.png">&lt;/p>
&lt;h1 id="wsl-关联文件与配置">WSL 关联文件与配置&lt;/h1>
&lt;p>Windows 下的关联文件&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;code>%UserProfile%/.wslconfig&lt;/code>&lt;/strong> # - 用于在作为 WSL 2 版本运行的所有已安装 Linux 发行版中全局配置设置。&lt;/li>
&lt;/ul>
&lt;p>LInux 发行版下的关联文件&lt;/p>
&lt;ul>
&lt;li>&lt;strong>/etc/wsl.conf&lt;/strong> # 作为 Unix 文件存储，用于为每个发行版配置各自独立的设置。&lt;/li>
&lt;/ul>
&lt;h1 id="wsl-命令行工具">wsl 命令行工具&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://learn.microsoft.com/zh-cn/windows/wsl/basic-commands">官方文档-WSL，概述-基本 WSL 命令&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="syntax语法">Syntax(语法)&lt;/h2>
&lt;p>&lt;strong>wsl [OPTOINS]&lt;/strong>&lt;/p>
&lt;p>&lt;strong>OPTONS&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-d, &amp;ndash;distribution STRING&lt;/strong> # 指定要运行的发行版&lt;/li>
&lt;li>&lt;strong>-u, &amp;ndash;user STRING&lt;/strong> # 使用指定的用户运行发行版。可以直接以 root 用户运行。常用来在忘记密码时候使用。&lt;/li>
&lt;/ul>
&lt;p>WSL 子系统管理选项&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;status&lt;/strong> # 显示适用于 Linux 的 Windows 子系统的状态。&lt;/li>
&lt;li>&lt;strong>&amp;ndash;update&lt;/strong> # 更新适用于 Linux 的 Windows 子系统程序包。&lt;/li>
&lt;/ul>
&lt;p>发行版管理选项&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-l, &amp;ndash;list [OPTIONS]&lt;/strong> # 列出发行版，可以根据子参数指定需要列出哪些发行版。
&lt;ul>
&lt;li>&lt;strong>&amp;ndash;all&lt;/strong> # 列出所有&lt;/li>
&lt;li>&lt;strong>-o, &amp;ndash;online&lt;/strong> # 列出所有可以安装的发行版。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>&amp;ndash;set-default-version&lt;/strong> #&lt;/li>
&lt;li>&lt;strong>-s, &amp;ndash;set-default DISTRO&lt;/strong> # 将指定的发行版设为默认&lt;/li>
&lt;/ul>
&lt;h1 id="wsl-配置网络">WSL 配置网络&lt;/h1>
&lt;h2 id="配置桥接网络和静态-ip">配置桥接网络和静态 IP&lt;/h2>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.cnblogs.com/lic0914/p/17003251.html">博客园，WSL2使用桥接网络，并指定IP&lt;/a>
&lt;ul>
&lt;li>该文章参考的原文: &lt;a href="https://github.com/luxzg/WSL2-fixes/blob/master/networkingMode%3Dbridged.md">https://github.com/luxzg/WSL2-fixes/blob/master/networkingMode%3Dbridged.md&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;strong>TODO: 这种做法会导致 WSL 无法和 Windows 主机通信，原理暂时未知。&lt;/strong>&lt;/p>
&lt;p>使用 Hyper-V 创建一个桥接类型的网络，假如命名为 &lt;strong>br0&lt;/strong>&lt;/p>
&lt;p>在 &lt;code>%UserProfile%/.wslconfig&lt;/code> 文件中添加如下内容：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[wsl2]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">networkingMode&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">bridged&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">vmSwitch&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">br0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dhcp&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">ipv6&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后再启动 WSL，即可使用桥接模式的网络。&lt;/p>
&lt;p>此时，还需要为 WSL 启用 Systemd，否则系统中没有可以配置 IP 的程序&lt;/p>
&lt;pre tabindex="0">&lt;code>sudo tee /etc/wsl.conf &amp;lt;&amp;lt;EOF
[boot]
systemd=true
EOF
&lt;/code>&lt;/pre>&lt;p>然后需要通过 systemd-network 服务配置 IP，那么还需要进行一些配置：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo tee /lib/systemd/network/wsl_external.network &lt;span style="color:#e6db74">&amp;lt;&amp;lt;EOF
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">[Match]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">Name=eth0
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">[Network]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">Description=bridge
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">DHCP=false
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">Address=192.168.254.254/24 # 自行修改
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">Gateway=192.168.254.1 # 自行修改
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl enable systemd-networkd --now
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后重启 wsl 即可。&lt;/p></description></item></channel></rss>