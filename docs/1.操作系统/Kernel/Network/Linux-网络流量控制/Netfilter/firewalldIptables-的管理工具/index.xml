<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>firewalld(Iptables 的管理工具) on 断念梦的站点</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Kernel/Network/Linux-%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/Netfilter/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</link><description>Recent content in firewalld(Iptables 的管理工具) on 断念梦的站点</description><generator>Hugo</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Kernel/Network/Linux-%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/Netfilter/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml"/><item><title>firewalld(Iptables 的管理工具)</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Kernel/Network/Linux-%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/Netfilter/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Kernel/Network/Linux-%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/Netfilter/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</guid><description>概述 firewalld 与 iptabels 一样，是管理 Linux 内核中的 Netfilter 功能的工具。
FirewallD 使用两个配置模式：“runtime 运行时”和“permanent 持久”。
runtime 模式：默认模式。所有配置即时生效，在重启系统、重新启动 FirewallD 时、使用&amp;ndash;reload 重载配置等操作是，在该模式下的配置都将被清除。 permanent 模式：需要使用 &amp;ndash;permanent 选项生效，配置才会永久保存。如果想让 permanetn 模式下的配置立即生效，需要使用&amp;ndash;reload 命令或者重启 firewalld 服务。 firewalld 中 zone(区域)的概念 “区域”是针对给定位置或场景（例如家庭、公共、受信任等）可能具有的各种信任级别的预构建规则集。不同的区域允许不同的网络服务和入站流量类型，而拒绝其他任何流量。 首次启用 FirewallD 后，public 将是默认区域。
区域也可以用于不同的网络接口。例如，要分离内部网络和互联网的接口，你可以在 internal 区域上允许 DHCP，但在 external 区域仅允许 HTTP 和 SSH。未明确设置为特定区域的任何接口将添加到默认区域。
所以，一般情况下，所有区域都是拒绝所有新的入站流量，对已经建立连接的不再阻止。在使用 firewall-cmd 命令添加某 service、port、ip 等属性时，相当于允许对应属性的流量入站。i.e.添加进去就表示允许
zone 的种类与说明 public（公共） # 默认的 zone。在公共区域内使用，不能相信网络内的其他计算机不会对您的计算机造成危害，只能接收经过选取的连接。 block（限制） # 任何接收的网络连接都被 IPv4 的 icmp-host-prohibited 信息和 IPv6 的 icmp6-adm-prohibited 信息所拒绝。 dmz（非军事区） # 用于您的非军事区内的电脑，此区域内可公开访问，可以有限地进入您的内部网络，仅仅接收经过选择的连接。 drop（丢弃） # 任何接收的网络数据包都被丢弃，没有任何回复。仅能有发送出去的网络连接。 external（外部） # 特别是为路由器启用了伪装功能的外部网。您不能信任来自网络的其他计算，不能相信它们不会对您的计算机造成危害，只能接收经过选择的连接。 home（家庭） # 用于家庭网络。您可以基本信任网络内的其他计算机不会危害您的计算机。仅仅接收经过选择的连接。 internal（内部） # 用于内部网络。您可以基本上信任网络内的其他计算机不会威胁您的计算机。仅仅接受经过选择的连接。 trusted（信任） # 可接受所有的网络连接。 work（工作） # 用于工作区。您可以基本相信网络内的其他电脑不会危害您的电脑。仅仅接收经过选择的连接。 用实际举例：将设备某个网卡放在区域中，则流经该网卡的流量都会遵循该区域中所定义的规则。</description></item><item><title>firewalld 命令行工具</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Kernel/Network/Linux-%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/Netfilter/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/firewalld-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Kernel/Network/Linux-%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/Netfilter/firewalldIptables-%E7%9A%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/firewalld-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/</guid><description>firewall-cmd 所有命令都是对当前默认 ZONE(通过 firewall-cmd &amp;ndash;get-default-zone 命令获得当前默认 zone)进行操作，如果想要对指定 ZONE 操作，需要使用&amp;ndash;zone=XXX
OPTIONS
&amp;ndash;reload # 重新加载防火墙规则并保留连接状态信息。注意：reload 会删除所有 runtime 模式的配置并应用 permanent 模式的配置。但是已经建立的连接不受影响(e.g.已经在对本机长 ping 的设备不会断开连接) &amp;ndash;complete-reload # 重新加载防火墙规则并丢弃连接状态信息。注意：与 reload 不同，已经建立的连接会被丢弃(e.g.已经在对本机长 ping 的设备会断开连接) &amp;ndash;permanent # 开启永久模式，在该模式的配置都会永久保留 &amp;ndash;add-source= # 绑定 SOURCE 到一个 ZONE。SOURCE 可以使 MASK、MAC、ipset 查 &amp;ndash;get-default-zone # 打印出当前默认的 ZONE &amp;ndash;list-services # 列出一个 ZONE 中已经添加了的 service &amp;ndash;list-interfaces # 列出一个 ZONE 中已经绑定的网络设备 &amp;ndash;list-rich-rules # 列出一个 ZONE 中已经添加的丰富语言规则 EXAMPLE
firewall-cmd &amp;ndash;zone=drop &amp;ndash;change-interface=eth1 # 将经由 eth1 网卡的所有流量放在 drop 区域中进行处理 firewall-cmd &amp;ndash;zone=public &amp;ndash;add-service=cockpit &amp;ndash;permanent # 在永久模式下，允许 cockpit 服务的流量通过 public 这个 ZONE 内的网络设备 增 firewall-cmd &amp;ndash;add-source=10.</description></item></channel></rss>