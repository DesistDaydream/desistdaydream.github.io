<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦的站点 – Time and Language</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/</link><description>Recent content in Time and Language on 断念梦的站点</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 时间管理</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/</guid><description>
&lt;h1 id="概述">概述&lt;a class="td-heading-self-link" href="#%e6%a6%82%e8%bf%b0" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;a href="https://desistdaydream.github.io/docs/8.%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/Time.md">Time&lt;/a> 管理&lt;/p>
&lt;h1 id="实现-ntp-协议的工具">实现 NTP 协议的工具&lt;a class="td-heading-self-link" href="#%e5%ae%9e%e7%8e%b0-ntp-%e5%8d%8f%e8%ae%ae%e7%9a%84%e5%b7%a5%e5%85%b7" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>ntpd # 在 centos8 中已不再支持，推荐使用新工具 Chrony 来实现 &lt;a href="https://desistdaydream.github.io/docs/4.%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1/Protocol/NTP.md">NTP&lt;/a> 协议&lt;/p>
&lt;p>Chrony # &lt;a href="https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time%20and%20Language/Chrony.md">Chrony&lt;/a>&lt;/p>
&lt;h1 id="date---打印或设置系统日期和时间">date - 打印或设置系统日期和时间&lt;a class="td-heading-self-link" href="#date---%e6%89%93%e5%8d%b0%e6%88%96%e8%ae%be%e7%bd%ae%e7%b3%bb%e7%bb%9f%e6%97%a5%e6%9c%9f%e5%92%8c%e6%97%b6%e9%97%b4" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;h3 id="syntax语法">Syntax(语法)&lt;a class="td-heading-self-link" href="#syntax%e8%af%ad%e6%b3%95" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;p>&lt;strong>date [OPTIONS]&amp;hellip; [+FORMAT]&lt;/strong>&lt;/p>
&lt;p>可以通过 FORMAT 设置显示时间的格式&lt;/p>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>-&lt;strong>s&lt;/strong> # 从给定的字符串中设定时间。i.e. 设置时间&lt;/li>
&lt;li>&lt;strong>-d&lt;/strong> # 从给定的字符串中显示时间，而不是显示现在的时间。常用于判断给定的数字是否符合时间日期的格式 e.g. date -d 9999 +%H%M 不合法，date -d 1011 +%H%M 合法&lt;/li>
&lt;/ul>
&lt;p>FORMAT:&lt;/p>
&lt;ul>
&lt;li>&lt;code>%F&lt;/code> 年月日(年-月-日)&lt;/li>
&lt;li>&lt;code>%Y&lt;/code> 年&lt;/li>
&lt;li>&lt;code>%m&lt;/code> 月&lt;/li>
&lt;li>&lt;code>%d&lt;/code> 日&lt;/li>
&lt;li>&lt;code>%H&lt;/code> 小时&lt;/li>
&lt;li>&lt;code>%M&lt;/code> 分钟&lt;/li>
&lt;li>&lt;code>%S&lt;/code> 秒&lt;/li>
&lt;li>&lt;code>%s&lt;/code> # 从 1970-01-01 00:00:00 UTC 时间开始经过的秒。i.e. 时间戳&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>&lt;strong>date -s 2008/05/06&lt;/strong> #&lt;/li>
&lt;li>&lt;strong>date -s 18:40:00&lt;/strong>&lt;/li>
&lt;li>&lt;strong>date +%H:%M&lt;/strong> # 显示当前小时与分钟&lt;/li>
&lt;li>&lt;strong>date -d 1011 +%H%M&lt;/strong> # 显示给定的小时与分钟&lt;/li>
&lt;li>&lt;strong>date +%x &amp;ndash;&amp;gt; 10/21/2009&lt;/strong> #&lt;/li>
&lt;li>&lt;strong>date +%m/%d/%Y&lt;/strong> # 10/21/2009&lt;/li>
&lt;li>2009-10-21 15:18:17
&lt;ul>
&lt;li>&lt;strong>date &amp;ldquo;+%Y-%m-%d %H:%M:%S&amp;rdquo;&lt;/strong> #&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>2021-12-20_15:41
&lt;ul>
&lt;li>&lt;code>date +%F_%H:%M&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="timedatectl---控制系统时间和日期">timedatectl - 控制系统时间和日期&lt;a class="td-heading-self-link" href="#timedatectl---%e6%8e%a7%e5%88%b6%e7%b3%bb%e7%bb%9f%e6%97%b6%e9%97%b4%e5%92%8c%e6%97%a5%e6%9c%9f" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;h2 id="syntax语法-1">Syntax(语法)&lt;a class="td-heading-self-link" href="#syntax%e8%af%ad%e6%b3%95-1" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;strong>timedatectl [OPTIONS] [COMMAND]&lt;/strong>&lt;/p>
&lt;p>若不加任何子命令和选项，则显示日期与时间相关信息&lt;/p>
&lt;p>&lt;strong>COMMAND：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>status&lt;/strong> # 显示当前时间设定。(默认 COMMAND)&lt;/li>
&lt;li>&lt;strong>set-time TIME&lt;/strong> # 设置系统时间。
&lt;ul>
&lt;li>这也将相应地更新 RTC 时间。时间可以以 “2012-10-30 18:17:16” 格式指定。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>set-timezone ZONE&lt;/strong> # 设置系统的时区&lt;/li>
&lt;li>&lt;strong>list-timezones Show known time zones&lt;/strong>&lt;/li>
&lt;li>&lt;strong>set-local-rtc &amp;lt;true|false&amp;gt;&lt;/strong> # Control whether RTC is in local time&lt;/li>
&lt;li>&lt;strong>set-ntp &amp;lt;true|false&amp;gt;&lt;/strong> # 控制是否启用 NTP。&lt;/li>
&lt;/ul>
&lt;p>EXAMPLE&lt;/p>
&lt;ul>
&lt;li>&lt;strong>timedatectl set-time &amp;ldquo;2020-11-5 18:17:16&amp;rdquo;&lt;/strong> # 将系统时间设置为 2020 年 11 月 5 日 18 点 17 分 16 秒&lt;/li>
&lt;/ul>
&lt;h1 id="hwclock--rw--查看硬件时间bios-的">hwclock [-rw] # 查看硬件时间(BIOS 的)&lt;a class="td-heading-self-link" href="#hwclock--rw--%e6%9f%a5%e7%9c%8b%e7%a1%ac%e4%bb%b6%e6%97%b6%e9%97%b4bios-%e7%9a%84" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>OPTIONS&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-r&lt;/strong> # 查看现有 BIOS 时间，默认为－r 参数&lt;/li>
&lt;li>&lt;strong>-w&lt;/strong> # 将现在的 linux 系统时间写入 BIOS 中&lt;/li>
&lt;/ul>
&lt;p>当我们进行完 Linux 时间的校时后，还需要以 hwclock -w 来更新 BIOS 的时间，因为每次开机的时候，系统会重新由 BIOS 将时间读出来，所以， BIOS 才是重要的时间依据。&lt;/p>
&lt;h1 id="linux-校时">Linux 校时&lt;a class="td-heading-self-link" href="#linux-%e6%a0%a1%e6%97%b6" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>调整 linux 系统时间和时区与 Internet 时间同步&lt;/p>
&lt;p>一、修改时区：&lt;/p>
&lt;p>rm -f /etc/localtime&lt;/p>
&lt;p>ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&lt;/p>
&lt;p>修改为中国的东八区&lt;/p>
&lt;h1 id="clock--w">clock -w&lt;a class="td-heading-self-link" href="#clock--w" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>三、实现 Internet 时间同步（这里可以忽略上面两步）&lt;/p>
&lt;p>方法 1. 开机的时候自动网络校时：&lt;/p>
&lt;p>/usr/sbin/ntpdate -u 192.168.0.2 192.168.0.3 192.168.0.4; /sbin/hwclock -w&lt;/p>
&lt;p>方法 2. 设定计划任务&lt;/p>
&lt;p>crontab 格式如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># For details see man 4 crontabs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Example of job definition:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># .---------------- minute (0 - 59)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># | .------------- hour (0 - 23)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># | | .---------- day of month (1 - 31)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># | | | .------- month (1 - 12) OR jan,feb,mar,apr ...&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># | | | | |&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># \* \* \* \* \* command to be executed&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>设定 crontab 计划任务也有两种方式：&lt;/p>
&lt;p>1、写在/etc/crontab 里&lt;/p>
&lt;p>代码:&lt;/p>
&lt;p>00 11 * * * root ntpdate 210.72.145.44&lt;/p>
&lt;p>每天 11 点与中国国家授时中心同步时间&lt;/p>
&lt;p>每天 11 点与中国国家授时中心同步时间&lt;/p>
&lt;p>当然前提是&lt;/p>
&lt;p>apt-get install ntpdate&lt;/p>
&lt;p>代码也可是&lt;/p>
&lt;p>00 11 * * * root ntpdate us.pool.ntp.org&lt;/p>
&lt;p>2、使用命令 crontab -e&lt;/p>
&lt;p>crontab -e&lt;/p>
&lt;p>10 5 * * * root ntpdate us.pool.ntp.org;hwclock -w&lt;/p>
&lt;p>这样每天 5:10 自动进行网络校时，并同时更新 BIOS 的时间&lt;/p>
&lt;p>################################&lt;/p>
&lt;p>同步网络时间：输入 ntpdate time.nist.gov 同步网络时间&lt;/p>
&lt;p>[root@localhost ~]# ntpdate time.nist.gov&lt;/p>
&lt;p>12 Oct 17:25:01 ntpdate[2784]: step time server 132.163.4.103 offset 1147751.472254 sec&lt;/p>
&lt;p>## 出现以上信息说明同步成功 ##&lt;/p>
&lt;p>注：如提示命令不存在，直接输入：yum install ntp -y 安装 ntp 软件包&lt;/p></description></item><item><title>Docs: Internationalization</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/Internationalization/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/Internationalization/</guid><description>
&lt;h1 id="概述">概述&lt;a class="td-heading-self-link" href="#%e6%a6%82%e8%bf%b0" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/Internationalization_and_localization">Wiki, Internationalization_and_localization&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;strong>Internationalization(国际化，简称 i18n)&lt;/strong> 和 &lt;strong>Localization(本地化，简称 L10n)&lt;/strong> 是使计算机软件适应不同语言、区域特性和目标语言环境的技术要求的方法。&lt;/p>
&lt;p>操作系统中的 &lt;code>locale&lt;/code> 功能和相关的环境设置是由底层的系统库和支持多语言的软件包共同控制和提供的。在 Linux 系统中，主要是通过 &lt;code>glibc&lt;/code>（GNU C Library）这一核心库来实现对多语言和地区的支持。&lt;code>glibc&lt;/code> 提供了对 i18n 和 L10n 的支持，包括对不同语言环境的文本处理、字符编码转换等功能。&lt;/p>
&lt;p>Debian 系&lt;/p>
&lt;ul>
&lt;li>由 libc-bin 和 systemd 管理&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># dpkg-query -S /usr/bin/locale&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>libc-bin: /usr/bin/locale
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># dpkg-query -S /usr/bin/localectl&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemd: /usr/bin/localectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>RedHat 系&lt;/p>
&lt;ul>
&lt;li>由 glibc-common 和 systemd 管理&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># rpm -qf /usr/bin/locale&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>glibc-common-2.28-36.oe1.x86_64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># rpm -qf /usr/bin/localectl&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemd-243-18.oe1.x86_64
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>此外，还有一些辅助工具和软件包负责生成和管理具体的&lt;code>locale&lt;/code>数据，比如：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>localedata&lt;/strong>: 这是包含特定于区域信息的数据文件，如日期和时间格式、数字和货币表示方式等，通常随&lt;code>glibc&lt;/code>一起提供。&lt;/li>
&lt;li>&lt;strong>localedef&lt;/strong>: 一个用于从&lt;code>.po&lt;/code>（gettext翻译项目文件）文件创建或更新&lt;code>locale&lt;/code>定义的工具，也是&lt;code>glibc&lt;/code>的一部分。&lt;/li>
&lt;li>&lt;strong>gettext&lt;/strong>: 这是一个广泛使用的国际化的库，帮助程序实现多语言支持。它允许程序使用翻译过的字符串，并且维护了一个翻译消息的数据库。&lt;/li>
&lt;/ul>
&lt;p>在系统层面，管理&lt;code>locale&lt;/code>设置的还包括系统配置文件（如 &lt;code>/etc/default/locale&lt;/code>或&lt;code>/etc/locale.conf&lt;/code>）以及一些系统管理命令，如&lt;code>locale-gen&lt;/code>用于生成指定的&lt;code>locale&lt;/code>，&lt;code>update-locale&lt;/code>用于更新系统的&lt;code>locale&lt;/code>设置。&lt;/p>
&lt;p>因此，&lt;code>locale&lt;/code>功能不是由单一的包控制，而是涉及系统库、命令行工具、系统配置文件及一系列相互协作的组件共同作用的结果。&lt;/p>
&lt;h1 id="关联文件与配置">关联文件与配置&lt;a class="td-heading-self-link" href="#%e5%85%b3%e8%81%94%e6%96%87%e4%bb%b6%e4%b8%8e%e9%85%8d%e7%bd%ae" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>Debian 系&lt;/p>
&lt;ul>
&lt;li>&lt;strong>/etc/default/locale&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>RedHat 系&lt;/p>
&lt;ul>
&lt;li>&lt;strong>/etc/locale.conf&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h1 id="命令行工具">命令行工具&lt;a class="td-heading-self-link" href="#%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b7%a5%e5%85%b7" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;h2 id="locale">locale&lt;a class="td-heading-self-link" href="#locale" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h2 id="localectl">localectl&lt;a class="td-heading-self-link" href="#localectl" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h1 id="最佳实践">最佳实践&lt;a class="td-heading-self-link" href="#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;h2 id="修改-linux-系统语言">修改 Linux 系统语言&lt;a class="td-heading-self-link" href="#%e4%bf%ae%e6%94%b9-linux-%e7%b3%bb%e7%bb%9f%e8%af%ad%e8%a8%80" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>要将Linux系统的语言环境从其他语言（例如中文）修改为英语，你可以按照以下步骤操作：&lt;/p>
&lt;h3 id="方法-1-使用locale命令临时修改">方法 1: 使用 &lt;code>locale&lt;/code> 命令临时修改&lt;a class="td-heading-self-link" href="#%e6%96%b9%e6%b3%95-1-%e4%bd%bf%e7%94%a8locale%e5%91%bd%e4%bb%a4%e4%b8%b4%e6%97%b6%e4%bf%ae%e6%94%b9" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;p>对于临时性的修改，可以在当前终端会话中设置&lt;code>LANG&lt;/code>环境变量为英语环境。例如，设置为美国英语（UTF-8编码）：&lt;/p>
&lt;p>&lt;code>export LANG=en_US.UTF-8&lt;/code>&lt;/p>
&lt;p>这只会改变当前终端会话的语言环境，一旦关闭终端或打开新的终端窗口，设置就会失效。&lt;/p>
&lt;h3 id="方法-2-永久修改系统默认语言环境">方法 2: 永久修改系统默认语言环境&lt;a class="td-heading-self-link" href="#%e6%96%b9%e6%b3%95-2-%e6%b0%b8%e4%b9%85%e4%bf%ae%e6%94%b9%e7%b3%bb%e7%bb%9f%e9%bb%98%e8%ae%a4%e8%af%ad%e8%a8%80%e7%8e%af%e5%a2%83" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;p>要永久性地修改系统语言环境，你需要编辑系统配置文件。通常情况下，这个文件是&lt;code>/etc/default/locale&lt;/code>（针对Debian系，如Ubuntu）或&lt;code>/etc/locale.conf&lt;/code>（针对Red Hat系，如Fedora、CentOS）。&lt;/p>
&lt;h4 id="对于使用etcdefaultlocale的系统">对于使用 &lt;code>/etc/default/locale&lt;/code> 的系统：&lt;a class="td-heading-self-link" href="#%e5%af%b9%e4%ba%8e%e4%bd%bf%e7%94%a8etcdefaultlocale%e7%9a%84%e7%b3%bb%e7%bb%9f" aria-label="Heading self-link">&lt;/a>&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>tee &amp;gt; /etc/default/locale &amp;gt; /dev/null &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">LANG=en_US.UTF-8
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">LC_ALL=en_US.UTF-8
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>为了使改动生效，可以重新登录或者运行以下命令：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo locale-gen en_US.UTF-8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo update-locale &lt;span style="color:#000">LANG&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>en_US.UTF-8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="对于使用etclocaleconf的系统">对于使用 &lt;code>/etc/locale.conf&lt;/code> 的系统：&lt;a class="td-heading-self-link" href="#%e5%af%b9%e4%ba%8e%e4%bd%bf%e7%94%a8etclocaleconf%e7%9a%84%e7%b3%bb%e7%bb%9f" aria-label="Heading self-link">&lt;/a>&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>tee &amp;gt; /etc/locale.conf &amp;gt; /dev/null &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">LANG=en_US.UTF-8
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="注意事项">注意事项：&lt;a class="td-heading-self-link" href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;ul>
&lt;li>在某些系统上，你可能还需要使用&lt;code>localectl&lt;/code>命令来设置语言，例如：
&lt;ul>
&lt;li>&lt;code>sudo localectl set-locale LANG=en_US.UTF-8&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>修改系统语言环境后，确保系统已经安装了对应的语言包，如果没有，可能需要使用包管理器（如&lt;code>apt&lt;/code>或&lt;code>yum&lt;/code>）来安装。&lt;/li>
&lt;li>以上步骤适用于大多数Linux发行版，但具体命令和文件路径可能因发行版而异，请根据实际情况调整。&lt;/li>
&lt;/ul></description></item><item><title>Docs: Chrony</title><link>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/Chrony/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Time-and-Language/Chrony/</guid><description>
&lt;h1 id="概述">概述&lt;a class="td-heading-self-link" href="#%e6%a6%82%e8%bf%b0" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.com/chrony/chrony">GitLab，chrony/chrony&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://chrony.tuxfamily.org/index.html">官网&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://chrony.tuxfamily.org/documentation.html">官方文档&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>Chrony 是 &lt;a href="https://desistdaydream.github.io/docs/4.%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1/Protocol/NTP.md">NTP&lt;/a>(网络时间协议) 的通用实现。它可以将系统时钟与 NTP 服务器，参考时钟（例如 GPS 接收器）以及使用手表和键盘进行的手动输入进行同步。它还可以充当 NTPv4（RFC 5905）服务器并与之对等，以向网络中的其他计算机提供时间服务。&lt;/p>
&lt;p>&lt;code>yum install chrony&lt;/code> 即可安装该工具&lt;/p>
&lt;h1 id="chrony-配置">Chrony 配置&lt;a class="td-heading-self-link" href="#chrony-%e9%85%8d%e7%bd%ae" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>&lt;strong>/etc/chrony.conf&lt;/strong> # chronyd 守护进程运行的配置文件。该文件官方说明：&lt;a href="https://chrony.tuxfamily.org/doc/3.4/chrony.conf.html">https://chrony.tuxfamily.org/doc/3.4/chrony.conf.html&lt;/a>&lt;/p>
&lt;h2 id="基础配合文件示例">基础配合文件示例&lt;a class="td-heading-self-link" href="#%e5%9f%ba%e7%a1%80%e9%85%8d%e5%90%88%e6%96%87%e4%bb%b6%e7%a4%ba%e4%be%8b" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 指定 NTP 服务器。使用指定的 NTP 服务来同步本地时间。可以使用本机 ip，表示与本机同步时间。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>server 172.40.0.3 iburst
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Record the rate at which the system clock gains/losses time.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>driftfile /var/lib/chrony/drift
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Allow the system clock to be stepped in the first three updates&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># if its offset is larger than 1 second.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>makestep 1.0 &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Enable kernel synchronization of the real-time clock (RTC).&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rtcsync
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Enable hardware timestamping on all interfaces that support it.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#hwtimestamp *&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Increase the minimum number of selectable sources required to adjust&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># the system clock.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#minsources 2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 使用 allow 指令，即表明该服务器作为 NTP 服务端，来为其他 NTP 客户端来提供时钟服务&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># allow 指令用于指定允许哪些 NTP 客户端来连接该服务器来校准时间。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#allow 172.40.0.0/16&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># 即使不与时间源同步，也可以提供时间同步服务。在局域网内，常与 allow 指令同时使用，作为局域网内的时间服务器。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#local stratum 10&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Specify file containing keys for NTP authentication.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#keyfile /etc/chrony.keys&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Specify directory for log files.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>logdir /var/log/chrony
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Select which information is logged.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#log measurements statistics tracking&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="chrony-配置详解">Chrony 配置详解&lt;a class="td-heading-self-link" href="#chrony-%e9%85%8d%e7%bd%ae%e8%af%a6%e8%a7%a3" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://chrony.tuxfamily.org/doc/4.1/chrony.conf.html">官方文档，Manual(手册)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>chrony.conf 配置文件与 nginx 的配置文件类似，由指令和指令的参数组成。每条指令放在单独的一行上。虽然受支持的指令数量很多，但通常仅需要其中几个就可以满足日常所需。下面介绍几个常用的指令&lt;/p>
&lt;p>&lt;strong>server&lt;/strong> # 该指令用来指定 NTP 服务器(i.e.使用指定的 NTP 服务来同步本地时间)。可以使用本机 ip，表示与本机同步时间。
该指令支持的 OPTIONS:&lt;/p>
&lt;ul>
&lt;li>iburst # 使用此选项，发送到服务器的前四个请求之间的间隔将为 2 秒或更短，而不是 minpoll 选项指定的间隔，这使 chronyd 在启动后不久即可进行第一次时钟更新&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>allow &amp;lt;IPRANGE&amp;gt;&lt;/strong> # 该指令用于指定允许哪些 NTP 客户端来连接该服务器来校准时间。&lt;/p>
&lt;ul>
&lt;li>使用 allow 指令，即表明该服务器作为 NTP 服务端，来为其他 NTP 客户端来提供时钟服务。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>可以使用 all 参数来允许所有服务器&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>local &amp;lt;ARGS&amp;gt;&lt;/strong> # 该指令标名 chrony 启动本地引用模式。
本地引用模式允许 chronyd 作为一个 NTP 服务器运行，即使它从来没有同步过，或者时钟的最后一次更新发生在很久以前，它也能实时同步(从客户轮询的角度来看)。&lt;/p>
&lt;h1 id="chronyc-命令行工具">chronyc 命令行工具&lt;a class="td-heading-self-link" href="#chronyc-%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b7%a5%e5%85%b7" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://chrony.tuxfamily.org/doc/4.1/chronyc.html">官方文档，Manual(手册)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;strong>chronyc [OPTIONS] [COMMAND]&lt;/strong>&lt;/p>
&lt;p>chronyc 通过子命令来实现各种功能&lt;/p>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;h2 id="system-clock-command">System Clock COMMAND&lt;a class="td-heading-self-link" href="#system-clock-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h3 id="tracking---显示有关系统时钟性能的参数">tracking - 显示有关系统时钟性能的参数&lt;a class="td-heading-self-link" href="#tracking---%e6%98%be%e7%a4%ba%e6%9c%89%e5%85%b3%e7%b3%bb%e7%bb%9f%e6%97%b6%e9%92%9f%e6%80%a7%e8%83%bd%e7%9a%84%e5%8f%82%e6%95%b0" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>$ chronyc tracking
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Reference ID : 647D0028 &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>100.125.0.40&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Stratum : &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Ref &lt;span style="color:#204a87">time&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>UTC&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> : Sat Oct &lt;span style="color:#0000cf;font-weight:bold">09&lt;/span> 08:49:47 &lt;span style="color:#0000cf;font-weight:bold">2021&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>System &lt;span style="color:#204a87">time&lt;/span> : 0.000041988 seconds slow of NTP &lt;span style="color:#204a87">time&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Last offset : -0.000040913 seconds
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RMS offset : 0.000098497 seconds
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Frequency : 9.403 ppm slow
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Residual freq : -0.004 ppm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Skew : 0.156 ppm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Root delay : 0.184026539 seconds
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Root dispersion : 0.026236653 seconds
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Update interval : 256.5 seconds
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Leap status : Normal
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>makestep&lt;/strong>&lt;/p>
&lt;p>&lt;strong>maxupdateskew&lt;/strong>&lt;/p>
&lt;p>&lt;strong>waitsync&lt;/strong>&lt;/p>
&lt;h2 id="time-sources-command">Time Sources COMMAND&lt;a class="td-heading-self-link" href="#time-sources-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h3 id="sources---显示-chronyd-进程访问的当前时间源的信息">sources - 显示 chronyd 进程访问的当前时间源的信息&lt;a class="td-heading-self-link" href="#sources---%e6%98%be%e7%a4%ba-chronyd-%e8%bf%9b%e7%a8%8b%e8%ae%bf%e9%97%ae%e7%9a%84%e5%bd%93%e5%89%8d%e6%97%b6%e9%97%b4%e6%ba%90%e7%9a%84%e4%bf%a1%e6%81%af" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>desistdaydream@hw-cloud-xngy-jump-server-linux-2 ~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>$ chronyc sources -v
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">210&lt;/span> Number of &lt;span style="color:#000">sources&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .-- Source mode &lt;span style="color:#4e9a06">&amp;#39;^&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> server, &lt;span style="color:#4e9a06">&amp;#39;=&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> peer, &lt;span style="color:#4e9a06">&amp;#39;#&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">local&lt;/span> clock.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> / .- Source state &lt;span style="color:#4e9a06">&amp;#39;*&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> current synced, &lt;span style="color:#4e9a06">&amp;#39;+&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> combined , &lt;span style="color:#4e9a06">&amp;#39;-&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> not combined,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> / &lt;span style="color:#4e9a06">&amp;#39;?&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> unreachable, &lt;span style="color:#4e9a06">&amp;#39;x&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">time&lt;/span> may be in error, &lt;span style="color:#4e9a06">&amp;#39;~&amp;#39;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87">time&lt;/span> too variable.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">||&lt;/span> .- xxxx &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> yyyy &lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> +/- zzzz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">||&lt;/span> Reachability register &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>octal&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> -. &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">xxxx&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> adjusted offset,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">||&lt;/span> Log2&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>Polling interval&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> --. &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">yyyy&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> measured offset,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">||&lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">zzzz&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> estimated error.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">||&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>MS Name/IP address Stratum Poll Reach LastRx Last &lt;span style="color:#000">sample&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">===============================================================================&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>^* 100.125.0.40 &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">8&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">377&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">250&lt;/span> +5730ns&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span> +16us&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> +/- 133ms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sourcestats---显示有关-chronyd-进程所使用的每个时间源的状态信息">sourcestats - 显示有关 chronyd 进程所使用的每个时间源的状态信息&lt;a class="td-heading-self-link" href="#sourcestats---%e6%98%be%e7%a4%ba%e6%9c%89%e5%85%b3-chronyd-%e8%bf%9b%e7%a8%8b%e6%89%80%e4%bd%bf%e7%94%a8%e7%9a%84%e6%af%8f%e4%b8%aa%e6%97%b6%e9%97%b4%e6%ba%90%e7%9a%84%e7%8a%b6%e6%80%81%e4%bf%a1%e6%81%af" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>desistdaydream@hw-cloud-xngy-jump-server-linux-2 ~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>$ chronyc sourcestats -v
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">210&lt;/span> Number of &lt;span style="color:#000">sources&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .- Number of sample points in measurement set.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> / .- Number of residual runs with same sign.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> / .- Length of measurement &lt;span style="color:#204a87">set&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87">time&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> / .- Est. clock freq error &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>ppm&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> / .- Est. error in freq.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> / .- Est. offset.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> On the -.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> samples. &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Name/IP Address NP NR Span Frequency Freq Skew Offset Std &lt;span style="color:#000">Dev&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">==============================================================================&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>100.125.0.40 &lt;span style="color:#0000cf;font-weight:bold">10&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7&lt;/span> 38m +0.006 0.157 +913ns 63us
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>selectdata&lt;/strong>&lt;/p>
&lt;p>&lt;strong>reselect&lt;/strong>&lt;/p>
&lt;p>&lt;strong>reselectdist&lt;/strong>&lt;/p>
&lt;h2 id="ntp-sources-command">NTP Sources COMMAND&lt;a class="td-heading-self-link" href="#ntp-sources-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h3 id="activity--报告在线与离线的服务端和对等体的数量">activity # 报告在线与离线的服务端和对等体的数量&lt;a class="td-heading-self-link" href="#activity--%e6%8a%a5%e5%91%8a%e5%9c%a8%e7%ba%bf%e4%b8%8e%e7%a6%bb%e7%ba%bf%e7%9a%84%e6%9c%8d%e5%8a%a1%e7%ab%af%e5%92%8c%e5%af%b9%e7%ad%89%e4%bd%93%e7%9a%84%e6%95%b0%e9%87%8f" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>desistdaydream@hw-cloud-xngy-jump-server-linux-2 ~&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>$ chronyc activity
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">200&lt;/span> OK
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> sources online
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> sources offline
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> sources doing burst &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> to online&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> sources doing burst &lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">return&lt;/span> to offline&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span> sources with unknown address
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>authdata&lt;/strong>&lt;/p>
&lt;h3 id="ntpdata-address--显示-ntp-源的信息">ntpdata [ADDRESS] # 显示 NTP 源的信息&lt;a class="td-heading-self-link" href="#ntpdata-address--%e6%98%be%e7%a4%ba-ntp-%e6%ba%90%e7%9a%84%e4%bf%a1%e6%81%af" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;p>&lt;strong>add peer&lt;/strong>&lt;/p>
&lt;p>&lt;strong>add pool&lt;/strong>&lt;/p>
&lt;p>&lt;strong>add server&lt;/strong>&lt;/p>
&lt;p>&lt;strong>delete ADDRESS&lt;/strong>&lt;/p>
&lt;p>&lt;strong>burst&lt;/strong>&lt;/p>
&lt;h2 id="manual-time-input-command">Manual Time Input COMMAND&lt;a class="td-heading-self-link" href="#manual-time-input-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h2 id="ntp-access-command">NTP Access COMMAND&lt;a class="td-heading-self-link" href="#ntp-access-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h2 id="monitoring-access-command">Monitoring Access COMMAND&lt;a class="td-heading-self-link" href="#monitoring-access-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h2 id="real-time-clock-command">Real-time Clock COMMAND&lt;a class="td-heading-self-link" href="#real-time-clock-command" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h2 id="other-daemon-command">Other Daemon COMMAND&lt;a class="td-heading-self-link" href="#other-daemon-command" aria-label="Heading self-link">&lt;/a>&lt;/h2></description></item></channel></rss>