<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦的站点 – Python 工具</title><link>https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/</link><description>Recent content in Python 工具 on 断念梦的站点</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Python 工具</title><link>https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/Python-%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/Python-%E5%B7%A5%E5%85%B7/</guid><description>
&lt;h1 id="概述">概述&lt;a class="td-heading-self-link" href="#%e6%a6%82%e8%bf%b0" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;/blockquote>
&lt;h1 id="安装-python-包模块">安装 Python 包/模块&lt;a class="td-heading-self-link" href="#%e5%ae%89%e8%a3%85-python-%e5%8c%85%e6%a8%a1%e5%9d%97" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.python.org/3.10/installing/index.html">官方文档，安装 Python 模块&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://frostming.com/2019/03-13/where-do-your-packages-go/">https://frostming.com/2019/03-13/where-do-your-packages-go/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>管理 Python 的模块和包所在路径非常乱，不知道是何原因。&lt;/p>
&lt;p>&lt;a href="https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/PIP.md">PIP&lt;/a> 是首选的安装程序。从 Python 3.4 开始，它默认包含在 Python 二进制安装程序中。就算你是用 pipenv，poetry，底层依然是 pip，一律适用。&lt;/p>
&lt;p>运行 pip 有两种方式：&lt;/p>
&lt;ul>
&lt;li>pip &amp;hellip;&lt;/li>
&lt;li>python -m pip &amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>第一种方式和第二种方式大同小异，区别是第一种方式使用的 Python 解释器是写在 pip 文件的 shebang 里的，一般情况下，如果你的 pip 路径是 $path_prefix/bin/pip，那么 Python 路径对应的就是 $path_prefix/bin/python。如果你用的是 Unix 系统则 cat $(which pip) 第一行就包含了 Python 解释器的路径。第二种方式则显式地指定了 Python 的位置。这条规则，对于所有 Python 的可执行程序都是适用的。流程如下图所示。&lt;/p>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/loffuc/1669286382022-472bf4de-24cf-4652-bc94-3d52d01f7df1.png" alt="image.png">&lt;/p>
&lt;p>那么，不加任何自定义配置时，使用 pip 安装包就会自动安装到 &lt;code>$path_prefix/lib/pythonX.Y/site-packages&lt;/code> 下（$path_prefix 是从上一段里得到的），可执行程序安装到 $path_prefix/bin 下，如果需要在命令行直接使用 my_cmd 运行，记得加到 PATH。&lt;/p>
&lt;p>刚刚安装完的 Python 一般只有 pip 和 setuptools 模块，site-packages 目录下内容如下：&lt;/p>
&lt;pre tabindex="0">&lt;code>$ tree -L 1
.
├── README.txt
├── _distutils_hack
├── distutils-precedence.pth
├── pip
├── pip-23.0.1.dist-info
├── pkg_resources
├── setuptools
└── setuptools-65.5.0.dist-info
&lt;/code>&lt;/pre>&lt;h2 id="包管理工具">包管理工具&lt;a class="td-heading-self-link" href="#%e5%8c%85%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;a href="https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/PIP.md">PIP&lt;/a>&lt;/p>
&lt;p>Rye&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/astral-sh/rye">https://github.com/astral-sh/rye&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>poetry&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/python-poetry/poetry">https://github.com/python-poetry/poetry&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>pipenv&lt;/p>
&lt;p>pyenv&lt;/p>
&lt;p>pdm&lt;/p>
&lt;p>hatch&lt;/p>
&lt;h1 id="python">python&lt;a class="td-heading-self-link" href="#python" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.python.org/3/using/cmdline.html">官方文档，Python 安装与使用-命令行和环境&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>python 是一个工具，用来管理 Python 语言编写的代码。&lt;/p>
&lt;h2 id="syntax语法">Syntax(语法)&lt;a class="td-heading-self-link" href="#syntax%e8%af%ad%e6%b3%95" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;strong>python [-bBdEhiIOqsSuvVWx?] [-c command | -m module-name | script | - ] [args]&lt;/strong>
OPTIONS&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-S&lt;/strong> # Python 启动初始化时，不要导入 site 包&lt;/li>
&lt;li>&lt;strong>-m &amp;lt;ModuleName&amp;gt;&lt;/strong> # 在 &lt;code>sys.path&lt;/code> 中搜索指定模块，并默认执行模块中 &lt;code>__name__&lt;/code> 为 &lt;code>__main__&lt;/code> 的代码
&lt;ul>
&lt;li>&lt;code>python3 -m site&lt;/code> 等效于 &lt;code>python3 /usr/lib/python3.8/site.py&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="example">EXAMPLE&lt;a class="td-heading-self-link" href="#example" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;h2 id="启用一个简易的-http-服务器">启用一个简易的 HTTP 服务器&lt;a class="td-heading-self-link" href="#%e5%90%af%e7%94%a8%e4%b8%80%e4%b8%aa%e7%ae%80%e6%98%93%e7%9a%84-http-%e6%9c%8d%e5%8a%a1%e5%99%a8" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;pre tabindex="0">&lt;code># 使用该命令可以在当前目录搭建一个简易的http服务器，当client访问的时候，就可以直接看到该目录下的内容，还可以下载该目录下的内容
python -m SimpleHTTPServer NUM
&lt;/code>&lt;/pre>&lt;p>若报错则使用如下命令：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>python3 -m http.server NUM
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: PIP</title><link>https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/PIP/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%E5%B7%A5%E5%85%B7/PIP/</guid><description>
&lt;h1 id="概述">概述&lt;a class="td-heading-self-link" href="#%e6%a6%82%e8%bf%b0" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/pypa/pip">GitHub 项目，pypa/pip&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://pip.pypa.io/">官网&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;strong>Package Installer for Python(Python 的包安装器，简称 PIP)&lt;/strong> 是 Python 的包管理程序。可以使用它来安装来自 Python 包索引和其他索引的包。从 Python 3.4 开始，它默认包含在 Python 二进制安装程序中。&lt;/p>
&lt;h1 id="pip-安装包逻辑">pip 安装包逻辑&lt;a class="td-heading-self-link" href="#pip-%e5%ae%89%e8%a3%85%e5%8c%85%e9%80%bb%e8%be%91" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>pip 默认从 &lt;a href="https://pypi.org/">PyPI&lt;/a> 搜索包。&lt;/p>
&lt;p>先下载到 /tmp/pip-unpack-随机数/包名-XXX.whl，然后默认情况下，将这些文件安装到 site-packages 目录。&lt;/p>
&lt;h2 id="有关---taget-选项的说明">有关 &amp;ndash;taget 选项的说明&lt;a class="td-heading-self-link" href="#%e6%9c%89%e5%85%b3---taget-%e9%80%89%e9%a1%b9%e7%9a%84%e8%af%b4%e6%98%8e" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>当我们使用 &lt;code>--target TARGET_DIR&lt;/code> 选项指定包的安装路径时，则会将随包带的可执行文件安装到 &lt;code>TARGET_DIR/bin/&lt;/code> 目录下，若两个具有可执行文件的包被同事安装到同一个 TARGET_DIR 中，则后安装的包的二进制文件将不会成功，并且有警告信息：&lt;/p>
&lt;pre tabindex="0">&lt;code>WARNING: Target directory /root/pythonpath/bin already exists. Specify --upgrade to force replacement.
&lt;/code>&lt;/pre>&lt;p>假如现在想要安装 black 和 pipreqs 两个包，先安装 black，那么 pipreqs 可执行文件将不会安装成功，除非使用 &amp;ndash;upgrade 选项，此时，bin/ 目录下的 black 可执行文件将被删除，并替换为 pipreqs 可执行文件。&lt;/p>
&lt;p>综上所述：&amp;ndash;target 选项不适合指定为 PYTHONPATH，而是为每个包指定一个独立的目录，并且每个目录下的 bin 目录都要添加到 $PATH 才可以，这是一个很鸡肋的选项。&lt;/p>
&lt;p>详见 &lt;a href="https://github.com/pypa/pip/issues/8063">pip issue 8063&lt;/a>&lt;/p>
&lt;h1 id="安装-pip">安装 PIP&lt;a class="td-heading-self-link" href="#%e5%ae%89%e8%a3%85-pip" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>通常来说，安装 Python 时，会自动安装 PIP&lt;/p>
&lt;blockquote>
&lt;p>一般都会被安装到 stie-packages/ 目录中&lt;/p>
&lt;/blockquote>
&lt;p>pip 包通常包含两个目录&lt;/p>
&lt;ul>
&lt;li>pip/&lt;/li>
&lt;li>pip-${VERSION}.dist-info/&lt;/li>
&lt;/ul>
&lt;h1 id="关联文件与配置">关联文件与配置&lt;a class="td-heading-self-link" href="#%e5%85%b3%e8%81%94%e6%96%87%e4%bb%b6%e4%b8%8e%e9%85%8d%e7%bd%ae" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;h2 id="windows">Windows&lt;a class="td-heading-self-link" href="#windows" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>全局配置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>C:/ProgramData/pip/pip.ini&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>用户配置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>%APPDATA%/pip/pip.ini&lt;/strong>&lt;/li>
&lt;li>&lt;strong>%USERPROFILE%/pip/pip.ini&lt;/strong> # 传统的用户配置如果存在的话也会被加载&lt;/li>
&lt;/ul>
&lt;p>Site 配置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>%VIRTUAL_ENV%\pip.ini&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="unix">Unix&lt;a class="td-heading-self-link" href="#unix" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>全局配置&lt;/p>
&lt;ul>
&lt;li>In a “pip” subdirectory of any of the paths set in the environment variable &lt;code>XDG_CONFIG_DIRS&lt;/code> (if it exists), for example &lt;code>/etc/xdg/pip/pip.conf&lt;/code>.&lt;/li>
&lt;li>This will be followed by loading &lt;code>/etc/pip.conf&lt;/code>.&lt;/li>
&lt;/ul>
&lt;p>用户配置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>~/.config/pip/pip.conf&lt;/strong> # which respects the &lt;code>XDG_CONFIG_HOME&lt;/code> environment variable.&lt;/li>
&lt;li>&lt;strong>~/.pip/pip.conf&lt;/strong> # 传统的用户配置如果存在的话也会被加载&lt;/li>
&lt;/ul>
&lt;p>Site 配置&lt;/p>
&lt;ul>
&lt;li>&lt;strong>$VIRTUAL_ENV/pip.conf&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="其他">其他&lt;a class="td-heading-self-link" href="#%e5%85%b6%e4%bb%96" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>pip 安装的模块我们可以从如下目录中找到，该目录下的目录名或文件名通常来说即是包名&lt;/p>
&lt;ul>
&lt;li>Windows
&lt;ul>
&lt;li>&lt;strong>%USERPROFILE%/AppData/Local/Programs/Python/Python${版本号}/Lib/site-packages/&lt;/strong>*&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Linux
&lt;ul>
&lt;li>root 用户：&lt;strong>/usr/local/lib/python${VERSION}/dist-packages/&lt;/strong>&lt;/li>
&lt;li>普通 用户：&lt;strong>~/.local/lib/python${PythonVersion}/site-packages/&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>有些包会生成一些可以执行程序，这些二进制文件则默认保存在如下目录&lt;/p>
&lt;ul>
&lt;li>Windows
&lt;ul>
&lt;li>&lt;strong>%USERPROFILE%/AppData/Local/Programs/Python/Python310/Scripts/&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Linux
&lt;ul>
&lt;li>root 用户：&lt;strong>/usr/local/bin/&lt;/strong>&lt;/li>
&lt;li>普通 用户：&lt;strong>~/.local/bin/&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="syntax语法">Syntax(语法)&lt;a class="td-heading-self-link" href="#syntax%e8%af%ad%e6%b3%95" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://pip.pypa.io/en/stable/cli/pip/">官方文档，cli-pip&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>&lt;strong>pip COMMAND [OPTIONS] COMMAND&lt;/strong>&lt;/p>
&lt;p>&lt;strong>Commands&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>install&lt;/strong> # 安装包&lt;/li>
&lt;li>&lt;strong>download&lt;/strong> # 下载包&lt;/li>
&lt;li>&lt;strong>uninstall&lt;/strong> # 卸载包&lt;/li>
&lt;li>&lt;strong>freeze&lt;/strong> # 以 requirements 格式输出已安装的软件包&lt;/li>
&lt;li>inspect Inspect the python environment.&lt;/li>
&lt;li>&lt;strong>list&lt;/strong> # 列出已安装的包&lt;/li>
&lt;li>&lt;strong>show&lt;/strong> # 显示有关已安装软件包的信息。&lt;/li>
&lt;li>check Verify installed packages have compatible dependencies.&lt;/li>
&lt;li>&lt;strong>config&lt;/strong> # 管理本地或全局配置&lt;/li>
&lt;li>search Search PyPI for packages.&lt;/li>
&lt;li>cache Inspect and manage pip&amp;rsquo;s wheel cache.&lt;/li>
&lt;li>index Inspect information available from package indexes.&lt;/li>
&lt;li>wheel Build wheels from your requirements.&lt;/li>
&lt;li>hash Compute hashes of package archives.&lt;/li>
&lt;li>completion A helper command used for command completion.&lt;/li>
&lt;li>debug Show information useful for debugging.&lt;/li>
&lt;li>help Show help for commands.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-v, &amp;ndash;verbose&lt;/strong> # 在执行命令时显示更多信息，可多次使用，最多 3 次，每多一个 v，则显示的信息就更多一些。&lt;/li>
&lt;/ul>
&lt;h2 id="pip-config">pip config&lt;a class="td-heading-self-link" href="#pip-config" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>管理本地或全局配置&lt;/p>
&lt;p>pip config list # 列出&lt;/p>
&lt;p>pip config edit &amp;ndash;editor code # 使用 vscode 打开 pip 配置文件&lt;/p>
&lt;h2 id="pip-download">pip download&lt;a class="td-heading-self-link" href="#pip-download" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-d, &amp;ndash;dest &amp;lt;DIR&amp;gt;&lt;/strong> # 将 Python 包下载到 DIR 目录中。&lt;/li>
&lt;li>&lt;strong>-r, &amp;ndash;requirement &amp;lt;FILE&amp;gt;&lt;/strong> # 从指定的 requirement 文件中下载 Python 包。&lt;/li>
&lt;/ul>
&lt;h2 id="pip-freeeze">pip freeeze&lt;a class="td-heading-self-link" href="#pip-freeeze" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>以 requirements 格式输出安装的软件包列表。软件包以不区分大小写的排序方式列出。&lt;/p>
&lt;p>&lt;code>pip freeze &amp;gt; requirements.txt&lt;/code>&lt;/p>
&lt;h2 id="pip-install">pip install&lt;a class="td-heading-self-link" href="#pip-install" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>&lt;a href="https://pip.pypa.io/en/stable/cli/pip_install/">https://pip.pypa.io/en/stable/cli/pip_install/&lt;/a>&lt;/p>
&lt;p>&lt;strong>OPTIONS&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>-i, &amp;ndash;index-url &amp;lt;URL&amp;gt;&lt;/strong> # Python 包索引的 URL。&lt;code>默认值：https://pypi.org/simple&lt;/code>
&lt;ul>
&lt;li>可以通过 -i 配置 pip 安装包时使用国内的源，避免国从国外下载速度太慢&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>-r, &amp;ndash;requirement &amp;lt;FILE&amp;gt;&lt;/strong> # 安装指定 requirement 文件中的 Python 包。&lt;/li>
&lt;li>&lt;strong>-t, &amp;ndash;target &amp;lt;DIR&amp;gt;&lt;/strong> # 将 Python 包安装到 DIR 目录中。可以添加 &amp;ndash;upgrade 选项将现有包替换为 DIR 目录中的新版本。&lt;/li>
&lt;li>&lt;strong>-U, &amp;ndash;upgrade&lt;/strong> # 将指定的所有 Python 包升级到最新的可用版本。&lt;/li>
&lt;li>&lt;strong>&amp;ndash;user&lt;/strong> # 将包安装到 user 的 site-packages 目录下。&lt;/li>
&lt;/ul>
&lt;h3 id="example">EXAMPLE&lt;a class="td-heading-self-link" href="#example" aria-label="Heading self-link">&lt;/a>&lt;/h3>
&lt;p>&lt;code>pip install .&lt;/code> 即可使用 pyproject.toml 文件安装依赖。不用使用 -r 去依赖 requirement 文件了。&lt;/p>
&lt;p>安装 2.6.1.3 版本的 paddleocr&lt;/p>
&lt;ul>
&lt;li>&lt;code>pip install paddleocr==2.6.1.3&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>更新 paddleocr 包到最新版本，显示详细信息。&lt;/p>
&lt;ul>
&lt;li>&lt;code>pip install paddleocr --upgrade --verbose&lt;/code>&lt;/li>
&lt;/ul>
&lt;h1 id="最佳实践">最佳实践&lt;a class="td-heading-self-link" href="#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="Heading self-link">&lt;/a>&lt;/h1>
&lt;p>安装、下载包时，指定包源&lt;/p>
&lt;p>&lt;code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyspider&lt;/code>，这样就会从清华这边的包镜像安装 pyspider 库。&lt;/p>
&lt;h2 id="离线安装-python-包">离线安装 Python 包&lt;a class="td-heading-self-link" href="#%e7%a6%bb%e7%ba%bf%e5%ae%89%e8%a3%85-python-%e5%8c%85" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>下载 Python 包文件&lt;/p>
&lt;p>&lt;code>pip download black&lt;/code>&lt;/p>
&lt;p>安装 Python 包文件&lt;/p>
&lt;p>&lt;code>pip install *.whl&lt;/code>&lt;/p>
&lt;h2 id="配置镜像源加速">配置镜像源加速&lt;a class="td-heading-self-link" href="#%e9%85%8d%e7%bd%ae%e9%95%9c%e5%83%8f%e6%ba%90%e5%8a%a0%e9%80%9f" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>对于 Python 开发用户来讲，PIP 安装软件包是家常便饭。但国外的源下载速度实在太慢，浪费时间。而且经常出现下载后安装出错问题。所以把 PIP 安装源替换成国内镜像，可以大幅提升下载速度，还可以提高安装成功率。&lt;/p>
&lt;p>国内源：&lt;/p>
&lt;ul>
&lt;li>阿里云：https://mirrors.aliyun.com/pypi/simple/&lt;/li>
&lt;li>清华：&lt;a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple&lt;/a>&lt;/li>
&lt;li>中国科技大学 &lt;a href="https://pypi.mirrors.ustc.edu.cn/simple/">https://pypi.mirrors.ustc.edu.cn/simple/&lt;/a>&lt;/li>
&lt;li>华中理工大学：&lt;a href="http://pypi.hustunique.com/">http://pypi.hustunique.com/&lt;/a>&lt;/li>
&lt;li>山东理工大学：&lt;a href="http://pypi.sdutlinux.org/">http://pypi.sdutlinux.org/&lt;/a>&lt;/li>
&lt;li>豆瓣：&lt;a href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Linux 下，修改 ~/.pip/pip.conf (没有就创建一个文件夹及文件。文件夹要加“.”，表示是隐藏文件夹)，内容如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>mkdir -p ~/.pip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tee ~/.pip/pip.conf &amp;gt; /dev/null &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">[global]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">index-url = https://mirrors.aliyun.com/pypi/simple/
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">trusted-host = mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>windows 下，在 &lt;code>%APPDATA%&lt;/code> 目录中创建一个 pip 目录，如：C:/Users/xx/pip，新建文件 pip.ini。内容同上。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">New-Item&lt;/span> &lt;span style="color:#000">-ItemType&lt;/span> &lt;span style="color:#000">File&lt;/span> &lt;span style="color:#000">$env:APPDATA&lt;/span>&lt;span style="color:#000;font-weight:bold">\&lt;/span>&lt;span style="color:#000">pip&lt;/span>&lt;span style="color:#000;font-weight:bold">\&lt;/span>&lt;span style="color:#000">pip&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ini&lt;/span> &lt;span style="color:#000">-Force&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">Add-Content&lt;/span> &lt;span style="color:#000">$env:APPDATA&lt;/span>&lt;span style="color:#000;font-weight:bold">\&lt;/span>&lt;span style="color:#000">pip&lt;/span>&lt;span style="color:#000;font-weight:bold">\&lt;/span>&lt;span style="color:#000">pip&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ini&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;[global]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">Add-Content&lt;/span> &lt;span style="color:#000">$env:APPDATA&lt;/span>&lt;span style="color:#000;font-weight:bold">\&lt;/span>&lt;span style="color:#000">pip&lt;/span>&lt;span style="color:#000;font-weight:bold">\&lt;/span>&lt;span style="color:#000">pip&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ini&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;index-url = https://mirrors.aliyun.com/pypi/simple/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="配置默认安装路径">配置默认安装路径&lt;a class="td-heading-self-link" href="#%e9%85%8d%e7%bd%ae%e9%bb%98%e8%ae%a4%e5%ae%89%e8%a3%85%e8%b7%af%e5%be%84" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>TODO: &amp;ndash;target 没效果，修改 user 的 site-packages 没效果。。。。o(╯□╰)o&lt;/p>
&lt;p>先用 &lt;a href="https://desistdaydream.github.io/docs/2.%E7%BC%96%E7%A8%8B/%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python%20%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/Python%20%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85.md#Python%20%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83">Python 虚拟环境&lt;/a>吧&lt;/p>
&lt;h2 id="显示一个包的可安装版本">显示一个包的可安装版本&lt;a class="td-heading-self-link" href="#%e6%98%be%e7%a4%ba%e4%b8%80%e4%b8%aa%e5%8c%85%e7%9a%84%e5%8f%af%e5%ae%89%e8%a3%85%e7%89%88%e6%9c%ac" aria-label="Heading self-link">&lt;/a>&lt;/h2>
&lt;p>pip 没有这种命令，但是可以通过 &lt;code>pip install PACKAGE== --no-deps --no-cache-dir&lt;/code> 实现类似的效果，因为版本号为空，则会报错，在报错时，会显示所有可用的版本号。&lt;/p>
&lt;p>比如执行 &lt;code>pip install numpy== --no-deps --no-cache-dir&lt;/code>&lt;/p>
&lt;p>报错：&lt;/p>
&lt;pre tabindex="0">&lt;code>ERROR: Could not find a version that satisfies the requirement numpy== (from versions: 1.3.0, 1.4.1, 1.5.0, 1.5.1, 1.6.0, 1.6.1, 1.6.2, 1.7.0, 1.7.1, 1.7.2, 1.8.0, 1.8.1, 1.8.2, 1.9.0, 1.9.1, 1.9.2, 1.9.3, 1.10.0.post2, 1.10.1, 1.10.2, 1.10.4, 1.11.0, 1.11.1, 1.11.2, 1.11.3, 1.12.0, 1.12.1, 1.13.0, 1.13.1, 1.13.3, 1.14.0, 1.14.1, 1.14.2, 1.14.3, 1.14.4, 1.14.5, 1.14.6, 1.15.0, 1.15.1, 1.15.2, 1.15.3, 1.15.4, 1.16.0, 1.16.1, 1.16.2, 1.16.3, 1.16.4, 1.16.5, 1.16.6, 1.17.0, 1.17.1, 1.17.2, 1.17.3, 1.17.4, 1.17.5, 1.18.0, 1.18.1, 1.18.2, 1.18.3, 1.18.4, 1.18.5, 1.19.0, 1.19.1, 1.19.2, 1.19.3, 1.19.4, 1.19.5, 1.20.0, 1.20.1, 1.20.2, 1.20.3, 1.21.0, 1.21.1, 1.21.2, 1.21.3, 1.21.4, 1.21.5, 1.21.6, 1.22.0, 1.22.1, 1.22.2, 1.22.3, 1.22.4, 1.23.0rc1, 1.23.0rc2, 1.23.0rc3, 1.23.0, 1.23.1, 1.23.2, 1.23.3, 1.23.4, 1.23.5, 1.24.0rc1, 1.24.0rc2, 1.24.0, 1.24.1, 1.24.2, 1.24.3, 1.24.4, 1.25.0rc1, 1.25.0, 1.25.1, 1.25.2, 1.26.0b1, 1.26.0rc1, 1.26.0, 1.26.1)
ERROR: No matching distribution found for numpy==
&lt;/code>&lt;/pre></description></item></channel></rss>