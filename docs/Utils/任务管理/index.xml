<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>断念梦 – 任务管理</title><link>https://desistdaydream.github.io/docs/Utils/%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86/</link><description>Recent content in 任务管理 on 断念梦</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://desistdaydream.github.io/docs/Utils/%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 青龙</title><link>https://desistdaydream.github.io/docs/Utils/%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86/%E9%9D%92%E9%BE%99/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://desistdaydream.github.io/docs/Utils/%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86/%E9%9D%92%E9%BE%99/</guid><description>
&lt;h1 id="概述">概述&lt;/h1>
&lt;blockquote>
&lt;p>参考：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/whyour/qinglong">GitHub 项目，whyour/qinglong&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://blog.csdn.net/m0_66043650">CSDN-青龙-白虎&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>一个支持 Python、JavaScript、Shell、TypeScript 代码编写的 &lt;a href="https://desistdaydream.github.io/docs/8.%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/Job/Job.md">Job&lt;/a> 管理平台。&lt;/p>
&lt;p>青龙没有文档吗？青龙的 API 在哪？这玩意咋什么文档都没有。。。。。o(╯□╰)o。。。。只能直接看 &lt;a href="https://github.com/whyour/qinglong/tree/develop/back/api">API 的源码&lt;/a>吗？这里有人整了个 &lt;a href="https://qinglong.ukenn.top/#/">OpenAPI&lt;/a> 格式的&lt;/p>
&lt;h1 id="青龙部署">青龙部署&lt;/h1>
&lt;p>&lt;a href="https://github.com/zhangguanzhang/docker-compose/tree/master/qinglong">https://github.com/zhangguanzhang/docker-compose/tree/master/qinglong&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>version: &lt;span style="color:#e6db74">&amp;#34;3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>services:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> qinglong:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: whyour/qinglong:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> container_name: qinglong
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> restart: unless-stopped
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tty: true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ports:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - 5700:5700
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - 5701:5701
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> environment:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ENABLE_HANGUP&lt;span style="color:#f92672">=&lt;/span>true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ENABLE_WEB_PANEL&lt;span style="color:#f92672">=&lt;/span>true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> volumes:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/config:/ql/config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/log:/ql/log
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/db:/ql/db
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/repo:/ql/repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/raw:/ql/raw
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/scripts:/ql/scripts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/jbot:/ql/jbot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./qinglong/ninja:/ql/ninja
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>docker-compose up -d
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>docker exec -it qinglong bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apk add ca-certificates
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd /ql
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">(&lt;/span>可选&lt;span style="color:#f92672">)&lt;/span> pnpm config set registry https://registry.npmmirror.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pnpm install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>可以参考 &lt;a href="https://github.com/shufflewzc/QLDependency">shufflewzc/QLDependency&lt;/a> 项目中的脚本，以便安装未来可能用到的各种依赖。&lt;/p>
&lt;h2 id="添加各种依赖库">添加各种依赖库&lt;/h2>
&lt;p>打开青龙页面后，点击左侧的&lt;strong>依赖管理&lt;/strong>，每次添加时选择&lt;strong>自动拆分&lt;/strong>&lt;/p>
&lt;h1 id="青龙关联文件与配置">青龙关联文件与配置&lt;/h1>
&lt;p>数据通常都保存在 &lt;code>/ql/&lt;/code> 路径&lt;/p>
&lt;p>&lt;strong>/ql/config/&lt;/strong> #&lt;/p>
&lt;ul>
&lt;li>&lt;strong>./auth.json&lt;/strong> # 认证信息。若忘记了密码，可以在这个文件中找到。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>/ql/scripts/&lt;/strong> # qinglong 运行定时任务时读取脚本的默认路径。初始目录结构如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># tree -L 1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>├── node_modules
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>├── notify.py
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>├── package.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>├── pnpm-lock.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>└── sendNotify.js &lt;span style="color:#75715e"># 青龙自身的通知脚本。比如登录等通知信息。若是拉了某个仓库的很多脚本，通常这些脚本都有自己的通知脚本。&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="编写青龙脚本">编写青龙脚本&lt;/h1>
&lt;blockquote>
&lt;p>参考：青龙没有文档吗？&lt;/p>
&lt;/blockquote>
&lt;p>qinglong 会读取 /ql/scripts/ 目录下的文件作为脚本运行。&lt;/p>
&lt;p>注意：脚本运行日志报错缺少依赖的话，需要安装缺少的依赖。使用 pnpm、pip 等命令安装 JS、Python 代码运行所需依赖。&lt;/p>
&lt;h2 id="青龙面板脚本编写教程">青龙面板脚本编写教程&lt;/h2>
&lt;p>原文链接: &lt;a href="https://osaul.com/posts/2/">https://osaul.com/posts/2/&lt;/a>&lt;/p>
&lt;p>青龙没有文档来说明编写脚本的注意事项么？&lt;/p>
&lt;p>先提供一个&lt;a href="https://github.com/SaulLawliet/ql-scripts/blob/master/template/index.js">代码模板&lt;/a> , 默认需要提供环境变量才会运行.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> * cron: 0 0 * * *
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> * 描述巴拉巴拉
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> * 环境变量定义:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> * - foo: 其含义
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> * - bar: 其含义
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">$&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#a6e22e">Env&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;脚本名字&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">ENV&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;环境变量名字&amp;#39;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 读取环境变量: process.env[ENV]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 读取存储文件: const data = $.getdata($.name) || {};
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 写入存储文件: $.setdata(data, $.name);
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">!&lt;/span>(&lt;span style="color:#66d9ef">async&lt;/span> () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 代码开始
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">process&lt;/span>.&lt;span style="color:#a6e22e">env&lt;/span>[&lt;span style="color:#a6e22e">ENV&lt;/span>] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>})()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>.&lt;span style="color:#66d9ef">catch&lt;/span>((&lt;span style="color:#a6e22e">e&lt;/span>) =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">logErr&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>})
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>.&lt;span style="color:#66d9ef">finally&lt;/span>(() =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">done&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>});
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// prettier-ignore
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">function&lt;/span> &lt;span style="color:#a6e22e">Env&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span>{&lt;span style="color:#a6e22e">constructor&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">null&lt;/span>,&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">dataFile&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;box.dat&amp;#34;&lt;/span>,&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>&lt;span style="color:#f92672">=&lt;/span>[],&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logSeparator&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;\n&amp;#34;&lt;/span>,&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">startTime&lt;/span>&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getTime&lt;/span>(),Object.&lt;span style="color:#a6e22e">assign&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#e6db74">`\ud83d\udd14&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">, \u5f00\u59cb!`&lt;/span>)}&lt;span style="color:#a6e22e">isNode&lt;/span>(){&lt;span style="color:#66d9ef">return&lt;/span>&lt;span style="color:#e6db74">&amp;#34;undefined&amp;#34;&lt;/span>&lt;span style="color:#f92672">!=&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">module&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;!!&lt;/span>&lt;span style="color:#a6e22e">module&lt;/span>.&lt;span style="color:#a6e22e">exports&lt;/span>}&lt;span style="color:#a6e22e">isQuanX&lt;/span>(){&lt;span style="color:#66d9ef">return&lt;/span>&lt;span style="color:#e6db74">&amp;#34;undefined&amp;#34;&lt;/span>&lt;span style="color:#f92672">!=&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">$task&lt;/span>}&lt;span style="color:#a6e22e">isSurge&lt;/span>(){&lt;span style="color:#66d9ef">return&lt;/span>&lt;span style="color:#e6db74">&amp;#34;undefined&amp;#34;&lt;/span>&lt;span style="color:#f92672">!=&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">$httpClient&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#e6db74">&amp;#34;undefined&amp;#34;&lt;/span>&lt;span style="color:#f92672">==&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">$loon&lt;/span>}&lt;span style="color:#a6e22e">isLoon&lt;/span>(){&lt;span style="color:#66d9ef">return&lt;/span>&lt;span style="color:#e6db74">&amp;#34;undefined&amp;#34;&lt;/span>&lt;span style="color:#f92672">!=&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">$loon&lt;/span>}&lt;span style="color:#a6e22e">getScript&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Promise(&lt;span style="color:#a6e22e">s&lt;/span>=&amp;gt;{&lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">get&lt;/span>({&lt;span style="color:#a6e22e">url&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>},(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)=&amp;gt;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">i&lt;/span>))})}&lt;span style="color:#a6e22e">runScript&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Promise(&lt;span style="color:#a6e22e">e&lt;/span>=&amp;gt;{&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">getdata&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;@chavy_boxjs_userCfgs.httpapi&amp;#34;&lt;/span>);&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>.&lt;span style="color:#a6e22e">replace&lt;/span>(&lt;span style="color:#e6db74">/\n/g&lt;/span>,&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>).&lt;span style="color:#a6e22e">trim&lt;/span>()&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>;&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">getdata&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;@chavy_boxjs_userCfgs.httpapi_timeout&amp;#34;&lt;/span>);&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">20&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">timeout&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">timeout&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>;&lt;span style="color:#66d9ef">const&lt;/span>[&lt;span style="color:#a6e22e">h&lt;/span>,&lt;span style="color:#a6e22e">a&lt;/span>]&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>.&lt;span style="color:#a6e22e">split&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;@&amp;#34;&lt;/span>),&lt;span style="color:#a6e22e">r&lt;/span>&lt;span style="color:#f92672">=&lt;/span>{&lt;span style="color:#a6e22e">url&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">`http://&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">a&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">/v1/scripting/evaluate`&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>{&lt;span style="color:#a6e22e">script_text&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">mock_type&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">&amp;#34;cron&amp;#34;&lt;/span>,&lt;span style="color:#a6e22e">timeout&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>},&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>{&lt;span style="color:#e6db74">&amp;#34;X-Key&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>,&lt;span style="color:#a6e22e">Accept&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">&amp;#34;*/*&amp;#34;&lt;/span>}};&lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#a6e22e">r&lt;/span>,(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)=&amp;gt;&lt;span style="color:#a6e22e">e&lt;/span>(&lt;span style="color:#a6e22e">i&lt;/span>))}).&lt;span style="color:#66d9ef">catch&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logErr&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>))}&lt;span style="color:#a6e22e">loaddata&lt;/span>(){&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isNode&lt;/span>())&lt;span style="color:#66d9ef">return&lt;/span>{};{&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">require&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;fs&amp;#34;&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">require&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;path&amp;#34;&lt;/span>);&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>.&lt;span style="color:#a6e22e">resolve&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">dataFile&lt;/span>),&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>.&lt;span style="color:#a6e22e">resolve&lt;/span>(&lt;span style="color:#a6e22e">process&lt;/span>.&lt;span style="color:#a6e22e">cwd&lt;/span>(),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">dataFile&lt;/span>),&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">existsSync&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>),&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=!&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">existsSync&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>);&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;!&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>)&lt;span style="color:#66d9ef">return&lt;/span>{};{&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>;&lt;span style="color:#66d9ef">try&lt;/span>{&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">JSON&lt;/span>.&lt;span style="color:#a6e22e">parse&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">readFileSync&lt;/span>(&lt;span style="color:#a6e22e">i&lt;/span>))}&lt;span style="color:#66d9ef">catch&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span>{}}}}}&lt;span style="color:#a6e22e">writedata&lt;/span>(){&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isNode&lt;/span>()){&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">require&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;fs&amp;#34;&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">require&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;path&amp;#34;&lt;/span>);&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>.&lt;span style="color:#a6e22e">resolve&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">dataFile&lt;/span>),&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">path&lt;/span>.&lt;span style="color:#a6e22e">resolve&lt;/span>(&lt;span style="color:#a6e22e">process&lt;/span>.&lt;span style="color:#a6e22e">cwd&lt;/span>(),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">dataFile&lt;/span>),&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">existsSync&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>),&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=!&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">existsSync&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>),&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">JSON&lt;/span>.&lt;span style="color:#a6e22e">stringify&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>);&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">writeFileSync&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">writeFileSync&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">fs&lt;/span>.&lt;span style="color:#a6e22e">writeFileSync&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>)}}&lt;span style="color:#a6e22e">lodash_get&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>){&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">replace&lt;/span>(&lt;span style="color:#e6db74">/\[(\d+)\]/g&lt;/span>,&lt;span style="color:#e6db74">&amp;#34;.$1&amp;#34;&lt;/span>).&lt;span style="color:#a6e22e">split&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;.&amp;#34;&lt;/span>);&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>;&lt;span style="color:#66d9ef">for&lt;/span>(&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span> &lt;span style="color:#66d9ef">of&lt;/span> &lt;span style="color:#a6e22e">i&lt;/span>)&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>Object(&lt;span style="color:#a6e22e">o&lt;/span>)[&lt;span style="color:#a6e22e">t&lt;/span>],&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">===&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>)&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>;&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">o&lt;/span>}&lt;span style="color:#a6e22e">lodash_set&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> Object(&lt;span style="color:#a6e22e">t&lt;/span>)&lt;span style="color:#f92672">!==&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(Array.&lt;span style="color:#a6e22e">isArray&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>)&lt;span style="color:#f92672">||&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">toString&lt;/span>().&lt;span style="color:#a6e22e">match&lt;/span>(&lt;span style="color:#e6db74">/[^.[\]]+/g&lt;/span>)&lt;span style="color:#f92672">||&lt;/span>[]),&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">slice&lt;/span>(&lt;span style="color:#ae81ff">0&lt;/span>,&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>).&lt;span style="color:#a6e22e">reduce&lt;/span>((&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)=&amp;gt;Object(&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>])&lt;span style="color:#f92672">===&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>]&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>]&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>]&lt;span style="color:#f92672">=&lt;/span>Math.&lt;span style="color:#a6e22e">abs&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>])&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">==+&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>[&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]&lt;span style="color:#f92672">?&lt;/span>[]&lt;span style="color:#f92672">:&lt;/span>{},&lt;span style="color:#a6e22e">t&lt;/span>)[&lt;span style="color:#a6e22e">s&lt;/span>[&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">length&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]]&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>)}&lt;span style="color:#a6e22e">getdata&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">getval&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>);&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#e6db74">/^@/&lt;/span>.&lt;span style="color:#a6e22e">test&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)){&lt;span style="color:#66d9ef">const&lt;/span>[,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>]&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/^@(.*?)\.(.*?)$/&lt;/span>.&lt;span style="color:#a6e22e">exec&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>),&lt;span style="color:#a6e22e">o&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">getval&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>;&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#a6e22e">o&lt;/span>)&lt;span style="color:#66d9ef">try&lt;/span>{&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">JSON&lt;/span>.&lt;span style="color:#a6e22e">parse&lt;/span>(&lt;span style="color:#a6e22e">o&lt;/span>);&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">lodash_get&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>}&lt;span style="color:#66d9ef">catch&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>}}&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">s&lt;/span>}&lt;span style="color:#a6e22e">setdata&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=!&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#e6db74">/^@/&lt;/span>.&lt;span style="color:#a6e22e">test&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>)){&lt;span style="color:#66d9ef">const&lt;/span>[,&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>]&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/^@(.*?)\.(.*?)$/&lt;/span>.&lt;span style="color:#a6e22e">exec&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>),&lt;span style="color:#a6e22e">h&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">getval&lt;/span>(&lt;span style="color:#a6e22e">i&lt;/span>),&lt;span style="color:#a6e22e">a&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#e6db74">&amp;#34;null&amp;#34;&lt;/span>&lt;span style="color:#f92672">===&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">null&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{}&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{}&amp;#34;&lt;/span>;&lt;span style="color:#66d9ef">try&lt;/span>{&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">JSON&lt;/span>.&lt;span style="color:#a6e22e">parse&lt;/span>(&lt;span style="color:#a6e22e">a&lt;/span>);&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">lodash_set&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>),&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setval&lt;/span>(&lt;span style="color:#a6e22e">JSON&lt;/span>.&lt;span style="color:#a6e22e">stringify&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>),&lt;span style="color:#a6e22e">i&lt;/span>)}&lt;span style="color:#66d9ef">catch&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">h&lt;/span>&lt;span style="color:#f92672">=&lt;/span>{};&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">lodash_set&lt;/span>(&lt;span style="color:#a6e22e">h&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>),&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">setval&lt;/span>(&lt;span style="color:#a6e22e">JSON&lt;/span>.&lt;span style="color:#a6e22e">stringify&lt;/span>(&lt;span style="color:#a6e22e">h&lt;/span>),&lt;span style="color:#a6e22e">i&lt;/span>)}}&lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">setval&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>);&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>}&lt;span style="color:#a6e22e">getval&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$persistentStore&lt;/span>.&lt;span style="color:#a6e22e">read&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$prefs&lt;/span>.&lt;span style="color:#a6e22e">valueForKey&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isNode&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">loaddata&lt;/span>(),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>[&lt;span style="color:#a6e22e">t&lt;/span>])&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>[&lt;span style="color:#a6e22e">t&lt;/span>]&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">null&lt;/span>}&lt;span style="color:#a6e22e">setval&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$persistentStore&lt;/span>.&lt;span style="color:#a6e22e">write&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$prefs&lt;/span>.&lt;span style="color:#a6e22e">setValueForKey&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isNode&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">loaddata&lt;/span>(),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>[&lt;span style="color:#a6e22e">s&lt;/span>]&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">writedata&lt;/span>(),&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">data&lt;/span>[&lt;span style="color:#a6e22e">s&lt;/span>]&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">null&lt;/span>}&lt;span style="color:#a6e22e">initGotEnv&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">got&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">got&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">got&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">require&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;got&amp;#34;&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">cktough&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">cktough&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">cktough&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">require&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;tough-cookie&amp;#34;&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">ckjar&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">ckjar&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">ckjar&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">cktough&lt;/span>.&lt;span style="color:#a6e22e">CookieJar&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>{},&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">===&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>.&lt;span style="color:#a6e22e">Cookie&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">===&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">cookieJar&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">cookieJar&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">ckjar&lt;/span>))}&lt;span style="color:#a6e22e">get&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>(()=&amp;gt;{})){&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#66d9ef">delete&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;Content-Type&amp;#34;&lt;/span>],&lt;span style="color:#66d9ef">delete&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;Content-Length&amp;#34;&lt;/span>]),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$httpClient&lt;/span>.&lt;span style="color:#a6e22e">get&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)=&amp;gt;{&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">status&lt;/span>),&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)})&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$task&lt;/span>.&lt;span style="color:#a6e22e">fetch&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>).&lt;span style="color:#a6e22e">then&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;{&lt;span style="color:#66d9ef">const&lt;/span>{&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>}&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#66d9ef">null&lt;/span>,{&lt;span style="color:#a6e22e">status&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>},&lt;span style="color:#a6e22e">h&lt;/span>)},&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>))&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isNode&lt;/span>()&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">initGotEnv&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">got&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>).&lt;span style="color:#a6e22e">on&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;redirect&amp;#34;&lt;/span>,(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>)=&amp;gt;{&lt;span style="color:#66d9ef">try&lt;/span>{&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;set-cookie&amp;#34;&lt;/span>].&lt;span style="color:#a6e22e">map&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">cktough&lt;/span>.&lt;span style="color:#a6e22e">Cookie&lt;/span>.&lt;span style="color:#a6e22e">parse&lt;/span>).&lt;span style="color:#a6e22e">toString&lt;/span>();&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">ckjar&lt;/span>.&lt;span style="color:#a6e22e">setCookieSync&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#66d9ef">null&lt;/span>),&lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">cookieJar&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">ckjar&lt;/span>}&lt;span style="color:#66d9ef">catch&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logErr&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)}}).&lt;span style="color:#a6e22e">then&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;{&lt;span style="color:#66d9ef">const&lt;/span>{&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>}&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#66d9ef">null&lt;/span>,{&lt;span style="color:#a6e22e">status&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>},&lt;span style="color:#a6e22e">h&lt;/span>)},&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)))}&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>(()=&amp;gt;{})){&lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;!&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;Content-Type&amp;#34;&lt;/span>]&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;Content-Type&amp;#34;&lt;/span>]&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;application/x-www-form-urlencoded&amp;#34;&lt;/span>),&lt;span style="color:#66d9ef">delete&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">headers&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;Content-Length&amp;#34;&lt;/span>],&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>())&lt;span style="color:#a6e22e">$httpClient&lt;/span>.&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)=&amp;gt;{&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>.&lt;span style="color:#a6e22e">status&lt;/span>),&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>)});&lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>())&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">method&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;POST&amp;#34;&lt;/span>,&lt;span style="color:#a6e22e">$task&lt;/span>.&lt;span style="color:#a6e22e">fetch&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>).&lt;span style="color:#a6e22e">then&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;{&lt;span style="color:#66d9ef">const&lt;/span>{&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>}&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#66d9ef">null&lt;/span>,{&lt;span style="color:#a6e22e">status&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>},&lt;span style="color:#a6e22e">h&lt;/span>)},&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>));&lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isNode&lt;/span>()){&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">initGotEnv&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>);&lt;span style="color:#66d9ef">const&lt;/span>{&lt;span style="color:#a6e22e">url&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,...&lt;span style="color:#a6e22e">i&lt;/span>}&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>;&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">got&lt;/span>.&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>).&lt;span style="color:#a6e22e">then&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;{&lt;span style="color:#66d9ef">const&lt;/span>{&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>}&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#66d9ef">null&lt;/span>,{&lt;span style="color:#a6e22e">status&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">statusCode&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">headers&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">o&lt;/span>,&lt;span style="color:#a6e22e">body&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">h&lt;/span>},&lt;span style="color:#a6e22e">h&lt;/span>)},&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;&lt;span style="color:#a6e22e">s&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>))}}&lt;span style="color:#a6e22e">time&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>{&lt;span style="color:#e6db74">&amp;#34;M+&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getMonth&lt;/span>()&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#e6db74">&amp;#34;d+&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getDate&lt;/span>(),&lt;span style="color:#e6db74">&amp;#34;H+&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getHours&lt;/span>(),&lt;span style="color:#e6db74">&amp;#34;m+&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getMinutes&lt;/span>(),&lt;span style="color:#e6db74">&amp;#34;s+&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getSeconds&lt;/span>(),&lt;span style="color:#e6db74">&amp;#34;q+&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>Math.&lt;span style="color:#a6e22e">floor&lt;/span>(((&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getMonth&lt;/span>()&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span>)&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span>),&lt;span style="color:#a6e22e">S&lt;/span>&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getMilliseconds&lt;/span>()};&lt;span style="color:#e6db74">/(y+)/&lt;/span>.&lt;span style="color:#a6e22e">test&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">replace&lt;/span>(RegExp.&lt;span style="color:#a6e22e">$1&lt;/span>,((&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getFullYear&lt;/span>()&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>).&lt;span style="color:#a6e22e">substr&lt;/span>(&lt;span style="color:#ae81ff">4&lt;/span>&lt;span style="color:#f92672">-&lt;/span>RegExp.&lt;span style="color:#a6e22e">$1&lt;/span>.&lt;span style="color:#a6e22e">length&lt;/span>)));&lt;span style="color:#66d9ef">for&lt;/span>(&lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span> &lt;span style="color:#66d9ef">in&lt;/span> &lt;span style="color:#a6e22e">s&lt;/span>)&lt;span style="color:#66d9ef">new&lt;/span> RegExp(&lt;span style="color:#e6db74">&amp;#34;(&amp;#34;&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#e6db74">&amp;#34;)&amp;#34;&lt;/span>).&lt;span style="color:#a6e22e">test&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">replace&lt;/span>(RegExp.&lt;span style="color:#a6e22e">$1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">==&lt;/span>RegExp.&lt;span style="color:#a6e22e">$1&lt;/span>.&lt;span style="color:#a6e22e">length&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>]&lt;span style="color:#f92672">:&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;00&amp;#34;&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>]).&lt;span style="color:#a6e22e">substr&lt;/span>((&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#a6e22e">s&lt;/span>[&lt;span style="color:#a6e22e">e&lt;/span>]).&lt;span style="color:#a6e22e">length&lt;/span>)));&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>}&lt;span style="color:#a6e22e">msg&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#a6e22e">o&lt;/span>){&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">h&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>=&amp;gt;&lt;span style="color:#f92672">!&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">||!&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">&amp;#34;string&amp;#34;&lt;/span>&lt;span style="color:#f92672">==&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>{&lt;span style="color:#e6db74">&amp;#34;open-url&amp;#34;&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>}&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#e6db74">&amp;#34;object&amp;#34;&lt;/span>&lt;span style="color:#f92672">==&lt;/span>&lt;span style="color:#66d9ef">typeof&lt;/span> &lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;open-url&amp;#34;&lt;/span>]&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;media-url&amp;#34;&lt;/span>])&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;open-url&amp;#34;&lt;/span>]&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;&lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">isMute&lt;/span>&lt;span style="color:#f92672">||&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>()&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$notification&lt;/span>.&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">h&lt;/span>(&lt;span style="color:#a6e22e">o&lt;/span>))&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">$notify&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">e&lt;/span>,&lt;span style="color:#a6e22e">i&lt;/span>,&lt;span style="color:#a6e22e">h&lt;/span>(&lt;span style="color:#a6e22e">o&lt;/span>))),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>.&lt;span style="color:#a6e22e">push&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#e6db74">&amp;#34;==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3==============&amp;#34;&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>.&lt;span style="color:#a6e22e">push&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>),&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>.&lt;span style="color:#a6e22e">push&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>),&lt;span style="color:#a6e22e">i&lt;/span>&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>.&lt;span style="color:#a6e22e">push&lt;/span>(&lt;span style="color:#a6e22e">i&lt;/span>)}&lt;span style="color:#a6e22e">log&lt;/span>(...&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">length&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>&lt;span style="color:#f92672">=&lt;/span>[...&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>,...&lt;span style="color:#a6e22e">t&lt;/span>]&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logs&lt;/span>.&lt;span style="color:#a6e22e">join&lt;/span>(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">logSeparator&lt;/span>))}&lt;span style="color:#a6e22e">logErr&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>){&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=!&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">&amp;amp;&amp;amp;!&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">&amp;amp;&amp;amp;!&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>();&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">?&lt;/span>&lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#e6db74">`\u2757\ufe0f&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">, \u9519\u8bef!`&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>.&lt;span style="color:#a6e22e">stack&lt;/span>)&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#a6e22e">$&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#e6db74">`\u2757\ufe0f&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">, \u9519\u8bef!`&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>)}&lt;span style="color:#a6e22e">wait&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Promise(&lt;span style="color:#a6e22e">s&lt;/span>=&amp;gt;&lt;span style="color:#a6e22e">setTimeout&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>,&lt;span style="color:#a6e22e">t&lt;/span>))}&lt;span style="color:#a6e22e">done&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>&lt;span style="color:#f92672">=&lt;/span>{}){&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> Date).&lt;span style="color:#a6e22e">getTime&lt;/span>(),&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">startTime&lt;/span>)&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">1e3&lt;/span>;&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>,&lt;span style="color:#e6db74">`\ud83d\udd14&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">, \u7ed3\u675f! \ud83d\udd5b &lt;/span>&lt;span style="color:#e6db74">${&lt;/span>&lt;span style="color:#a6e22e">e&lt;/span>&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74"> \u79d2`&lt;/span>),&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(),(&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isSurge&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isQuanX&lt;/span>()&lt;span style="color:#f92672">||&lt;/span>&lt;span style="color:#66d9ef">this&lt;/span>.&lt;span style="color:#a6e22e">isLoon&lt;/span>())&lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">$done&lt;/span>(&lt;span style="color:#a6e22e">t&lt;/span>)}}(&lt;span style="color:#a6e22e">t&lt;/span>,&lt;span style="color:#a6e22e">s&lt;/span>)}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>稍作解释一下:&lt;/p>
&lt;ul>
&lt;li>行 2: 导入脚本时候的默认定时配置&lt;/li>
&lt;li>行 10: 导入脚本时候的名字&lt;/li>
&lt;li>行 32: 从 &lt;a href="https://github.com/whyour/qinglong/blob/develop/sample/notify.js">官方脚本&lt;/a> 中复制出来，里面有一些常用功能.&lt;/li>
&lt;/ul>
&lt;p>其中 &lt;code>ENV&lt;/code> 中的常用函数:&lt;/p>
&lt;ul>
&lt;li>&lt;code>$.getdata(key)&lt;/code>: 从文件读取数据&lt;/li>
&lt;li>&lt;code>$.setdata(data, key)&lt;/code>: 写数据到文件中&lt;/li>
&lt;li>&lt;code>$.wait(ms)&lt;/code>: 等待多少毫秒&lt;/li>
&lt;li>&lt;code>$.log(str)&lt;/code>: 写日志&lt;/li>
&lt;li>&lt;code>$.msg(str)&lt;/code>: 写消息，会添加一条明显的提示线，区别于写日志&lt;/li>
&lt;li>&lt;code>$.done()&lt;/code>: 标记完成，会输入脚本运行时间以及对应的日志&lt;/li>
&lt;/ul>
&lt;p>除了 &lt;code>ENV&lt;/code>, 其他的代码就跟&lt;code>平台&lt;/code>无关了，你可以自由的发挥。如果引入了其他模块，可以在后台的&lt;code>依赖管理&lt;/code>中添加.&lt;/p>
&lt;h1 id="脚本推荐">脚本推荐&lt;/h1>
&lt;p>&lt;a href="https://www.luomubiji.host/?p=454#%E6%80%A8%E5%BF%B5">https://www.luomubiji.host/?p=454#%E6%80%A8%E5%BF%B5&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://github.com/ccwav/QLScript2">https://github.com/ccwav/QLScript2&lt;/a>&lt;/p>
&lt;ul>
&lt;li>CK 管理、通知、资产（京豆等）检查&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://github.com/leafTheFish/DeathNote">https://github.com/leafTheFish/DeathNote&lt;/a>&lt;/p>
&lt;ul>
&lt;li>这里有很多厂家的应用活动。还有美团和饿了么&lt;/li>
&lt;li>TODO: 人称诺兰？&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://github.com/walle1798/EVE">https://github.com/walle1798/EVE&lt;/a> # 京东脚本&lt;/p>
&lt;p>&lt;a href="https://github.com/smiek2121/scripts">https://github.com/smiek2121/scripts&lt;/a> # 京东脚本&lt;/p>
&lt;p>&lt;a href="https://github.com/KingRan/KR">https://github.com/KingRan/KR&lt;/a> # 京东脚本&lt;/p>
&lt;p>&lt;a href="https://github.com/yuannian1112/jd_scripts">https://github.com/yuannian1112/jd_scripts&lt;/a> # 京东脚本&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/NobyDa">@NobyDa&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Aaron-lv">@Aaron-lv&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/chavyleung">@chavyleung&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/cdle">@cdle&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/smiek2221">@smiek2221&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/star261">@star261&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Wenmoux">@Wenmoux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Ariszy">@Ariszy&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/X1a0He">@X1a0He&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://github.com/Zy143L/wskey">https://github.com/Zy143L/wskey&lt;/a> # 处理 wskey，用于延长 ck 有效期？怎么用？&lt;/p>
&lt;p>&lt;a href="https://github.com/shufflewzc/faker2">https://github.com/shufflewzc/faker2&lt;/a>&lt;/p>
&lt;ul>
&lt;li>收集各个项目可用的京东脚本。作者写了很多文档。&lt;/li>
&lt;li>&lt;a href="https://www.fakerengine.com/">Faker 官网&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://thin-hill-428.notion.site/Faker-1c598629675145988b43a37998a1604a">Notion 文档&lt;/a>&lt;/li>
&lt;/ul>
&lt;h1 id="京东">京东&lt;/h1>
&lt;h2 id="获取京东-cookie">获取京东 cookie&lt;/h2>
&lt;p>chrome 浏览器去 &lt;a href="https://bean.m.jd.com/bean/signIndex.action">https://bean.m.jd.com/bean/signIndex.action&lt;/a> 获取 cookies：xx_key 然后 xx_pin，去仪表板添加环境 JD_COOKIE，值是 xx_key=xxx;xx_pin=xxx&lt;/p>
&lt;p>注意：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>如果京东用户名是中文的，获取 CK 的时候要把用户名改为 URL 编码格式，否则脚本没办法识别。&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="添加任务">添加任务&lt;/h2>
&lt;p>常见的任务需要逐步总结，或者形成自己的仓库。&lt;/p>
&lt;h3 id="faker2-任务">faker2 任务&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ql repo https://git.metauniverse-cn.com/https://github.com/shufflewzc/faker2.git &lt;span style="color:#e6db74">&amp;#34;jd_|jx_|gua_|jddj_|jdCookie&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;activity|backUp&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;^jd[^_]|USER|function|utils|sendNotify|ZooFaker_Necklace.js|JDJRValidator_|sign_graphics_validate|ql|JDSignValidator|magic|depend|h5sts&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;main&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>该命令可以从 &lt;a href="https://github.com/shufflewzc/faker2.git">shufflewzc/faker2&lt;/a> 项目获得。&lt;/p>
&lt;p>安装依赖，进入青龙执行项目根目录下的 jd_indeps.sh 脚本。&lt;/p>
&lt;h2 id="常见问题">常见问题&lt;/h2>
&lt;p>京喜工厂啥的没激活的话下京喜app，然后进去激活下相关的&lt;/p>
&lt;p>京东 ck 每隔几点就会掉线，需要重新登录，解决办法：&lt;/p>
&lt;ul>
&lt;li>Faker 的 &lt;a href="https://t.me/ChriszZlc">tg 群&lt;/a> 里有 10 月 9 日的置顶消息，作者问 &lt;code>取cookie有什么好办法&lt;/code>，后面有很多建议
&lt;ul>
&lt;li>&lt;a href="https://github.com/Waikkii/JD_Get_Cookie">https://github.com/Waikkii/JD_Get_Cookie&lt;/a> 自动获取 ck 并更新到青龙。很久不更新了，群友提供了个更好的，放在了 &lt;a href="https://github.com/DesistDaydream/qinglong-scripts">https://github.com/DesistDaydream/qinglong-scripts&lt;/a>&lt;/li>
&lt;li>调用 chromedriver 是什么意思？&lt;/li>
&lt;li>需要验证。leafTheFish 的 &lt;a href="https://t.me/lululuDaily">tg 群&lt;/a> 提供一个上车的链接 &lt;a href="https://ark.leafxxx.win/#/login">https://ark.leafxxx.win/#/login&lt;/a> ，不知道啥意思&lt;/li>
&lt;li>需要验证。使用 alook 浏览器&lt;/li>
&lt;li>faker2 里有个 wskey.py 的任务，好像是可以更新 ck。待验证&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="美团">美团&lt;/h1>
&lt;p>&lt;a href="https://github.com/leafTheFish/DeathNote/blob/main/meituanV3.js">https://github.com/leafTheFish/DeathNote/blob/main/meituanV3.js&lt;/a>&lt;/p>
&lt;h2 id="获取认证信息">获取认证信息&lt;/h2>
&lt;p>&lt;img src="https://notes-learning.oss-cn-beijing.aliyuncs.com/qinglong/202309081312242.png" alt="image.png | 500">&lt;/p>
&lt;p>&lt;a href="https://passport.meituan.com/useraccount/ilogin?risk_partner=0&amp;amp;risk_app=216&amp;amp;risk_platform=3&amp;amp;backurl=http%3A%2F%2Fmeishi.meituan.com%2Fi%2F%3Fci%3D290%26stid_b%3D1%26cevent%3Dimt%252Fhomepage%252Fcategory1%252F1">https://passport.meituan.com/useraccount/ilogin?risk_partner=0&amp;amp;risk_app=216&amp;amp;risk_platform=3&amp;amp;backurl=http%3A%2F%2Fmeishi.meituan.com%2Fi%2F%3Fci%3D290%26stid_b%3D1%26cevent%3Dimt%252Fhomepage%252Fcategory1%252F1&lt;/a>&lt;/p>
&lt;p>&lt;code>*.meituan.com&lt;/code>，通常是从 &lt;a href="https://passport.meituan.com/api/v3/account/mobilelogin">https://passport.meituan.com/api/v3/account/mobilelogin&lt;/a> 接口下获取 &lt;code>token&lt;/code> 与 &lt;code>userID&lt;/code>&lt;/p>
&lt;p>自行捉包把 token(一般在请求头里)填到变量 meituanCookie 中, 多账号换行或 &lt;code>&amp;amp;&lt;/code> 或 &lt;code>@&lt;/code> 隔开&lt;/p>
&lt;p>export meituanCookie=&amp;ldquo;AgGZIgsYHyxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&amp;rdquo;&lt;/p>
&lt;p>可用的连接&lt;/p>
&lt;ul>
&lt;li>i.meituan.com&lt;/li>
&lt;/ul>
&lt;h2 id="加任务">加任务&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ql raw https://ghproxy.com/https://raw.githubusercontent.com/leafTheFish/DeathNote/main/meituanV3.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="饿了么">饿了么&lt;/h1>
&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ql raw https://ghproxy.com/https://raw.githubusercontent.com/leafTheFish/DeathNote/main/elm.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>获取认证信息&lt;/p>
&lt;p>&lt;a href="https://h5.ele.me">https://h5.ele.me&lt;/a>&lt;/p>
&lt;p>在某个接口的请求头的 cookie 中获取 &lt;code>SID&lt;/code> 与 &lt;code>cookie2&lt;/code>，接口通常是：&lt;a href="https://waimai-guide.ele.me/h5/mtop.alsc.personal.queryminecenter">https://waimai-guide.ele.me/h5/mtop.alsc.personal.queryminecenter&lt;/a>&lt;/p></description></item></channel></rss>